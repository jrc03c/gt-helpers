(()=>{var Nr=(i=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(i,{get:(n,s)=>(typeof require!="undefined"?require:n)[s]}):i)(function(i){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+i+'" is not supported')});var v=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports);var me=v((w1,di)=>{var pi=class extends Error{constructor(n){typeof window<"u"?super(n):super(`

\x1B[31m`+n+`
\x1B[0m`)}};di.exports=pi});var S=v((T1,mi)=>{var dp=me();mi.exports=function(i,n){if(!i)throw new dp(n)}});var A=v((N1,gi)=>{function mp(i){return i===null||typeof i>"u"}gi.exports=mp});var R=v((x1,yi)=>{function gp(i){return i instanceof Array}yi.exports=gp});var _=v((O1,wi)=>{var vi=S(),yp=A(),qi=R();function bi(i){vi(!yp(i),"You must pass one array into the `flatten` function!"),vi(qi(i),"The `flatten` function only works on arrays!");let n=[];return i.forEach(function(s){qi(s)?n=n.concat(bi(s)):n.push(s)}),n}wi.exports=bi});var Ne=v((S1,Ni)=>{var k1=R();function Ti(i,n){let s=typeof i;if(s!==typeof n)return!1;if(s==="undefined")return!0;if(s==="boolean"||s==="number"||s==="bigint"||s==="string"||s==="function")return i===n;if(s==="object"){if(i===null||n===null)return i===null&&n===null;{let a=Object.keys(i),l=Object.keys(n);if(a.length!==l.length)return!1;for(let p=0;p<a.length;p++){let d=a[p];if(!n.hasOwnProperty(d)||!Ti(i[d],n[d]))return!1}return!0}}}Ni.exports=Ti});var ge=v((E1,Oi)=>{var xi=S(),vp=A(),qp=R(),bp=_();function wp(i){xi(!vp(i),"You must pass an array into the `set` function!"),xi(qp(i),"You must pass an array into the `set` function!");let n=[],s={};return bp(i).forEach(u=>{let a=typeof u>"u"?"undefined":typeof u=="function"?u.toString():JSON.stringify(u);s[a]||n.push(u),s[a]=!0}),n}Oi.exports=wp});var kt=v((A1,Mi)=>{var ki=S(),Si=A(),Ei=R(),Ai=_(),Tp=Ne(),Np=ge();function xp(i,n){ki(!Si(i),"You must pass an array and some items to count into the `count` function!"),ki(Ei(i),"You must pass an array and some items to count into the `count` function!");let s=Ai(i);return n=Si(n)?Np(i):n,Ei(n)?Ai(n).map(function(u){let a=s.filter(l=>Tp(u,l)).length;return{item:u,count:a}}):s.filter(u=>u===n).length}Mi.exports=xp});var ae=v((F1,Fi)=>{var M1=S(),Op=A(),kp=R();function xr(i){if(typeof i=="object"){if(Op(i))return i;if(kp(i))return i.map(xr);{let n={};return Object.keys(i).forEach(function(s){n[s]=xr(i[s])}),n}}else return i}Fi.exports=xr});var E=v((R1,Ri)=>{function Sp(i){return typeof i=="number"&&!isNaN(i)}Ri.exports=Sp});var xe=v((I1,Ii)=>{var Ep=_(),Ap=E();function Mp(i){try{let n=Ep(i),s=-1/0;for(let u=0;u<n.length;u++){if(!Ap(n[u]))return NaN;n[u]>s&&(s=n[u])}return s===-1/0?NaN:s}catch{return NaN}}Ii.exports=Mp});var C=v((L1,Vi)=>{var St=S(),Fp=A(),Li=R(),Rp=xe();function Pi(i){St(!Fp(i),"You must pass an array into the `shape` function!"),St(Li(i),"You must pass an array into the `shape` function!");let n=[i.length],s=i.map(u=>Li(u));if(s.indexOf(!0)>-1){St(s.indexOf(!1)<0,"The array passed into the `shape` function has some children that are not themselves arrays!");let u=i.map(l=>l.length),a=Rp(u);u.forEach(function(l){St(l===a,"The array passed into the `shape` function has some children of inconsistent length!")}),n=n.concat(Pi(i[0]))}return n}Vi.exports=Pi});var ye=v((P1,Ci)=>{function Ip(i){return typeof i=="function"}Ci.exports=Ip});var ce=v((V1,Di)=>{var Or=S(),zi=A(),Lp=R(),Pp=ye();function Vp(i,n){return i<n?-1:i>n?1:0}function Cp(i,n){zi(n)&&(n=Vp),Or(!zi(i),"You must pass an array into the `sort` function!"),Or(Lp(i),"You must pass an array into the `sort` function!"),Or(Pp(n),"The second parameter of the `sort` function must be a comparison function!");let s=i.slice();return s.sort(n),s}Di.exports=Cp});var Yi=v((C1,ji)=>{var Et=S(),Ui=ae(),zp=R(),Bi=Ne(),_i=me(),Dp=C(),At=ce();function kr(i,n,s,u){if(u instanceof n){Et(Bi(At(s.columns),At(u.index)),"The index of the incoming Series must match the columns of the target DataFrame!");let a=Ui(s.values);a.push(s.columns.map(d=>u.get(d)));let l=new i(a);l.columns=s.columns;let p=!0;return l.resetIndex(p)}else if(u instanceof i){Et(Bi(At(s.columns),At(u.columns)),"The columns of the incoming DataFrame must match the columns of the target DataFrame!");let a=Ui(s.values);u.values.forEach(d=>{a.push(s.columns.map(q=>{let b=u.columns.indexOf(q);return d[b]}))});let l=new i(a);l.columns=s.columns;let p=!0;return l.resetIndex(p)}else if(zp(u)){let a=Dp(u);if(a.length===1){Et(u.length===s.columns.length,"When passing a 1-dimensional array into the `append` method, the array must have the same length as the number of columns in the target DataFrame!");let l=new n(u);return l.index=s.columns,kr(i,n,s,l)}else if(a.length===2){Et(a[1]===s.columns.length,"When passing a 2-dimensional array into the `append` method, each row of the array must have the same length as the number of columns in the target DataFrame!");let l=new i(u);return l.columns=s.columns,kr(i,n,s,l)}else throw new _i("When passing an array into the `append` method, the array must be 1- or 2-dimensional! If 1-dimensional, it must be as long as the number of columns in the target DataFrame. If 2-dimensional, each row must be as long as the number of columns in the target DataFrame.")}else throw new _i("Only Series, DataFrames, and 1- or 2-dimensional arrays can be passed into the `append` method!")}ji.exports=kr});var Gi=v((z1,Ji)=>{var Hi=S(),Up=ye(),Wi=R(),$i=A();function Bp(i,n,s,u,a){if(a=a||0,Hi(Up(u),"The first parameter to the `apply` method must be a function."),Hi(a===0||a===1,"The second parameter to the `apply` method (the `axis`) must be 0 or 1."),a===0){let l={},p;if(s.columns.forEach((d,q)=>{let b=new n(s.values.map(F=>F[q]));b.name=d,b.index=s.index;let w=u(b,q,s);w instanceof n?l[d]=w.values:l[d]=w,$i(p)&&(p=w instanceof n||Wi(w))}),p){let d=new i(l);return d.index=s.index,d}else{let d=new n(s.columns.map(q=>l[q]));return d.index=s.columns,d}}else if(a===1){let l,p=s.values.map((d,q)=>{let b=new n(d);b.name=s.index[q],b.index=s.columns;let w=u(b,q,s);return $i(l)&&(l=w instanceof n||Wi(w)),w instanceof n?w.values:w});if(l){let d=new i(p);return d.index=s.index,d.columns=s.columns,d}else{let d=new n(p);return d.index=s.index,d}}}Ji.exports=Bp});var Mt=v((D1,Qi)=>{var _p=R(),jp=A();function Yp(i){return typeof i=="object"&&!jp(i)&&!_p(i)}Qi.exports=Yp});var W=v((U1,Ki)=>{function Hp(i){return typeof i=="string"}Ki.exports=Hp});var ts=v((B1,es)=>{var Oe=S(),Xi=R(),Wp=Mt(),$p=W(),Jp=A(),Zi=C(),Gp=ae(),Sr=me(),Qp=ce();function Kp(i,n,s,u,a){let l=O=>O instanceof n,p=(()=>{let O={};if(Jp(a))if(l(u)){let M=s.index.map(L=>u.get(L));Oe(M.length===s.index.length,"Each column of values to be assigned must have the same length as the number of rows in the target DataFrame!"),O[u.name]=M}else if(Wp(u))Object.keys(u).forEach(M=>{let L=u[M];if(l(L)){let P=s.index.map($=>L.get($));Oe(P.length===s.index.length,"Each column of values to be assigned must have the same length as the number of rows in the target DataFrame!"),O[M]=P}else if(Xi(L))Oe(Zi(L).length===1,"When using a single argument for the `assign` method, the argument must be either (1) a Series, or (2) an object consisting of key-value pairs where each key is a string representing a column name and each value is a one-dimensional array or Series!"),Oe(L.length===s.index.length,"Each column of values to be assigned must have the same length as the number of rows in the target DataFrame!"),O[M]=L;else throw new Sr("When using a single argument for the `assign` method, the argument must be either (1) a Series, or (2) an object consisting of key-value pairs where each key is a string representing a column name and each value is a one-dimensional array or Series!")});else throw new Sr("When using a single argument for the `assign` method, the argument must be either (1) a Series, or (2) an object consisting of key-value pairs where each key is a string representing a column name and each value is a one-dimensional array or Series!");else if(Oe($p(u),"When using two arguments for the `assign` method, the first argument must be a string representing a column name, and the second argument must be a one-dimensional array or Series!"),l(a)){let M=s.index.map(L=>a.get(L));Oe(M.length===s.index.length,"The one-dimensional array or Series to be assigned must have the same length as the number of rows in the target DataFrame!"),O[u]=M}else if(Xi(a))Oe(Zi(a).length===1,"When using two arguments for the `assign` method, the first argument must be a string representing a column name, and the second argument must be a one-dimensional array or Series!"),Oe(a.length===s.index.length,"The one-dimensional array or Series to be assigned must have the same length as the number of rows in the target DataFrame!"),O[u]=a;else throw new Sr("When using two arguments for the `assign` method, the first argument must be a string representing a column name, and the second argument must be a one-dimensional array or Series!");return O})(),d=s.columns,q=s.index,b=Gp(s.values),w=Qp(Object.keys(p));b.forEach((O,M)=>{w.forEach(L=>{O.push(p[L][M])})});let F=new i(b);return F.columns=d.concat(w),F.index=q,F}es.exports=Kp});var ns=v((_1,rs)=>{var Xp=ae();function Zp(i,n){if(n.isEmpty)return new i;let s=new i(Xp(n.values));return s.columns=n.columns.slice(),s.index=n.index.slice(),s}rs.exports=Zp});var ls=v((j1,cs)=>{var Ft=S(),is=R(),ss=E(),os=W(),us=A(),as=C();function ed(i,n,s,u,a){us(u)&&(u=[]),us(a)&&(a=[]),(os(u)||ss(u))&&(u=[u]),(os(a)||ss(a))&&(a=[a]),Ft(is(u),"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings."),Ft(is(a),"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings."),Ft(as(u).length===1,"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings."),Ft(as(a).length===1,"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings.");let l,p;s.index.forEach((q,b)=>{u.indexOf(q)<0&&u.indexOf(b)<0&&(l||(l=[]),l.push(q))}),s.columns.forEach((q,b)=>{a.indexOf(q)<0&&a.indexOf(b)<0&&(p||(p=[]),p.push(q))});let d=s.get(l,p);if(d instanceof n){let q=new i;q=q.assign(d),s.index.indexOf(d.name)>-1&&(q=q.transpose()),d=q}return d}cs.exports=ed});var et=v((Y1,fs)=>{var td=E();function rd(i){return td(i)&&parseInt(i)===i}function nd(i){return rd(i)&&i>=0}fs.exports=nd});var ps=v((H1,hs)=>{var Er=S(),id=W(),Rt=A(),sd=et(),od=C();function ud(i,n,s,u,a,l){u=u||0,Er(u===0||u===1,"The first parameter of the `dropMissing` method (the `axis`) must be 0 or 1."),l=l||0,Er(sd(l),"The third parameter of the `dropMissing` method (the `threshold`) should be a whole number (meaning that data should be dropped if it contains more than `threshold` null values)."),a=l>0?"none":a||"any",Er(a==="any"||a==="all"||a==="none","The second parameter of the `dropMissing` method (the `condition` parameter, which indicates the condition under which data should be dropped) should be 'any' or 'all' (meaning that if 'any' of the data contains null values, then it should be dropped; or that if 'all' of the data contains null values, then it should be dropped).");function p(b){if(l>0){let w=0;for(let F=0;F<b.length;F++){let O=b[F];if(Rt(O)&&w++,w>=l)return[]}}else if(a==="any")for(let w=0;w<b.length;w++){let F=b[w];if(Rt(F))return[]}else if(a==="all"){for(let w=0;w<b.length;w++){let F=b[w];if(!Rt(F))return b}return[]}return b}let d=s.copy(),q=Math.random().toString();if(u===0){d=d.assign(q,d.index);let b=d.values.map(p).filter(F=>F.length>0);if(od(b).length<2)return new i;d.values=b;let w=d.get(null,q);if(Rt(w))return new i;id(w)&&(w=[w]),w instanceof n&&(w=w.values),d.index=w,d=d.drop(null,q)}else if(u===1){let b={};if(d.columns.forEach((F,O)=>{let M=d.values.map(P=>P[O]),L=p(M);L.length>0&&(b[F]=L)}),Object.keys(b).length===0)return new i;let w=new i(b);return w.index=d.index,w}return d}hs.exports=ud});var It=v((W1,ms)=>{var ds=S(),ad=R(),cd=A(),ld=E(),fd=C();function hd(i){return ds(ad(i),"The value passed into the `dropNaN` function must be a one-dimensional array!"),ds(fd(i).length===1,"The value passed into the `dropNaN` function must be a one-dimensional array"),i.filter(n=>!cd(n)&&ld(n))}ms.exports=hd});var ys=v(($1,gs)=>{var Ar=S(),pd=It(),dd=et();function md(i,n,s,u,a){s=s||0,Ar(s===0||s===1,"The first parameter of the `dropNaN` method (the `axis`) must be 0 or 1."),a=a||0,Ar(dd(a),"The third parameter of the `dropNaN` method (the `threshold`) should be a whole number (meaning that data should be dropped if it contains more than `threshold` NaN values)."),u=a>0?"none":u||"any",Ar(u==="any"||u==="all"||u==="none","The second parameter of the `dropNaN` method (the `condition` parameter, which indicates the condition under which data should be dropped) should be 'any' or 'all' (meaning that if 'any' of the data contains NaN values, then it should be dropped; or that if 'all' of the data contains NaN values, then it should be dropped).");function l(q){let b=pd(q);return a>0?q.length-b.length<a:u==="any"?b.length===q.length:u==="all"?b.length>0:!0}let p=n.copy(),d=Math.random().toString();if(s===0){let q=p.index.filter(b=>{let w=p.get(b,null).values;return l(w)});return q.length>0?p.get(q,null):new i}else if(s===1){let q=p.columns.filter(b=>{let w=p.get(null,b).values;return l(w)});return q.length>0?p.get(null,q):new i}return p}gs.exports=md});var ws=v((J1,bs)=>{var vs=S(),tt=_(),gd=ye(),yd=A();function qs(i){let n={};return tt(i).forEach((s,u)=>{n[s]=u}),n}function Ue(i){return Object.keys(i).sort((n,s)=>i[n]-i[s])}function vd(i,n,s,u,a){vs(gd(u),"The `filter` method takes a single parameter: a function that is used to filter the values."),yd(a)&&(a=0),vs(a===0||a===1,"The `axis` parameter to the `filter` method must be 0 or 1.");let l=s.copy();if(l.isEmpty)return l;let p=qs(l.index),d=qs(l.columns);if(a===0){let q=l.values.filter((b,w)=>{let F=new n(b);F.name=s.index[w],F.index=s.columns;let O=u(F,w,s);return O||delete p[l.index[w]],O});if(tt(q).length===0)return new i;if(q.length===1){let b=new n(tt(q));return b.name=Ue(p)[0],b.index=Ue(d),b}l.values=q,l.index=Ue(p)}else if(a===1){l=l.transpose();let q=l.values.filter((b,w)=>{let F=new n(b);F.name=s.columns[w],F.index=s.index;let O=u(F,w,s);return O||delete d[l.index[w]],O});if(tt(q).length===0)return new i;if(q.length===1){let b=new n(tt(q));return b.name=Ue(d)[0],b.index=Ue(p),b}l.values=q,l.index=Ue(d),l=l.transpose()}return l}bs.exports=vd});var Be=v((G1,Ts)=>{function qd(i){return typeof i=="boolean"}Ts.exports=qd});var rt=v((Q1,xs)=>{var Ns=S(),bd=A(),wd=R();function Td(i){Ns(!bd(i),"You must pass an array into the `reverse` function!"),Ns(wd(i),"You must pass an array into the `reverse` function!");let n=[];for(let s=i.length-1;s>=0;s--)n.push(i[s]);return n}xs.exports=Td});var ee=v((K1,Os)=>{var Mr=S(),Fr=A(),Rr=E(),Nd=rt();function xd(i,n,s=1){Mr(!Fr(i)&&!Fr(n)&&!Fr(s),"You must pass two numbers and optionally a step value to the `range` function!"),Mr(Rr(i)&&Rr(n)&&Rr(s),"You must pass two numbers and optionally a step value to the `range` function!"),Mr(s>0,"The step value must be greater than 0! (NOTE: The step value is a magnitude; it does not indicate direction.)");let u=!1;if(i>n){u=!0;let l=i;i=n+s,n=l+s}let a=[];for(let l=i;l<n;l+=s)a.push(l);return u&&(a=Nd(a)),a}Os.exports=xd});var Ir=v((X1,Es)=>{var ke=S(),Se=R(),ks=Be(),Lt=W(),Pt=A(),Vt=me(),Od=xe(),Ss=ee();function kd(i,n,s,u,a,l){return s=(()=>{if(Pt(s))return!1;if(ks(s))return s;throw new Vt("The `hasHeaderRow` parameter of the `fromCSV` method must be a boolean!")})(),u=(()=>{if(Pt(u))return!1;if(ks(u))return u;throw new Vt("The `hasIndexColumn` parameter of the `fromCSV` method must be a boolean!")})(),a=(()=>{let d="The `fieldDelimiter` parameter of the `fromCSV` method must be one of:\n\n1) a single-character string (e.g., ',')\n2) an array containing two single-character strings, one each for a left delimiter and a right delimiter (e.g., ['<', '>'])";if(Pt(a))return",";if(Lt(a))return ke(a.length===1,d),a;if(Se(a))return ke(a.length===2,d),ke(a[0].length===1,d),ke(a[1].length===1,d),a;throw new Vt(d)})(),l=(()=>{let d="The `stringDelimiter` parameter of the `fromCSV` method must be one of:\n\n1) a single-character string (e.g., '\"')\n2) an array containing two single-character strings, one each for a left delimiter and a right delimiter (e.g., ['\u201C', '\u201D'])";if(Pt(l))return'"';if(Lt(l))return ke(l.length===1,d),l;if(Se(l))return ke(l.length===2,d),ke(l[0].length===1,d),ke(l[1].length===1,d),l;throw new Vt(d)})(),(()=>{let q=n.split(`
`).filter(M=>M.length>0).map(M=>{let L=[],P="",$=!1;for(let te=0;te<M.length;te++){let J=M[te];if(J.match(/\\/g))te++;else if(Se(l)&&J===l[0])$=!0;else if(Se(l)&&J===l[1])$=!1;else if(Lt(l)&&J===l)$=!$;else if(Se(a)&&J===a[0]||Se(a)&&J===a[1]||Lt(a)&&J===a)if($)P+=J;else{let fe=P;try{let X=JSON.parse(fe);Se(X)?L.push(fe.trim()):L.push(X)}catch{L.push(fe.trim())}P=""}else P+=J}if(P.length>0){let te=P;try{let J=JSON.parse(te);Se(J)?L.push(te.trim()):L.push(J)}catch{L.push(te.trim())}}return L}),b=(()=>{let M=s?q.shift():Ss(0,q[0].length).map(L=>"col"+L);return u&&M.shift(),M})(),w=(()=>u?q.map(L=>L.shift()):Ss(0,q.length).map(L=>"row"+L))(),F=Od(q.map(M=>M.length)),O=new i(q.map(M=>(M.length=F,M)));return s&&(O.columns=b),u&&(O.index=w),O})()}Es.exports=kd});var Ms=v((Z1,As)=>{var Sd=S(),Ed=Ir(),Ad=W(),Md=A(),Fd=me();async function Rd(i,n,s,u,a,l,p){s=(()=>Md(s)?"utf8":(Sd(Ad(s),"The `encoding` parameter of the `fromCSV` method must be a string (e.g., 'utf8')!"),s))();let d=await(async()=>{try{return await(await fetch(n)).text()}catch{}try{return Nr("fs").readFileSync(n,s)}catch{}throw new Fd(`The path "${n}" could not be loaded!`)})();return Ed(i,d,u,a,l,p)}As.exports=Rd});var Is=v((e0,Rs)=>{var ie=S(),Ct=E(),zt=W(),Fs=A(),Id=ge();function Ld(i,n,s){(zt(n)||Ct(n))&&(n=[n]),(zt(s)||Ct(s))&&(s=[s]);let u=Id((n||[]).concat(s||[]).map(a=>typeof a));return ie(u.length<=2,"Only whole numbers and/or strings are allowed in `get` arrays!"),u.length===1&&ie(u[0]==="string"||u[0]==="number","Only whole numbers and/or strings are allowed in `get` arrays!"),u.length===2&&(ie(u.indexOf("string")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!"),ie(u.indexOf("number")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!")),Fs(n)||(n=n.map(a=>{if(zt(a))return ie(i.index.indexOf(a)>-1,`Row "${a}" does not exist!`),a;if(Ct(a))return ie(a>=0,`Index ${a} is out of bounds!`),ie(parseInt(a)===a,"Row numbers must be integers!"),ie(a<i.index.length,`Index ${a} is out of bounds!`),i.index[a]})),Fs(s)||(s=s.map(a=>{if(zt(a))return ie(i.columns.indexOf(a)>-1,`Column "${a}" does not exist!`),a;if(Ct(a))return ie(a>=0,`Column ${a} is out of bounds!`),ie(parseInt(a)===a,"Column numbers must be integers!"),ie(a<i.columns.length,`Column ${a} is out of bounds!`),i.columns[a]})),i.getSubsetByNames(n,s)}Rs.exports=Ld});var Cs=v((t0,Vs)=>{var Ls=S(),Ps=W(),Pd=A(),Vd=ge(),Cd=ce();function zd(i){let n=i.toLowerCase(),s="";for(let a=0;a<n.length;a++){let l=n[a];l.match(/[a-z0-9]/g)?s+=l:s+=" "}let u=s.split(" ").filter(a=>a.length>0);return u[0]+u.slice(1).map(a=>a[0].toUpperCase()+a.substring(1)).join("")}function Dd(i,n,s){Pd(s)?s=n.columns:Ps(s)&&(s=[s]);let u={};s.forEach(l=>{Ls(Ps(l),"You must pass either a string or a one-dimensional array of strings into the `getDummies` (AKA `oneHotEncode`) method!");let p=n.columns.indexOf(l);Ls(p>-1,`The given DataFrame does not have a column called "${l}"!`);let d=n.values.map(b=>b[p]),q=Cd(Vd(d));d.forEach(b=>{q.forEach(w=>{let F=l+"_"+zd(w.toString());u[F]||(u[F]=[]),b===w?u[F].push(1):u[F].push(0)})})});let a=new i(u);return a.index=n.index,a}Vs.exports=Dd});var Hs=v((r0,Ys)=>{var Ee=S(),zs=R(),Ds=E(),Us=A(),Bs=et(),_s=ee(),js=C();function Ud(i,n,s){let u=i.shape;Us(n)&&(n=_s(0,u[0])),Us(s)&&(s=_s(0,u[1])),Ds(n)&&(n=[n]),Ds(s)&&(s=[s]),Ee(zs(n)&&zs(s),"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),Ee(js(n).length===1&&js(s).length===1,"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),Ee(n.length>0,"The `rowIndices` array must contain at least one index."),Ee(s.length>0,"The `colIndices` array must contain at least one index."),n.forEach(p=>{Ee(Bs(p),"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),Ee(p<i.index.length,`The row index ${p} is out of bounds.`)}),s.forEach(p=>{Ee(Bs(p),"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),Ee(p<i.columns.length,`The column index ${p} is out of bounds.`)});let a=n.map(p=>i.index[p]),l=s.map(p=>i.columns[p]);return i.getSubsetByNames(a,l)}Ys.exports=Ud});var Qs=v((n0,Gs)=>{var Ae=S(),Lr=_(),Ws=R(),Dt=W(),$s=A(),Js=C();function Bd(i,n,s,u,a){$s(u)&&(u=s.index),$s(a)&&(a=s.columns),Dt(u)&&(u=[u]),Dt(a)&&(a=[a]),Ae(Ws(u)&&Ws(a),"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),Ae(Js(u).length===1&&Js(a).length===1,"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),Ae(u.length>0,"The `rows` array must contain at least one row name."),Ae(a.length>0,"The `cols` array must contain at least one column name."),u.forEach(d=>{Ae(Dt(d),"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),Ae(s.index.indexOf(d)>-1,`The row name "${d}" does not exist in the list of rows.`)}),a.forEach(d=>{Ae(Dt(d),"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),Ae(s.columns.indexOf(d)>-1,`The column name "${d}" does not exist in the list of columns.`)});let l=u.map(d=>a.map(q=>s.values[s.index.indexOf(d)][s.columns.indexOf(q)]));if(u.length===1&&a.length===1)return Lr(l)[0];if(u.length===1){let d=new n(Lr(l));return d.name=u[0],d.index=a,d}if(a.length===1){let d=new n(Lr(l));return d.name=a[0],d.index=u,d}let p=new i(l);return p.columns=a,p.index=u,p}Gs.exports=Bd});var nt=v((i0,Ks)=>{var _d=S(),jd=E();function Yd(i,n){_d(jd(i),"The `leftPad` function only works on numbers!");let s=i.toString();for(;s.length<n;)s="0"+s;return s}Ks.exports=Yd});var no=v((s0,ro)=>{var Ut=S(),Xs=ae(),Hd=R(),Zs=Ne(),eo=nt(),to=me(),Wd=C(),Bt=ce();function Pr(i,n,s,u){if(u instanceof n){Ut(Zs(Bt(u.index),Bt(s.index)),"The index of the incoming Series must match the index of the target DataFrame!");let a=Xs(s.values);s.index.forEach((p,d)=>{let q=u.get(p);a[d].push(q)});let l=new i(a);return l.columns=s.columns.concat([u.name]),l}else if(u instanceof i){Ut(Zs(Bt(u.index),Bt(s.index)),"The index of the incoming DataFrame must match the index of the target DataFrame!");let a=Xs(s.values);s.index.forEach((p,d)=>{let q=u.values[u.index.indexOf(p)];a[d]=a[d].concat(q)});let l=new i(a);return l.columns=s.columns.concat(u.columns),l}else if(Hd(u)){let a=Wd(u);if(a.length===1){Ut(u.length===s.values.length,"When passing a 1-dimensional array into the `join` method, the array must have the same length as the number of rows in the target DataFrame!");let l=new n(u);return l.index=s.index,l.name="col"+eo(s.columns.length,s.columns.length.toString().length),Pr(i,n,s,l)}else if(a.length===2){Ut(u.length===s.values.length,"When passing a 2-dimensional array into the `join` method, each column of the array must have the same length as the number of rows in the target DataFrame!");let l=new i(u);return l.index=s.index,l.columns=l.columns.map((p,d)=>"col"+eo(s.columns.length+d,s.columns.length.toString().length)),Pr(i,n,s,l)}else throw new to("When passing an array into the `join` method, the array must be 1- or 2-dimensional! If 1-dimensional, it must be as long as the number of rows of the target DataFrame. If 2-dimensional, each column must be as long as the number of rows in the target DataFrame.")}else throw new to("Only Series, DataFrames, and 1- or 2-dimensional arrays can be passed into the `join` method!")}ro.exports=Pr});var so=v((o0,io)=>{var $d=Ne(),Jd=W(),it=ee();function Gd(i,n,s){function u(O,M){return Jd(O)&&O.length>M?O.substring(0,M-3)+"...":O}if($d(s.shape,[0]))return console.table({}),s;let a=typeof window>"u"?20:10,l=parseInt(a/2),p=typeof window>"u"?Math.floor(process.stdout.columns/24)-1:10,d=parseInt(p/2),q=a>s.index.length?null:it(0,l).concat(it(s.index.length-l,s.index.length)),b=p>s.columns.length?null:it(0,d).concat(it(s.columns.length-d,s.columns.length)),w=s.get(q,b);w instanceof n&&(s.shape[0]===1?(w=new i([w.values]),w.index=s.index,w.columns=new n(s.columns).get(b).values):s.shape[1]===1&&(w=new i([w.values]).transpose(),w.index=new n(s.index).get(q).values,w.columns=s.columns)),a<=s.index.length&&(w._index.splice(l,0,"..."),w._values.splice(l,0,it(0,w.columns.length).map(O=>"..."))),p<=s.columns.length&&(w._columns.splice(d,0,"..."),w._values=w._values.map(O=>(O.splice(d,0,"..."),O)));let F=28;return w instanceof n?(w.values=w.values.map(O=>u(O,F)),w.name=u(w.name,F),w.index=w.index.map(O=>u(O,F))):(w.values=w.values.map(O=>O.map(M=>u(M,F))),w.columns=w.columns.map(O=>u(O,F)),w.index=w.index.map(O=>u(O,F))),console.table(w.toObject()),s}io.exports=Gd});var uo=v((u0,oo)=>{var Qd=nt(),Kd=ee();function Xd(i,n){let s=n?i:i.copy();return s.index=Kd(0,i.shape[0]).map(u=>"row"+Qd(u,(s.index.length-1).toString().length)),s}oo.exports=Xd});var z=v((a0,ao)=>{var Vr=S(),Zd=A(),Cr=R(),em=xe(),tm=ye();function rm(i){return Vr(!Zd(i),"You must pass a function into the `vectorize` function!"),Vr(tm(i),"You must pass a function into the `vectorize` function!"),function n(){if(Object.keys(arguments).map(u=>Cr(arguments[u])).indexOf(!0)>-1){let u=[],a=Object.keys(arguments).filter(p=>Cr(arguments[p])).map(p=>arguments[p].length),l=em(a);a.forEach(p=>{Vr(p===l,"If using arrays for all arguments to this function, then the arrays must all have equal length!")});for(let p=0;p<l;p++){let d=Object.keys(arguments).map(q=>Cr(arguments[q])?arguments[q][p]:arguments[q]);u.push(n(...d))}return u}else return i(...arguments)}}ao.exports=rm});var _t=v((c0,co)=>{var nm=E(),im=z();function sm(i){try{return nm(i)?Math.floor(i):NaN}catch{return NaN}}co.exports=im(sm)});var ve=v((l0,fo)=>{var st=S(),om=A(),um=R(),am=E(),cm=_(),ot="You must pass a natural number or a one-dimensional array of natural numbers into the `ndarray` function!";function lo(i,n){if(n||(st(!om(i),ot),um(i)||(i=[i]),i=cm(i),st(i.length>0,ot),i.forEach(s=>{st(am(s),ot),st(parseInt(s)===s,ot),st(s>=0,ot)})),i.length===1){let s=[];for(let u=0;u<i[0];u++)s.push(void 0);return s}else{let s=[];for(let u=0;u<i[0];u++)s.push(lo(i.slice(1),!0));return s}}fo.exports=lo});var Ve=v((f0,ho)=>{var lm=z();function fm(i,n){try{return n(i)}catch{return NaN}}ho.exports=lm(fm)});var _e=v((h0,vo)=>{var ut=S(),po=R(),mo=E(),hm=C(),go=_(),pm=i=>i.reduce((n,s)=>n*s);function yo(i,n){if(ut(po(i),"The first argument passed into the `reshape` function must be an array!"),mo(n)&&(n=[n]),ut(po(n),"The second argument passed into the `reshape` function must be a whole number or a one-dimensional array of whole numbers!"),ut(hm(n).length===1,"The first argument passed into the `reshape` function must be a whole number or a one-dimensional array of whole numbers!"),n.forEach(l=>{ut(mo(l)&&parseInt(l)===l&&l>0,"The first argument passed into the `reshape` function must be a whole number or a one-dimensional array of whole numbers!")}),n.length<=1)return go(i);let s=go(i);ut(pm(n)===s.length,"The new shape doesn't match the number of values available in `x` (the first argument passed into the `reshape` function)!");let u=[],a=parseInt(s.length/n[0]);for(let l=0;l<n[0];l++){let p=s.slice(l*a,(l+1)*a);u.push(yo(p,n.slice(1)))}return u}vo.exports=yo});var je=v((m0,ko)=>{var p0=ve(),d0=Ve(),wo=A(),dm=S(),To=E(),No=ae(),mm=_e(),xo=Math.pow(2,64),U=[];Oo(parseInt(Math.random()*xo));function gm(i,n){i=K(i);function s(){i+=K("0x9e3779b97f4a7c15");let a=No(i);return a=(a^a>>30n)*K("0xbf58476d1ce4e5b9"),a=(a^a>>27n)*K("0x94d049bb133111eb"),a^a>>31n}let u=[];for(let a=0;a<n;a++)u.push(s());return u}function K(i){return BigInt.asUintN(64,BigInt(i))}function qo(i,n){return i=K(i),n=BigInt(n),K(K(i<<n)|K(i>>K(64n-n)))}function Oo(i){if(wo(i))return No(U);{dm(To(i),"If passing a value into the `seed` function, then that value must be an integer!");let n=gm(parseInt(i),4);U[0]=n[0],U[1]=n[1],U[2]=n[2],U[3]=n[3]}}function bo(){let i=K(qo(U[0]+U[3],23)+U[0]),n=K(U[1]<<17n);return U[2]=K(U[2]^U[0]),U[3]=K(U[3]^U[1]),U[1]=K(U[1]^U[2]),U[0]=K(U[0]^U[3]),U[2]=K(U[2]^n),U[3]=qo(U[3],45),parseInt(i)/xo}function ym(i){if(wo(i))return bo();To(i)&&(i=[i]);let n=[],s=1;i.forEach(u=>s*=u);for(let u=0;u<s;u++)n.push(bo());return mm(n,i)}ko.exports={random:ym,seed:Oo}});var zr=v((y0,Eo)=>{var So=S(),vm=A(),qm=R(),g0=_t(),{random:bm}=je();function wm(i){So(!vm(i),"You must pass an array into the `shuffle` function!"),So(qm(i),"You must pass an array into the `shuffle` function!");let n=[],s=i.slice();for(let u=0;u<i.length;u++){let a=parseInt(bm()*s.length);n.push(s.splice(a,1)[0])}return n}Eo.exports=wm});var Fo=v((v0,Mo)=>{var Tm=S(),Nm=A(),Ao=zr();function xm(i,n){return Nm(n)&&(n=0),Tm(n===0||n===1,"The `axis` parameter to the `shuffle` must be 0, 1, or undefined."),i.get(n===0?Ao(i.index):null,n===1?Ao(i.columns):null)}Mo.exports=xm});var Vo=v((q0,Po)=>{var{random:Om}=je(),se=S(),km=_(),Ro=R(),Dr=Be(),Ur=E(),Ye=W(),Io=A(),Sm=ee(),Lo=C(),Em=ce();function Am(i,n,s){let u=i.copy(),a=Om().toString();return u=u.assign(a,u.index),Io(n)&&(n=[a],s=[!0]),(Ur(n)||Ye(n))&&(n=[n],(Dr(s)||Ye(s))&&(s=[s])),se(Ro(n),"The first parameter of the `sort` method must be (1) a string or index representing a column name or index, respectively; (2) a 1-dimensional array of strings and/or indices; or (3) null."),se(Lo(n).length===1,"The first parameter of the `sort` method must be (1) a string or index representing a column name or index, respectively; (2) a 1-dimensional array of strings and/or indices; or (3) null."),Io(s)&&(s=Sm(0,n.length).map(l=>!0)),se(Ro(s),"The second parameter of the `sort` method must be (1) a string or boolean representing the sort direction ('ascending' / 'descending', or true / false); (2) a 1-dimensional array of strings and/or booleans; or (3) null."),se(Lo(s).length===1,"The second parameter of the `sort` method must be (1) a string or boolean representing the sort direction ('ascending' / 'descending', or true / false); (2) a 1-dimensional array of strings and/or booleans; or (3) null."),se(n.length===s.length,"The arrays passed into the `sort` method must be equal in length."),n=n.map(l=>{if(se(Ye(l)||Ur(l),"Column references can either be column names (as strings) or column indices (as whole numbers)."),Ye(l)){let p=u.columns.indexOf(l);return se(p>-1,`The column "${l}" does not exist!`),p}if(Ur(l))return se(parseInt(l)===l,"Column indices must be whole numbers!"),se(l>=0,`The column index ${l} is out of bounds!`),se(l<u.columns.length,`The index ${l} is out of bounds!`),l}),s=s.map(l=>{if(se(Ye(l)||Dr(l),"Direction references can either be strings ('ascending' or 'descending') or booleans (true or false)."),Ye(l)){let p=l.trim().toLowerCase();return se(p==="ascending"||p==="descending","Direction references can either be strings ('ascending' or 'descending') or booleans (true or false)."),p==="ascending"}if(Dr(l))return l}),u.values=Em(u.values,(l,p)=>{let d=0;for(;l[n[d]]===p[n[d]]&&d<n.length;)d++;let q=s[d];if(l[n[d]]===p[n[d]])return 0;if(l[n[d]]<p[n[d]])return q?-1:1;if(l[n[d]]>p[n[d]])return q?1:-1}),u.index=km(u.get(null,a).values),u=u.dropColumns(a),u}Po.exports=Am});var Br=v((b0,zo)=>{var Mm=Be(),Fm=Mt(),Rm=W(),Co=A(),Im=me();function Lm(i,n){n=(()=>{if(Co(n))return!0;if(Mm(n))return n;throw new Im("The `shouldIncludeIndex` parameter of the `toCSVString` method must be a boolean!")})();let s=[""].concat(i.index);return[i.columns].concat(i.values).map((a,l)=>(n?[s[l]]:[]).concat(a).map(d=>Rm(d)?JSON.stringify(d):Fm(d)?JSON.stringify(JSON.stringify(d)):Co(d)?"":d.toString()).join(",")).join(`
`)}zo.exports=Lm});var Uo=v((w0,Do)=>{var Pm=Br();function Vm(i,n,s){let u=Pm(i,s);try{let a=n;if(n.includes("/")){let p=n.split("/");a=p[p.length-1]}let l=document.createElement("a");l.href=`data:text/csv;charset=utf-8,${encodeURIComponent(u)}`,l.download=a,l.dispatchEvent(new MouseEvent("click"))}catch{}try{let a=Nr("fs"),l=Nr("path");a.writeFileSync(l.resolve(n),u,"utf8")}catch{}return i}Do.exports=Vm});var _o=v((T0,Bo)=>{function Cm(i){let n={};return i.values.forEach((s,u)=>{let a={};s.forEach((l,p)=>{a[i.columns[p]]=l}),n[i.index[u]]=a}),n}Bo.exports=Cm});var Me=v((N0,Yo)=>{var _r=S(),zm=A(),Dm=R(),Um=C(),jo=rt(),Bm=ve();function _m(i){_r(!zm(i),"You must pass an array into the `transpose` function!"),_r(Dm(i),"You must pass an array into the `transpose` function!");let n=Um(i);if(_r(n.length<=2,"I'm not smart enough to know how to transpose arrays that have more than 2 dimensions. Sorry for the inconvenience! Please only pass 1- or 2-dimensional arrays into the `transpose` function!"),n.length===1)return jo(i);if(n.length===2){let s=Bm(jo(n));for(let u=0;u<n[0];u++)for(let a=0;a<n[1];a++)s[a][u]=i[u][a];return s}}Yo.exports=_m});var Wo=v((x0,Ho)=>{var jm=S(),Ym=ye();function Hm(i,n){jm(Ym(n),"The parameter to the `apply` method must be a function.");let s=i.copy();return s.values=s.values.map((u,a)=>n(u,s.index[a])),s}Ho.exports=Hm});var Jo=v((O0,$o)=>{var Wm=A();function $m(i){let n=i.copy(),s=[];return n.values=n.values.filter((u,a)=>Wm(u)?!1:(s.push(n.index[a]),!0)),n.index=s,n}$o.exports=$m});var Qo=v((k0,Go)=>{var Jm=ae();function Gm(i,n,s){let u=n.copy(),a=Jm(u.index),l=[],p=u.values.filter((d,q)=>{let b=s(d,q,u.values);return b||l.push(u.index[q]),b});return l.forEach(d=>{a.splice(a.indexOf(d),1)}),p.length===0?(u=new i,u.name=n.name,u):(u.values=p,u.index=a,u)}Go.exports=Gm});var Xo=v((S0,Ko)=>{var Fe=S(),Qm=E(),Km=W(),Xm=A(),Zm=ge();function eg(i,n){(Km(n)||Qm(n))&&(n=[n]);let s=Zm((n||[]).map(u=>typeof u));return Fe(s.length<=2,"Only whole numbers and/or strings are allowed in `get` arrays!"),s.length===1&&Fe(s[0]==="string"||s[0]==="number","Only whole numbers and/or strings are allowed in `get` arrays!"),s.length===2&&(Fe(s.indexOf("string")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!"),Fe(s.indexOf("number")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!")),Xm(n)||(n=n.map(u=>{if(typeof u=="string")return Fe(i.index.indexOf(u)>-1,`Index "${u}" does not exist!`),u;if(typeof u=="number")return Fe(u>=0,`Index ${u} is out of bounds!`),Fe(parseInt(u)===u,"Indices must be integers!"),Fe(u<i.index.length,`Index ${u} is out of bounds!`),i.index[u]})),i.getSubsetByNames(n)}Ko.exports=eg});var eu=v((E0,Zo)=>{var at=S(),tg=R(),rg=A(),ng=et(),ig=ee(),sg=C();function og(i,n){let s=i.shape;rg(n)&&(n=ig(0,s[0])),at(tg(n),"The `indices` array must be 1-dimensional array of whole numbers."),at(sg(n).length===1,"The `indices` array must be a 1-dimensional array of whole numbers."),at(n.length>0,"The `indices` array must contain at least one index."),n.forEach(a=>{at(ng(a),"The `indices` array must be a 1-dimensional array of whole numbers."),at(a<i.index.length,`The row index ${a} is out of bounds.`)});let u=n.map(a=>i.index[a]);return i.getSubsetByNames(u)}Zo.exports=og});var ru=v((A0,tu)=>{var ct=S(),ug=R(),ag=W(),cg=A(),lg=C();function fg(i,n,s){cg(s)&&(s=n.index),ct(ug(s),"The `indices` array must be a 1-dimensional array of strings."),ct(lg(s).length===1,"The `indices` array must be a 1-dimensional array of strings."),ct(s.length>0,"The `indices` array must contain at least one index name."),s.forEach(l=>{ct(ag(l),"The `indices` array must contain only strings."),ct(n.index.indexOf(l)>-1,`The name "${l}" does not exist in the index.`)});let u=s.map(l=>n.values[n.index.indexOf(l)]);if(u.length===1)return u[0];let a=new i(u);return a.index=s,a.name=n.name,a}tu.exports=fg});var su=v((M0,iu)=>{var hg=ae(),nu=ee();function pg(i){let n=i.copy(),s=typeof window>"u"?20:10;if(n.index.length>s){n=n.get(nu(0,s/2).concat(nu(n.index.length-s/2,n.index.length)));let a=hg(n.index);a.splice(parseInt(a.length/2),0,"..."),n.values.push("..."),n.index.push("..."),n=n.get(a)}let u={};return n.values.forEach((a,l)=>{let p={};p[n.name]=a,u[n.index[l]]=p}),console.table(u),i}iu.exports=pg});var hu=v((F0,fu)=>{var ou=S(),uu=Be(),au=W(),cu=A(),dg=ce(),lu=Me();function mg(i,n,s){ou(uu(s)||au(s)||cu(s),"The `sort` method can take an optional parameter that's either a string representing a direction ('ascending' or 'descending') or a boolean representing whether or not the direction is ascending (true or false).");let u=!0;cu(s)&&(u=!0),au(s)&&(s=s.trim().toLowerCase(),ou(s==="ascending"||s==="descending","The `sort` method can take an optional parameter that's either a string representing a direction ('ascending' or 'descending') or a boolean representing whether or not the direction is ascending (true or false)."),u=s==="ascending"),uu(s)&&(u=s);let a=lu([n.values,n.index]);a=lu(dg(a,(p,d)=>{if(p[0]===d[0])return 0;if(p[0]<d[0])return u?-1:1;if(p[0]>d[0])return u?1:-1}));let l=new i(a[0]);return l.index=a[1],l.name=n.name,l}fu.exports=mg});var mu=v((R0,du)=>{var gg=ce(),pu=Me();function yg(i,n){let s=pu([n.values,n.index]);s=pu(gg(s,(a,l)=>{if(a[1]===l[1])return 0;if(a[1]<l[1])return-1;if(a[1]>l[1])return 1}));let u=new i(s[0]);return u.index=s[1],u.name=n.name,u}du.exports=yg});var yu=v((I0,gu)=>{function vg(i){let n={};return n[i.name]={},i.index.forEach((s,u)=>{n[i.name][s]=i.values[u]}),n}gu.exports=vg});var jr=v((L0,Tu)=>{var Ce=S(),qg=ae(),vu=R(),bg=W(),wg=A(),qu=nt(),Tg=ve(),bu=ee(),wu=rt(),Ng=Wo(),xg=Jo(),Og=Qo(),kg=Xo(),Sg=eu(),Eg=ru(),Ag=su(),Mg=hu(),Fg=mu(),Rg=yu(),jt=C(),Ig=Me();Tu.exports=function(i){class n{constructor(u){let a=this;if(a.name="data",Object.defineProperty(a,"_values",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(a,"values",{configurable:!0,enumerable:!0,get(){return a._values},set(l){Ce(vu(l),"The new values must be a 1-dimensional array!");let p=jt(l);Ce(p.length===1,"The new array of values must be 1-dimensional!"),p[0]<a._index.length?a._index=a._index.slice(0,p[0]):p[0]>a._index.length&&(a._index=a._index.concat(bu(a._index.length,p[0]).map(d=>"row"+qu(d,(l.length-1).toString().length)))),a._values=l}}),Object.defineProperty(a,"_index",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(a,"index",{configurable:!0,enumerable:!0,get(){return a._index},set(l){Ce(vu(l),"The new index must be a 1-dimensional array of strings!"),Ce(l.length===a.shape[0],"The new index must be the same length as the old index!"),Ce(jt(l).length===1,"The new index must be a 1-dimensional array of strings!"),l.forEach(p=>{Ce(bg(p),"All of the row names must be strings!")}),a._index=l}}),u){let l=jt(u);Ce(l.length===1,"The `data` array passed into the constructor of a DataFrame must be 1-dimensional!"),a.values=u}}get shape(){return jt(this.values)}get isEmpty(){return this.values.filter(a=>!wg(a)).length===0}clear(){let u=this,a=u.copy();return a.values=Tg(a.shape),a.index=u.index,a}get(u){return kg(this,u)}getSubsetByNames(u){return Eg(n,this,u)}getSubsetByIndices(u){return Sg(this,u)}loc(u){return this.getSubsetByNames(u)}iloc(u){return this.getSubsetByIndices(u)}reverse(){let u=this,a=new n(wu(u.values));return a.index=wu(u.index),a.name=u.name,a}resetIndex(){let u=this,a=u.copy();return a.index=bu(0,u.shape[0]).map(l=>"row"+qu(l,(a.index.length-1).toString().length)),a}copy(){let u=this,a=new n(qg(u.values));return a.index=u.index.slice(),a.name=u.name,a}apply(u){return Ng(this,u)}dropMissing(u,a){return xg(this,u,a)}toObject(){return Rg(this)}print(){return Ag(this)}sort(u){return Mg(n,this,u)}sortByIndex(){return Fg(n,this)}filter(u){return Og(n,this,u)}toDataFrame(){let u=this,a=new i(Ig([u.values]));return a.columns=[u.name],a.index=u.index,a}getDummies(){return this.toDataFrame().getDummies()}oneHotEncode(){return this.getDummies()}}return n}});var $r=v((P0,ku)=>{var pe=S(),Nu=kt(),Lg=Yi(),Pg=Gi(),Vg=ts(),Cg=ns(),zg=ls(),Dg=ps(),Ug=ys(),Bg=ws(),_g=Ms(),jg=Ir(),Yg=Is(),xu=Cs(),Hg=Hs(),Wg=Qs(),$g=no(),Jg=so(),Gg=uo(),Qg=Fo(),Kg=Vo(),Xg=Uo(),Zg=Br(),ey=_o(),Yt=R(),Yr=A(),Hr=nt(),ty=ve(),Wr=ee(),ry=ge(),He=C(),Ou=Me();function Ht(i){let n="abcdefghijklmnopqrstuvwxyz1234567890",s="";for(let u=0;u<i;u++)s+=n[parseInt(Math.random()*n.length)];return s}var B=class{constructor(n){let s=this;if(Object.defineProperty(s,"_values",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(s,"values",{configurable:!0,enumerable:!0,get(){return s._values.length===0||!Yr(s._values[0])&&s._values[0].length===0?[[]]:s._values},set(u){pe(Yt(u),"The new values must be a 2-dimensional array!");let a=He(u);pe(a.length===2,"The new array of values must be 2-dimensional!"),a[0]<s._index.length?s._index=s._index.slice(0,a[0]):a[0]>s._index.length&&(s._index=s._index.concat(Wr(s._index.length,a[0]).map(l=>"row"+Hr(l,(a[0]-1).toString().length)))),a[1]<s._columns.length?s._columns=s._columns.slice(0,a[1]):a[1]>s._columns.length&&(s._columns=s._columns.concat(Wr(s._columns.length,a[1]).map(l=>"col"+Hr(l,(a[1]-1).toString().length)))),s._values=u}}),Object.defineProperty(s,"_columns",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(s,"columns",{configurable:!0,enumerable:!0,get(){return s._columns},set(u){pe(Yt(u),"The new columns list must be a 1-dimensional array of strings!"),pe(s.isEmpty||u.length===s.shape[1],"The new columns list must be the same length as the old columns list!"),pe(He(u).length===1,"The new columns list must be a 1-dimensional array of strings!"),u=u.map(l=>(typeof l!="string"&&(l=JSON.stringify(l)||l.toString()),l.trim().length===0?"untitled_"+Ht(8):l.trim()));let a=(()=>{let l=Nu(u),p={};return l.forEach(d=>{p[d.item]=d.count}),p})();u=u.map(l=>a[l]>1?l+"_"+Ht(8):l),s._columns=u}}),Object.defineProperty(s,"_index",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(s,"index",{configurable:!0,enumerable:!0,get(){return s._index},set(u){pe(Yt(u),"The new index must be a 1-dimensional array of strings!"),pe(s.isEmpty||u.length===s.shape[0],"The new index must be the same length as the old index!"),pe(He(u).length===1,"The new index must be a 1-dimensional array of strings!"),u=u.map(l=>(typeof l!="string"&&(l=JSON.stringify(l)||l.toString()),l.trim().length===0?"untitled_"+Ht(8):l.trim()));let a=(()=>{let l=Nu(u),p={};return l.forEach(d=>{p[d.item]=d.count}),p})();u=u.map(l=>a[l]>1?l+"_"+Ht(8):l),s._index=u}}),pe(Yr(n)||n instanceof Object,"The `data` passed into the constructor of a DataFrame must be either (1) an object where the key-value pairs are (respectively) column names and 1-dimensional arrays of values, or (2) a 2-dimensional array of values."),n)if(Yt(n)){let u=He(n);pe(u.length===2,"The `data` array passed into the constructor of a DataFrame must be 2-dimensional!"),s.values=n}else{s._columns=Object.keys(n);let u=[];s._columns.forEach(l=>{let p=n[l];u.push(p)}),s._values=Ou(u);let a=He(s.values);s._index=Wr(0,a[0]).map(l=>"row"+Hr(l,(a[0]-1).toString().length))}}get shape(){return He(this.values)}get rows(){return this.index}set rows(n){let s=this;s.index=n}get isEmpty(){return ry(this.values).filter(s=>!Yr(s)).length===0}clear(){let n=this,s=new B(ty(n.shape));return s.columns=n.columns.slice(),s.index=n.index.slice(),s}get(n,s){return Yg(this,n,s)}getSubsetByNames(n,s){return Wg(B,de,this,n,s)}getSubsetByIndices(n,s){return Hg(this,n,s)}loc(n,s){return this.getSubsetByNames(n,s)}iloc(n,s){return this.getSubsetByIndices(n,s)}getDummies(n){return xu(B,this,n)}oneHotEncode(n){return xu(B,this,n)}transpose(){let n=this,s=new B(Ou(n.values));return s.columns=n.index,s.index=n.columns,s}get T(){return this.transpose()}resetIndex(n){return Gg(this,n)}copy(){return Cg(B,this)}assign(n,s){return Vg(B,de,this,n,s)}apply(n,s){return Pg(B,de,this,n,s)}map(n,s){return this.apply(n,s)}dropMissing(n,s,u){return Dg(B,de,this,n,s,u)}dropNaN(n,s,u){return Ug(B,this,n,s,u)}drop(n,s){return zg(B,de,this,n,s)}dropColumns(n){return this.drop(null,n)}dropRows(n){return this.drop(n,null)}toObject(){return ey(this)}toCSVString(n){return Zg(this,n)}toCSV(n,s){return Xg(this,n,s)}print(){return Jg(B,de,this)}sort(n,s){return Kg(this,n,s)}sortByIndex(){return this.sort()}filter(n,s){return Bg(B,de,this,n,s)}shuffle(n){return Qg(this,n)}append(n){return Lg(B,de,this,n)}join(n){return $g(B,de,this,n)}};B.fromCSV=function(){return _g(B,...arguments)};B.fromCSVString=function(){return jg(B,...arguments)};var de=jr()(B);ku.exports={DataFrame:B,Series:de}});var Jr=v((V0,Su)=>{var ny=E(),iy=z();function sy(i){try{return ny(i)?Math.abs(i):NaN}catch{return NaN}}Su.exports=iy(sy)});var lt=v((C0,Eu)=>{var oy=E(),uy=z();function ay(){try{let i=0,n=Object.values(arguments);for(let s=0;s<n.length;s++){if(!oy(n[s]))return NaN;i+=n[s]}return i}catch{return NaN}}Eu.exports=uy(ay)});var Qr=v((z0,Iu)=>{var le=S(),Au=A(),Mu=R(),cy=E(),Fu=C(),Gr=Me();function Ru(i,n,s=0){le(!Au(i),"You must pass two arrays into the `append` function!"),le(!Au(n),"You must pass two arrays into the `append` function!"),le(Mu(i),"You must pass two arrays into the `append` function!"),le(Mu(n),"You must pass two arrays into the `append` function!"),le(cy(s),"The `axis` argument to the `append` function must be 0 or 1!"),le(s>=0&&s<2,"The `axis` argument to the `append` function must be 0 or 1!"),le(parseInt(s)===s,"The `axis` argument to the `append` function must be 0 or 1!");let u=Fu(i),a=Fu(n);le(u.length===a.length,"The two arrays passed into the `append` function must have the same number of dimensions!"),le(u.length<3&&a.length<3,"The two arrays passed into the `append` function must be 1- or 2-dimensional!");for(let l=0;l<u.length;l++)l!==s&&le(u[l]===a[l],`The two arrays passed into the \`append\` function must have the same shapes along all axes *except* the axis along which they're being appended! (${u[l]} != ${a[l]})`);if(le(s<u.length,"The axis argument you passed into the `append` function is out of bounds for the array!"),u.length===0)return[];if(u.length===1)return i.concat(n);if(u.length===2){if(s===0){let l=[];for(let p=0;p<u[0];p++)l.push(i[p]);for(let p=0;p<a[0];p++)l.push(n[p]);return l}else if(s===1)return Gr(Ru(Gr(i),Gr(n),0))}}Iu.exports=Ru});var Pu=v((D0,Lu)=>{var ly=E(),fy=z();function hy(i){try{return ly(i)?Math.acos(i):NaN}catch{return NaN}}Lu.exports=fy(hy)});var Cu=v((U0,Vu)=>{var py=E(),dy=z();function my(i){try{return py(i)?Math.asin(i):NaN}catch{return NaN}}Vu.exports=dy(my)});var Du=v((B0,zu)=>{var gy=E(),yy=z();function vy(i){try{return gy(i)?Math.atan(i):NaN}catch{return NaN}}zu.exports=yy(vy)});var ft=v((_0,Yu)=>{var Uu=S(),qy=A(),Bu=R(),Kr=C(),_u=Ne();function ju(i,n,s){if(Uu(!qy(i),"You must pass an array and a value into the `indexOf` function!"),Uu(Bu(i),"You must pass an array and a value into the `indexOf` function!"),Kr(i).length===1||Bu(n)&&_u(Kr(i[0]),Kr(n))){for(let u=0;u<i.length;u++){let a=i[u];if(_u(a,n)&&(s?a===n:!0))return[u]}return null}else for(let u=0;u<i.length;u++){let a=i[u],l=ju(a,n);if(l)return[u].concat(l)}return null}Yu.exports=ju});var Wu=v((j0,Hu)=>{var by=ft(),wy=xe();function Ty(i){try{return by(i,wy(i))}catch{return NaN}}Hu.exports=Ty});var Xr=v((Y0,$u)=>{var Ny=_(),xy=E();function Oy(i){try{let n=Ny(i),s=1/0;for(let u=0;u<n.length;u++){if(!xy(n[u]))return NaN;n[u]<s&&(s=n[u])}return s===1/0?NaN:s}catch{return NaN}}$u.exports=Oy});var Gu=v((H0,Ju)=>{var ky=ft(),Sy=Xr();function Ey(i){try{return ky(i,Sy(i))}catch{return NaN}}Ju.exports=Ey});var Ku=v((W0,Qu)=>{var Ay=E(),My=z();function Fy(i){try{return Ay(i)?Math.ceil(i):NaN}catch{return NaN}}Qu.exports=My(Fy)});var ea=v(($0,Zu)=>{var Ry=A(),Iy=Jr(),Ly=z(),Xu=E();function Py(i,n){try{if(!Xu(i))return NaN;if(Ry(n))n=1e-10;else if(!Xu(n))return NaN;return Iy(i)<n?0:i}catch{return NaN}}Zu.exports=Ly(Py)});var ra=v((J0,ta)=>{var Zr=E(),Vy=z();function Cy(i,n,s){try{return Zr(i)?Zr(n)?Zr(s)?i<n?n:i>s?s:i:NaN:NaN:NaN}catch{return NaN}}ta.exports=Vy(Cy)});var ht=v((G0,na)=>{var zy=E(),Dy=_();function Uy(i){try{let n=Dy(i),s=0;for(let u=0;u<n.length;u++){if(!zy(n[u]))return NaN;s+=n[u]}return s/n.length}catch{return NaN}}na.exports=Uy});var Wt=v((Q0,ia)=>{var By=ht(),_y=_(),jy=E();function Yy(i){try{let n=_y(i),s=By(n),u=0;for(let a=0;a<n.length;a++){if(!jy(n[a]))return NaN;u+=(n[a]-s)*(n[a]-s)}return u/n.length}catch{return NaN}}ia.exports=Yy});var aa=v((K0,ua)=>{var sa=ht(),oa=Wt();function Hy(i,n){try{let s=sa(i),u=sa(n),a=Math.sqrt((oa(i)+oa(n))/2);return(s-u)/a}catch{return NaN}}ua.exports=Hy});var ha=v((X0,fa)=>{var ca=R(),Wy=E(),$t=S();function la(i,n){if($t(ca(i),"The `combine` function only works on arrays!"),$t(Wy(n),"`r` must be a whole number!"),n>i.length)return[i];if(n<=0)return[[]];if($t(n===parseInt(n),"`r` must be a whole number!"),i.length<2)return i;let s=[];return i.forEach((u,a)=>{$t(!ca(u),"It is not recommended to get combinations of arrays of arrays. Weird things happen, and I haven't figured out how to account for such a scenario yet. A possible workaround is: convert each sub-array to a string (using `JSON.stringify`), get the combinations using the array of strings, and then convert each string in each combination back to a sub-array (using `JSON.parse`).");let l=i.slice(a+1);if(l.length<n-1)return;la(l,n-1).forEach(d=>{s.push([u].concat(d))})}),s}fa.exports=la});var en=v((Z0,ma)=>{var pa=ht(),da=A();function $y(i,n){try{let s=pa(i),u=pa(n),a=Math.max(i.length,n.length),l=0;for(let p=0;p<a;p++){if(da(i[p]))return NaN;if(da(n[p]))return NaN;l+=(i[p]-s)*(n[p]-u)}return l/i.length}catch{return NaN}}ma.exports=$y});var Jt=v((eb,ga)=>{var Jy=E(),Gy=z();function Qy(i){try{return Jy(i)?Math.sqrt(i):NaN}catch{return NaN}}ga.exports=Gy(Qy)});var Gt=v((tb,ya)=>{var Ky=Jt(),Xy=Wt();function Zy(i){try{return Ky(Xy(i))}catch{return NaN}}ya.exports=Zy});var ba=v((rb,qa)=>{var ev=en(),va=Gt();function tv(i,n){try{return ev(i,n)/(va(i)*va(n))}catch{return NaN}}qa.exports=tv});var Ta=v((nb,wa)=>{var rv=E(),nv=z();function iv(i){try{return rv(i)?Math.cos(i):NaN}catch{return NaN}}wa.exports=nv(iv)});var Sa=v((ib,ka)=>{var Na=S(),xa=R(),Oa=_();function sv(i,n){Na(xa(i),"You must pass two arrays into the `diff` function!"),Na(xa(n),"You must pass two arrays into the `diff` function!");let s=Oa(i),u=Oa(n),a=[];return s.forEach(l=>{u.indexOf(l)<0&&a.push(l)}),a}ka.exports=sv});var Qt=v((sb,Aa)=>{var Ea=E(),ov=z();function uv(i,n){try{return Ea(i)?Ea(n)?Math.pow(i,n):NaN:NaN}catch{return NaN}}Aa.exports=ov(uv)});var Kt=v((ob,Ma)=>{var av=lt(),cv=_();function lv(i){try{return av(...cv(i))}catch{return NaN}}Ma.exports=lv});var tn=v((ub,Fa)=>{var fv=E(),hv=z();function pv(){try{let i=1,n=Object.values(arguments);for(let s=0;s<n.length;s++){if(!fv(n[s]))return NaN;i*=n[s]}return i}catch{return NaN}}Fa.exports=hv(pv)});var We=v((ab,Ra)=>{var dv=tn();function mv(i,n){return dv(i,n)}Ra.exports=mv});var rn=v((cb,Ia)=>{var gv=lt(),yv=We();function vv(i,n){return gv(i,yv(n,-1))}Ia.exports=vv});var Pa=v((lb,La)=>{var qv=Qt(),bv=Kt(),wv=Jt(),Tv=rn();function Nv(i,n){try{return wv(bv(qv(Tv(i,n),2)))}catch{return NaN}}La.exports=Nv});var Ca=v((fb,Va)=>{var xv=We(),Ov=Qt();function kv(i,n){return xv(i,Ov(n,-1))}Va.exports=kv});var nn=v((pb,ja)=>{var pt=S(),za=A(),Da=R(),Sv=E(),hb=Ne(),Ua=_(),Ba=C(),Ev=Kt(),Av=We(),_a=Me();function Xt(i,n){pt(!za(i)&&!za(n),"You must pass two arrays of numbers into the `dot` function!"),pt(Da(i)&&Da(n),"You must pass two arrays of numbers into the `dot` function!"),Ua(i).concat(Ua(n)).forEach(a=>{pt(Sv(a),"One of the arrays you passed into the `dot` function contains non-numerical values!")});let s=Ba(i),u=Ba(n);if(pt(s.length<=2&&u.length<=2,"I'm not smart enough to know how to get the dot-product of arrays that have more than 2 dimensions. Sorry for the inconvenience! Please only pass 1- or 2-dimensional arrays into the `dot` function!"),pt(s[s.length-1]===u[0],`There's a dimension misalignment in the two arrays you passed into the \`dot\` function. (${s[s.length-1]} !== ${u[0]})`),s.length===1&&u.length===1)return Ev(Av(i,n));if(s.length===1&&u.length===2)return _a(n).map(a=>Xt(i,a));if(s.length===2&&u.length===1)return i.map(a=>Xt(a,n));if(s.length===2&&u.length===2){let a=_a(n),l=[];for(let p=0;p<i.length;p++){let d=[];for(let q=0;q<a.length;q++)d.push(Xt(i[p],a[q]));l.push(d)}return l}}ja.exports=Xt});var Wa=v((db,Ha)=>{var Ya=S(),Mv=R(),Fv=A(),Rv=C();function Iv(i){return Ya(Mv(i),"The value passed into the `dropMissing` function must be a one-dimensional array!"),Ya(Rv(i).length===1,"The value passed into the `dropMissing` function must be a one-dimensional array!"),i.filter(n=>!Fv(n))}Ha.exports=Iv});var Xa=v((mb,Ka)=>{var $a=S(),Ja=A(),Ga=R(),Lv=xe(),Qa=C();function Pv(i,n){$a(Ga(i)&&Ga(n),"The two items passed into the `dropMissingPairwise` function must be arrays!"),$a(Qa(i).length===1&&Qa(n).length===1,"The `dropMissingPairwise` function only works on one-dimensional arrays!");let s=[],u=[];for(let a=0;a<Lv([i.length,n.length]);a++)!Ja(i[a])&&!Ja(n[a])&&(s.push(i[a]),u.push(n[a]));return[s,u]}Ka.exports=Pv});var sc=v((gb,ic)=>{var Za=S(),ec=A(),tc=R(),rc=E(),Vv=xe(),nc=C();function Cv(i,n){Za(tc(i)&&tc(n),"The two items passed into the `dropNaNPairwise` function must be arrays!"),Za(nc(i).length===1&&nc(n).length===1,"The `dropNaNPairwise` function only works on one-dimensional arrays!");let s=[],u=[];for(let a=0;a<Vv([i.length,n.length]);a++)!ec(i[a])&&rc(i[a])&&!ec(n[a])&&rc(n[a])&&(s.push(i[a]),u.push(n[a]));return[s,u]}ic.exports=Cv});var uc=v((yb,oc)=>{var zv=z(),Dv=E();function Uv(i){try{return Dv(i)?Math.exp(i):NaN}catch{return NaN}}oc.exports=zv(Uv)});var lc=v((vb,cc)=>{var Bv=z();function ac(i){try{return i!==parseInt(i)?NaN:i<=1?1:i*ac(i-1)}catch{return NaN}}cc.exports=Bv(ac)});var hc=v((qb,fc)=>{var _v=E(),jv=z();function Yv(i){try{let n=JSON.parse(i);return _v(n)?n:NaN}catch{return NaN}}fc.exports=jv(Yv)});var sn=v((bb,pc)=>{var Hv=E(),Wv=z();function $v(i){try{let n=JSON.parse(i);return Hv(n)?parseInt(n):NaN}catch{return NaN}}pc.exports=Wv($v)});var gc=v((wb,mc)=>{var Re=S(),Jv=A(),on=R(),un=E(),dc=C(),Gv=sn();function an(i,n){return Re(!Jv(i),"You must pass an array and an index into the `getValueAt` function!"),Re(on(i),"You must pass an array and an index into the `getValueAt` function!"),Re(un(n)||on(n),"The index passed into the `getValueAt` function must be a positive integer or a one-dimensional array of positive integers!"),on(n)&&(Re(dc(n).length===1,"The index passed into the `getValueAt` function must be a positive integer or a one-dimensional array of positive integers!"),n.forEach(s=>{Re(un(s)&&Gv(s)===s,"The index passed into the `getValueAt` function must be a positive integer or a one-dimensional array of positive integers!")}),Re(n.length<=dc(i).length,"The index passed into the `getValueAt` function has too many dimensions!")),un(n)?(Re(n<i.length,`The index ${n} is out of bounds!`),i[n]):n.length>1?(Re(n[0]<i.length,`The index ${n[0]} is out of bounds!`),an(i[n[0]],n.slice(1))):an(i,n[0])}mc.exports=an});var cn=v((xb,yc)=>{var Tb=ve(),Nb=Ve(),Qv=E(),Kv=_e();function Xv(i){Qv(i)&&(i=[i]);let n=[],s=1;i.forEach(u=>s*=u);for(let u=0;u<s;u++)n.push(0);return Kv(n,i)}yc.exports=Xv});var qc=v((Ob,vc)=>{var Zt=S(),Zv=A(),eq=E(),tq=cn();function rq(i){Zt(!Zv(i),"You must pass an integer greater than 0 (representing the size) into the `identity` function!"),Zt(eq(i),"You must pass an integer greater than 0 (representing the size) into the `identity` function!"),Zt(parseInt(i)===i,"You must pass an integer greater than 0 (representing the size) into the `identity` function!"),Zt(i>0,"You must pass an integer greater than 0 (representing the size) into the `identity` function!");let n=tq([i,i]);for(let s=0;s<i;s++)n[s][s]=1;return n}vc.exports=rq});var ln=v((Sb,bc)=>{var kb=S(),nq=ge();function iq(){return nq([...arguments])}bc.exports=iq});var Tc=v((Eb,wc)=>{var sq=R(),oq=_(),uq=ln();function aq(){let i=Object.values(arguments).map(u=>sq(u)?oq(u):[u]),n=[];return uq(i).forEach(u=>{for(let a=0;a<i.length;a++)if(i[a].indexOf(u)<0)return;n.push(u)}),n}wc.exports=aq});var hn=v((Mb,Oc)=>{var dt=S(),er=A(),Nc=E(),fn=R(),cq=ee(),lq=_(),Ab=C(),fq=_t();function xc(i,n){if(dt(!er(i),"You must pass an array into the `slice` function!"),dt(fn(i),"You must pass an array into the `slice` function!"),er(n))return i.slice();dt(fn(n),"The indices passed into the `slice` function must be a one-dimensional array of integers or null values."),lq(n).forEach(a=>{dt(er(a)||Nc(a)&&fq(a)===a,"The indices passed into the `slice` function must be a one-dimensional array of integers or null values.")});let s=n[0];er(s)&&(s=cq(0,i.length)),Nc(s)&&(s=[s]);let u=[];return s.forEach(a=>{dt(a<i.length,"Index out of bounds in the `slice` function!"),a<0&&(a+=i.length);let l=i[a];fn(l)?u.push(xc(i[a],n.slice(1,n.length))):u.push(i[a])}),u}Oc.exports=xc});var Ac=v((Fb,Ec)=>{var qe=S(),hq=A(),pq=R(),pn=E(),dq=_(),mq=C(),tr=hn(),gq=nn(),kc=lt(),Sc=We(),dn=Qr(),Ie=ee();function mn(i){qe(!hq(i),"You must pass a square 2D array into the `inverse` function!"),qe(pq(i),"You must pass a square 2D array into the `inverse` function!"),dq(i).forEach(s=>qe(pn(s),"The array passed into the `inverse` function must contain only numbers!"));let n=mq(i);if(qe(n.length===2,"The array passed into the `inverse` function must be exactly two-dimensional and square!"),qe(n[0]===n[1],"The array passed into the `inverse` function must be exactly two-dimensional and square!"),qe(n[0]>=0,"The array passed into the `inverse` function must be exactly two-dimensional and square!"),n[0]===0)return i;if(n[0]===1)return qe(i[0][0]!==0,"This matrix cannot be inverted!"),1/i[0][0];if(n[0]===2){let s=i[0][0],u=i[0][1],a=i[1][0],l=i[1][1],p=s*l-u*a;qe(p!==0,"This matrix cannot be inverted!");let d=[[l,-u],[-a,s]];return Sc(d,1/p)}else if(n[0]>1){let s=(u,a)=>pn(u)||pn(a)?Sc(u,a):gq(u,a);for(let u=1;u<n[0]-1;u++)try{let a=tr(i,[Ie(0,u),Ie(0,u)]),l=tr(i,[Ie(0,u),Ie(u,n[0])]),p=tr(i,[Ie(u,n[0]),Ie(0,u)]),d=tr(i,[Ie(u,n[0]),Ie(u,n[0])]),q=mn(a),b=mn(kc(d,s(-1,s(s(p,q),l)))),w=kc(q,s(s(s(s(q,l),b),p),q)),F=s(-1,s(s(q,l),b)),O=s(-1,s(s(b,p),q)),M=b;return dn(dn(w,F,1),dn(O,M,1),0)}catch{}qe(!1,"This matrix cannot be inverted!")}}Ec.exports=mn});var Fc=v((Rb,Mc)=>{var yq=z(),gn=E();function vq(i,n,s){try{return gn(i)?gn(n)?gn(s)?s*(n-i)+i:NaN:NaN:NaN}catch{return NaN}}Mc.exports=yq(vq)});var Lc=v((Ib,Ic)=>{var Rc=E(),qq=A(),bq=z();function wq(i,n){try{return n=qq(n)?Math.E:n,Rc(i)?Rc(n)?Math.log(i)/Math.log(n):NaN:NaN}catch{return NaN}}Ic.exports=bq(wq)});var Vc=v((Lb,Pc)=>{var mt=E(),Tq=z();function Nq(i,n,s,u,a){try{return mt(i)?mt(n)?mt(s)?mt(u)?mt(a)?(a-u)*(i-n)/(s-n)+u:NaN:NaN:NaN:NaN:NaN}catch{return NaN}}Pc.exports=Tq(Nq)});var zc=v((Db,Cc)=>{var Pb=S(),Vb=A(),Cb=R(),zb=E(),xq=_(),Oq=ce(),kq=It();function Sq(i){try{let n=xq(i),s=kq(n);if(s.length===0)return NaN;if(s.length<n.length)return NaN;s=Oq(s);let u;return s.length%2===0?u=(s[s.length/2-1]+s[s.length/2])/2:u=s[Math.floor(s.length/2)],u}catch{return NaN}}Cc.exports=Sq});var Bc=v((Ub,Uc)=>{var Eq=_(),Aq=kt(),Mq=ge(),Dc=ce();function Fq(i){try{if(i.length===0)return NaN;let n=Eq(i);if(n.length===0)return NaN;let s={},u=Mq(n);u.forEach(d=>{s[d]=Aq(n,d)});let a=Dc(u,(d,q)=>s[q]-s[d]),l=a[0],p=Dc(a.filter(d=>s[d]===s[l]));return p.length===1?p[0]:p}catch{return NaN}}Uc.exports=Fq});var Hc=v((jb,Yc)=>{var Rq=A(),Bb=ve(),_b=Ve(),{random:_c}=je(),Iq=_e(),Lq=E();function jc(){let i=_c(),n=_c();return Math.sqrt(-2*Math.log(i))*Math.cos(2*Math.PI*n)}function Pq(i){if(Rq(i))return jc();Lq(i)&&(i=[i]);let n=[],s=1;i.forEach(u=>s*=u);for(let u=0;u<s;u++)n.push(jc());return Iq(n,i)}Yc.exports=Pq});var $c=v((Wb,Wc)=>{var Yb=ve(),Hb=Ve(),Vq=_e(),Cq=E();function zq(i){Cq(i)&&(i=[i]);let n=[],s=1;i.forEach(u=>s*=u);for(let u=0;u<s;u++)n.push(1);return Vq(n,i)}Wc.exports=zq});var Qc=v(($b,Gc)=>{var Jc=R(),Dq=E(),rr=S(),Uq=A();function yn(i,n){if(rr(Jc(i),"The `permute` function only works on arrays!"),Uq(n)&&(n=i.length),rr(Dq(n),"`r` must be a whole number!"),n>i.length)return yn(i);if(n<=0)return[[]];if(rr(n===parseInt(n),"`r` must be a whole number!"),i.length<2)return i;let s=[];return i.forEach((u,a)=>{rr(!Jc(u),"It is not recommended to permute arrays of arrays. Weird things happen, and I haven't figured out how to account for such a scenario yet. A possible workaround is: convert each sub-array to a string (using `JSON.stringify`), get the permutations using the array of strings, and then convert each string in each combination back to a sub-array (using `JSON.parse`).");let l=i.slice(0,a),p=i.slice(a+1),d=l.concat(p);yn(d,n-1).forEach(b=>{s.push([u].concat(b))})}),s}Gc.exports=yn});var el=v((Jb,Zc)=>{var Bq=R(),_q=C(),Kc=$r(),Xc=jr();function jq(){Object.keys(arguments).forEach(i=>{let n=arguments[i];if(Bq(n)){let s=_q(n);s.length===1?new Xc(n).print():s.length==2?new Kc(n).print():console.log(n)}else n instanceof Kc||n instanceof Xc?n.print():console.log(n)})}Zc.exports=jq});var rl=v((Gb,tl)=>{var Yq=E(),Hq=z();function Wq(i){try{return Yq(i)?Math.round(i):NaN}catch{return NaN}}tl.exports=Hq(Wq)});var vn=v((Qb,sl)=>{var nl=S(),$q=E(),il=R(),Jq=ae();function Gq(i,n,s){nl(il(i),"The first argument passed into the `setValueAt` function must be an array!"),$q(n)&&(n=[n]),nl(il(n),"The second argument passed into the `setValueAt` function must be an integer or an array of integers!");let u=Jq(i),a=u;for(let l=0;l<n.length-1;l++)a=a[n[l]];return a[n[n.length-1]]=s,u}sl.exports=Gq});var ul=v((Kb,ol)=>{var Qq=E(),Kq=z();function Xq(i){try{return Qq(i)?i<0?-1:i>0?1:0:NaN}catch{return NaN}}ol.exports=Kq(Xq)});var cl=v((Xb,al)=>{var Zq=E(),e1=z();function t1(i){try{return Zq(i)?Math.sin(i):NaN}catch{return NaN}}al.exports=e1(t1)});var fl=v((Zb,ll)=>{var r1=Gt();function n1(i){return r1(i)}ll.exports=n1});var pl=v((ew,hl)=>{var i1=E(),s1=z();function o1(i){try{return i1(i)?Math.tan(i):NaN}catch{return NaN}}hl.exports=s1(o1)});var nr=v((tw,ml)=>{var dl=ye();function u1(i,n){assert(dl(i),"`fn` must be a function!");let s=new Date;return n?i(...n):i(),new Date-s}async function a1(i,n){assert(dl(i),"`fn` must be a function!");let s=new Date;return n?await i(...n):await i(),new Date-s}ml.exports={timeSync:u1,timeAsync:a1}});var vl=v((rw,yl)=>{var gl=S(),c1=R(),l1=ye(),f1=Ve(),h1=ft(),p1=vn(),d1=_();function m1(i,n){gl(c1(i),"The first argument passed into the `where` function must be an array!"),gl(l1(n),"The second argument passed into the `where` function must be a function!");let s=d1(i).length,u=f1(i,n),a=[],l=0,p=!1;for(;!p;){let d=h1(u,!0);d?(a[l]=d,u=p1(u,d,null),l++):p=!0}return l===0?null:a}yl.exports=m1});var ql=v((nw,qn)=>{var{DataFrame:g1,Series:y1}=$r(),gt={abs:Jr(),add:lt(),append:Qr(),apply:Ve(),arccos:Pu(),arcsin:Cu(),arctan:Du(),argmax:Wu(),argmin:Gu(),assert:S(),ceil:Ku(),chop:ea(),clamp:ra(),cohensd:aa(),combine:ha(),copy:ae(),correl:ba(),cos:Ta(),count:kt(),covariance:en(),DataFrame:g1,diff:Sa(),distance:Pa(),divide:Ca(),dot:nn(),dropMissing:Wa(),dropMissingPairwise:Xa(),dropNaN:It(),dropNaNPairwise:sc(),exp:uc(),factorial:lc(),flatten:_(),float:hc(),floor:_t(),getValueAt:gc(),identity:qc(),indexOf:ft(),int:sn(),intersect:Tc(),inverse:Ac(),isArray:R(),isBoolean:Be(),isEqual:Ne(),isFunction:ye(),isNumber:E(),isObject:Mt(),isString:W(),isUndefined:A(),lerp:Fc(),log:Lc(),map:Vc(),MathError:me(),max:xe(),mean:ht(),median:zc(),min:Xr(),mode:Bc(),multiply:tn(),ndarray:ve(),normal:Hc(),ones:$c(),permute:Qc(),pow:Qt(),print:el(),random:je().random,range:ee(),reshape:_e(),reverse:rt(),round:rl(),scale:We(),seed:je().seed,Series:y1,set:ge(),setValueAt:vn(),shape:C(),shuffle:zr(),sign:ul(),sin:cl(),slice:hn(),sort:ce(),sqrt:Jt(),std:Gt(),stdev:fl(),subtract:rn(),sum:Kt(),tan:pl(),time:nr().timeSync,timeSync:nr().timeSync,timeAsync:nr().timeAsync,transpose:Me(),union:ln(),variance:Wt(),vectorize:z(),where:vl(),zeros:cn(),dump:function(){Object.keys(gt).forEach(i=>{try{global[i]=gt[i]}catch{try{window[i]=gt[i]}catch{}}})}};typeof qn<"u"&&(qn.exports=gt);typeof window<"u"&&(window.JSMathTools=gt)});var wl=v((ir,bl)=>{(function(i,n){typeof ir=="object"&&typeof bl<"u"?n(ir):typeof define=="function"&&define.amd?define(["exports"],n):(i=i||self,n(i.liquidjs={}))})(ir,function(i){"use strict";var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var c in o)o.hasOwnProperty(c)&&(r[c]=o[c])},n(e,t)};function s(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var u=function(){return u=Object.assign||function(t){for(var r,o=1,c=arguments.length;o<c;o++){r=arguments[o];for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&(t[f]=r[f])}return t},u.apply(this,arguments)};function a(e,t,r,o){return new(r||(r=Promise))(function(c,f){function h(y){try{g(o.next(y))}catch(T){f(T)}}function m(y){try{g(o.throw(y))}catch(T){f(T)}}function g(y){y.done?c(y.value):new r(function(T){T(y.value)}).then(h,m)}g((o=o.apply(e,t||[])).next())})}function l(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,c,f,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(y){return function(T){return g([y,T])}}function g(y){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,c&&(f=y[0]&2?c.return:y[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,y[1])).done)return f;switch(c=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,c=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){r.label=y[1];break}if(y[0]===6&&r.label<f[1]){r.label=f[1],f=y;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(y);break}f[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(T){y=[6,T],c=0}finally{o=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}function p(e){var t=typeof Symbol=="function"&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function d(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var o=r.call(e),c,f=[],h;try{for(;(t===void 0||t-- >0)&&!(c=o.next()).done;)f.push(c.value)}catch(m){h={error:m}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(h)throw h.error}}return f}function q(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}var b=function(){function e(){}return e.prototype.valueOf=function(){},e.prototype.liquidMethodMissing=function(t){},e}(),w=Object.prototype.toString,F=String.prototype.toLowerCase;function O(e){return typeof e=="string"}function M(e){return typeof e=="function"}function L(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function P(e){return e=$(e),O(e)?e:fe(e)?"":String(e)}function $(e){return e instanceof b?e.valueOf():e}function te(e){return typeof e=="number"}function J(e){return e&&M(e.toLiquid)?J(e.toLiquid()):e}function fe(e){return e==null}function X(e){return w.call(e)==="[object Array]"}function wn(e,t){e=e||{};for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r,e)===!1)break;return e}function or(e){return e[e.length-1]}function Tn(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function Nn(e,t,r){r===void 0&&(r=1);for(var o=[],c=e;c<t;c+=r)o.push(c);return o}function yt(e,t,r){return r===void 0&&(r=" "),xn(e,t,r,function(o,c){return c+o})}function Ol(e,t,r){return r===void 0&&(r=" "),xn(e,t,r,function(o,c){return o+c})}function xn(e,t,r,o){e=String(e);for(var c=t-e.length;c-- >0;)e=o(e,r);return e}function kl(e){return e}function On(e){return e.replace(/(\w?)([A-Z])/g,function(t,r,o){return(r?r+"_":"")+o.toLowerCase()})}function Sl(e){var t=q(e).some(function(r){return r>="a"&&r<="z"});return t?e.toUpperCase():e.toLowerCase()}function El(e,t){return e.length>t?e.substr(0,t-3)+"...":e}function kn(e,t){return e==null&&t==null?0:e==null?1:t==null||(e=F.call(e),t=F.call(t),e<t)?-1:e>t?1:0}var ur=function(){function e(t,r,o,c){this.key=t,this.value=r,this.next=o,this.prev=c}return e}(),Sn=function(){function e(t,r){r===void 0&&(r=0),this.limit=t,this.size=r,this.cache={},this.head=new ur("HEAD",null,null,null),this.tail=new ur("TAIL",null,null,null),this.head.next=this.tail,this.tail.prev=this.head}return e.prototype.write=function(t,r){if(this.cache[t])this.cache[t].value=r;else{var o=new ur(t,r,this.head.next,this.head);this.head.next.prev=o,this.head.next=o,this.cache[t]=o,this.size++,this.ensureLimit()}},e.prototype.read=function(t){if(!!this.cache[t]){var r=this.cache[t].value;return this.remove(t),this.write(t,r),r}},e.prototype.remove=function(t){var r=this.cache[t];r.prev.next=r.next,r.next.prev=r.prev,delete this.cache[t],this.size--},e.prototype.clear=function(){this.head.next=this.tail,this.tail.prev=this.head,this.size=0,this.cache={}},e.prototype.ensureLimit=function(){this.size>this.limit&&this.remove(this.tail.prev.key)},e}();function En(e,t){var r=document.createElement("base");r.href=e;var o=document.getElementsByTagName("head")[0];o.insertBefore(r,o.firstChild);var c=document.createElement("a");c.href=t;var f=c.href;return o.removeChild(r),f}function Al(e,t,r){e.length&&or(e)!=="/"&&(e+="/");var o=En(e,t);return o.replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,function(c,f,h){var m=h.split("/").pop();return/\.\w+$/.test(m)?c:f+h+r})}function Ml(e){return a(this,void 0,void 0,function(){return l(this,function(t){return[2,new Promise(function(r,o){var c=new XMLHttpRequest;c.onload=function(){c.status>=200&&c.status<300?r(c.responseText):o(new Error(c.statusText))},c.onerror=function(){o(new Error("An error occurred whilst receiving the response."))},c.open("GET",e),c.send()})]})})}function Fl(e){var t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(),t.status<200||t.status>=300)throw new Error(t.statusText);return t.responseText}function Rl(e){return a(this,void 0,void 0,function(){return l(this,function(t){return[2,!0]})})}function Il(e){return!0}function Ll(e){return En(e,".")}var Pl="/",Vl=Object.freeze({resolve:Al,readFile:Ml,readFileSync:Fl,exists:Rl,existsSync:Il,dirname:Ll,sep:Pl});function re(e){return e&&M(e.equals)}function be(e,t){return!vt(e,t)}function vt(e,t){return t.opts.jsTruthy?!e:e===!1||e===void 0||e===null}var ar={"==":function(e,t){return re(e)?e.equals(t):re(t)?t.equals(e):e===t},"!=":function(e,t){return re(e)?!e.equals(t):re(t)?!t.equals(e):e!==t},">":function(e,t){return re(e)?e.gt(t):re(t)?t.lt(e):e>t},"<":function(e,t){return re(e)?e.lt(t):re(t)?t.gt(e):e<t},">=":function(e,t){return re(e)?e.geq(t):re(t)?t.leq(e):e>=t},"<=":function(e,t){return re(e)?e.leq(t):re(t)?t.geq(e):e<=t},contains:function(e,t){return e&&M(e.indexOf)?e.indexOf(t)>-1:!1},and:function(e,t,r){return be(e,r)&&be(t,r)},or:function(e,t,r){return be(e,r)||be(t,r)}},D=[0,0,0,0,0,0,0,0,0,20,4,4,4,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,2,8,0,0,0,0,8,0,0,0,64,0,65,0,0,33,33,33,33,33,33,33,33,33,33,0,0,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],cr=1,$e=4,An=8,Mn=16,Cl=32,zl=64;D[160]=D[5760]=D[6158]=D[8192]=D[8193]=D[8194]=D[8195]=D[8196]=D[8197]=D[8198]=D[8199]=D[8200]=D[8201]=D[8202]=D[8232]=D[8233]=D[8239]=D[8287]=D[12288]=$e;function lr(e){var t,r,o={};try{for(var c=p(Object.entries(e)),f=c.next();!f.done;f=c.next()){for(var h=d(f.value,2),m=h[0],g=h[1],y=o,T=0;T<m.length;T++){var x=m[T];y[x]=y[x]||{},T===m.length-1&&D[m.charCodeAt(T)]&cr&&(y[x].needBoundary=!0),y=y[x]}y.handler=g,y.end=!0}}catch(N){t={error:N}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return o}var Je={root:["."],layouts:["."],partials:["."],relativeReference:!0,cache:void 0,extname:"",fs:Vl,dynamicPartials:!0,jsTruthy:!1,trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",preserveTimezones:!1,strictFilters:!1,strictVariables:!1,lenientIf:!1,globals:{},keepOutputType:!1,operators:ar,operatorsTrie:lr(ar)};function Dl(e){if(e.hasOwnProperty("operators")&&(e.operatorsTrie=lr(e.operators)),e.hasOwnProperty("root")&&(e.hasOwnProperty("partials")||(e.partials=e.root),e.hasOwnProperty("layouts")||(e.layouts=e.root)),e.hasOwnProperty("cache")){var t=void 0;typeof e.cache=="number"?t=e.cache>0?new Sn(e.cache):void 0:typeof e.cache=="object"?t=e.cache:t=e.cache?new Sn(1024):void 0,e.cache=t}return e=u({},Je,e),!e.fs.dirname&&e.relativeReference&&(console.warn("[LiquidJS] `fs.dirname` is required for relativeReference, set relativeReference to `false` to suppress this warning, or provide implementation for `fs.dirname`"),e.relativeReference=!1),e.root=qt(e.root),e.partials=qt(e.partials),e.layouts=qt(e.layouts),e}function qt(e){var t=[];return X(e)&&(t=e),O(e)&&(t=[e]),t}var Ge=function(e){s(t,e);function t(r,o){var c=e.call(this,r.message)||this;return c.originalError=r,c.token=o,c.context="",c}return t.prototype.update=function(){var r=this.originalError;this.context=Ul(this.token),this.message=Bl(r.message,this.token),this.stack=this.message+`
`+this.context+`
`+this.stack+`
From `+r.stack},t}(Error),fr=function(e){s(t,e);function t(r,o){var c=e.call(this,new Error(r),o)||this;return c.name="TokenizationError",e.prototype.update.call(c),c}return t}(Ge),Fn=function(e){s(t,e);function t(r,o){var c=e.call(this,r,o)||this;return c.name="ParseError",c.message=r.message,e.prototype.update.call(c),c}return t}(Ge),hr=function(e){s(t,e);function t(r,o){var c=e.call(this,r,o.token)||this;return c.name="RenderError",c.message=r.message,e.prototype.update.call(c),c}return t.is=function(r){return r.name==="RenderError"},t}(Ge),Rn=function(e){s(t,e);function t(r,o){var c=e.call(this,r,o)||this;return c.name="UndefinedVariableError",c.message=r.message,e.prototype.update.call(c),c}return t}(Ge),In=function(e){s(t,e);function t(r){var o=e.call(this,"undefined variable: "+r)||this;return o.name="InternalUndefinedVariableError",o.variableName=r,o}return t}(Error),Ln=function(e){s(t,e);function t(r){var o=e.call(this,r)||this;return o.name="AssertionError",o.message=r+"",o}return t}(Error);function Ul(e){var t=d(e.getPosition(),1),r=t[0],o=e.input.split(`
`),c=Math.max(r-2,1),f=Math.min(r+3,o.length),h=Nn(c,f+1).map(function(m){var g=m===r?">> ":"   ",y=yt(String(m),String(f).length),T=o[m-1];return""+g+y+"| "+T}).join(`
`);return h}function Bl(e,t){t.file&&(e+=", file:"+t.file);var r=d(t.getPosition(),2),o=r[0],c=r[1];return e+=", line:"+o+", col:"+c,e}var bt=function(){function e(t,r,o){t===void 0&&(t={}),r===void 0&&(r=Je),o===void 0&&(o=!1),this.scopes=[{}],this.registers={},this.sync=o,this.opts=r,this.globals=r.globals,this.environments=t}return e.prototype.getRegister=function(t){return this.registers[t]=this.registers[t]||{}},e.prototype.setRegister=function(t,r){return this.registers[t]=r},e.prototype.saveRegister=function(){for(var t=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return r.map(function(c){return[c,t.getRegister(c)]})},e.prototype.restoreRegister=function(t){var r=this;return t.forEach(function(o){var c=d(o,2),f=c[0],h=c[1];return r.setRegister(f,h)})},e.prototype.getAll=function(){return q([this.globals,this.environments],this.scopes).reduce(function(t,r){return u(t,r)},{})},e.prototype.get=function(t){var r=this.findScope(t[0]);return this.getFromScope(r,t)},e.prototype.getFromScope=function(t,r){var o=this;return typeof r=="string"&&(r=r.split(".")),r.reduce(function(c,f){if(c=_l(c,f),fe(c)&&o.opts.strictVariables)throw new In(f);return c},t)},e.prototype.push=function(t){return this.scopes.push(t)},e.prototype.pop=function(){return this.scopes.pop()},e.prototype.bottom=function(){return this.scopes[0]},e.prototype.findScope=function(t){for(var r=this.scopes.length-1;r>=0;r--){var o=this.scopes[r];if(t in o)return o}return t in this.environments?this.environments:this.globals},e}();function _l(e,t){return fe(e)?e:(e=J(e),M(e[t])?e[t]():e instanceof b?e.hasOwnProperty(t)?e[t]:e.liquidMethodMissing(t):t==="size"?Hl(e):t==="first"?jl(e):t==="last"?Yl(e):e[t])}function jl(e){return X(e)?e[0]:e.first}function Yl(e){return X(e)?e[e.length-1]:e.last}function Hl(e){return X(e)||O(e)?e.length:e.size}function Y(e,t){if(!e){var r=typeof t=="function"?t():t||"expect "+e+" to be true";throw new Ln(r)}}var Le;(function(e){e.Partials="partials",e.Layouts="layouts",e.Root="root"})(Le||(Le={}));var Wl=function(){function e(t){if(this.options=t,t.relativeReference){var r=t.fs.sep;Y(r,"`fs.sep` is required for relative reference");var o=new RegExp(["."+r,".."+r,"./","../"].map(function(c){return L(c)}).join("|"));this.shouldLoadRelative=function(c){return o.test(c)}}else this.shouldLoadRelative=function(c){return!1};this.contains=this.options.fs.contains||function(){return!0}}return e.prototype.lookup=function(t,r,o,c){var f,h,m,g,y,T,x,N,k;return l(this,function(I){switch(I.label){case 0:f=this.options.fs,h=this.options[r],I.label=1;case 1:I.trys.push([1,8,9,10]),m=p(this.candidates(t,h,c,r!==Le.Root)),g=m.next(),I.label=2;case 2:return g.done?[3,7]:(y=g.value,o?(T=f.existsSync(y),[3,5]):[3,3]);case 3:return[4,f.exists(y)];case 4:T=I.sent(),I.label=5;case 5:if(T)return[2,y];I.label=6;case 6:return g=m.next(),[3,2];case 7:return[3,10];case 8:return x=I.sent(),N={error:x},[3,10];case 9:try{g&&!g.done&&(k=m.return)&&k.call(m)}finally{if(N)throw N.error}return[7];case 10:throw this.lookupError(t,h)}})},e.prototype.candidates=function(t,r,o,c){var f,h,m,I,g,y,k,T,x,N,k,I,V,j,he,Te,ue,De;return l(this,function(Q){switch(Q.label){case 0:if(f=this.options,h=f.fs,m=f.extname,!(this.shouldLoadRelative(t)&&o))return[3,8];I=h.resolve(this.dirname(o),t,m),Q.label=1;case 1:Q.trys.push([1,6,7,8]),g=p(r),y=g.next(),Q.label=2;case 2:return y.done?[3,5]:(k=y.value,!c||this.contains(k,I)?[4,I]:[3,4]);case 3:return Q.sent(),[3,5];case 4:return y=g.next(),[3,2];case 5:return[3,8];case 6:return T=Q.sent(),he={error:T},[3,8];case 7:try{y&&!y.done&&(Te=g.return)&&Te.call(g)}finally{if(he)throw he.error}return[7];case 8:Q.trys.push([8,13,14,15]),x=p(r),N=x.next(),Q.label=9;case 9:return N.done?[3,12]:(k=N.value,I=h.resolve(k,t,m),!c||this.contains(k,I)?[4,I]:[3,11]);case 10:Q.sent(),Q.label=11;case 11:return N=x.next(),[3,9];case 12:return[3,15];case 13:return V=Q.sent(),ue={error:V},[3,15];case 14:try{N&&!N.done&&(De=x.return)&&De.call(x)}finally{if(ue)throw ue.error}return[7];case 15:return h.fallback===void 0?[3,17]:(j=h.fallback(t),j===void 0?[3,17]:[4,j]);case 16:Q.sent(),Q.label=17;case 17:return[2]}})},e.prototype.dirname=function(t){var r=this.options.fs;return Y(r.dirname,"`fs.dirname` is required for relative reference"),r.dirname(t)},e.prototype.lookupError=function(t,r){var o=new Error("ENOENT");return o.message='ENOENT: Failed to lookup "'+t+'" in "'+r+'"',o.code="ENOENT",o},e}(),$l=function(){function e(){this.buffer=""}return e.prototype.write=function(t){this.buffer+=P(t)},e}(),Jl=function(){function e(){throw this.buffer="",this.stream=null,new Error("streaming not supported in browser")}return e}();function wt(e){var t={then:function(r){return r(e)},catch:function(){return t}};return t}function Pn(e){var t={then:function(r,o){return o?o(e):t},catch:function(r){return r(e)}};return t}function Gl(e){return e&&M(e.then)}function Ql(e){return e&&M(e.next)&&M(e.throw)&&M(e.return)}function ze(e){if(Gl(e))return e;if(Ql(e))return t();return wt(e);function t(r){var o;try{o=e.next(r)}catch(c){return Pn(c)}return o.done?wt(o.value):ze(o.value).then(t,function(c){var f;try{f=e.throw(c)}catch(h){return Pn(h)}return f.done?wt(f.value):t(f.value)})}}function Qe(e){return Promise.resolve(ze(e))}function Tt(e){var t;return ze(e).then(function(r){return t=r,wt(t)}).catch(function(r){throw r}),t}var Kl=function(){function e(){this.buffer=""}return e.prototype.write=function(t){t=$(t),typeof t!="string"&&this.buffer===""?this.buffer=t:this.buffer=P(this.buffer)+P(t)},e}(),Xl=function(){function e(){}return e.prototype.renderTemplatesToNodeStream=function(t,r){var o=this,c=new Jl;return Promise.resolve().then(function(){return ze(o.renderTemplates(t,r,c))}).then(function(){return c.end()},function(f){return c.error(f)}),c.stream},e.prototype.renderTemplates=function(t,r,o){var c,f,h,m,g,y,T,x,N;return l(this,function(k){switch(k.label){case 0:o||(o=r.opts.keepOutputType?new Kl:new $l),k.label=1;case 1:k.trys.push([1,8,9,10]),c=p(t),f=c.next(),k.label=2;case 2:if(f.done)return[3,7];h=f.value,k.label=3;case 3:return k.trys.push([3,5,,6]),[4,h.render(r,o)];case 4:return m=k.sent(),m&&o.write(m),o.break||o.continue?[3,7]:[3,6];case 5:throw g=k.sent(),y=hr.is(g)?g:new hr(g,h),y;case 6:return f=c.next(),[3,2];case 7:return[3,10];case 8:return T=k.sent(),x={error:T},[3,10];case 9:try{f&&!f.done&&(N=c.return)&&N.call(c)}finally{if(x)throw x.error}return[7];case 10:return[2,o.buffer]}})},e}();(function(e){e[e.Number=1]="Number",e[e.Literal=2]="Literal",e[e.Tag=4]="Tag",e[e.Output=8]="Output",e[e.HTML=16]="HTML",e[e.Filter=32]="Filter",e[e.Hash=64]="Hash",e[e.PropertyAccess=128]="PropertyAccess",e[e.Word=256]="Word",e[e.Range=512]="Range",e[e.Quoted=1024]="Quoted",e[e.Operator=2048]="Operator",e[e.Delimited=12]="Delimited"})(i.TokenKind||(i.TokenKind={}));function Vn(e){return!!(oe(e)&i.TokenKind.Delimited)}function pr(e){return oe(e)===i.TokenKind.Operator}function Nt(e){return oe(e)===i.TokenKind.HTML}function Cn(e){return oe(e)===i.TokenKind.Output}function xt(e){return oe(e)===i.TokenKind.Tag}function dr(e){return oe(e)===i.TokenKind.Quoted}function zn(e){return oe(e)===i.TokenKind.Literal}function Dn(e){return oe(e)===i.TokenKind.Number}function Un(e){return oe(e)===i.TokenKind.PropertyAccess}function Bn(e){return oe(e)===i.TokenKind.Word}function _n(e){return oe(e)===i.TokenKind.Range}function oe(e){return e?e.kind:-1}var Zl=Object.freeze({isDelimitedToken:Vn,isOperatorToken:pr,isHTMLToken:Nt,isOutputToken:Cn,isTagToken:xt,isQuotedToken:dr,isLiteralToken:zn,isNumberToken:Dn,isPropertyAccessToken:Un,isWordToken:Bn,isRangeToken:_n}),jn=function(){function e(t,r){this.handlers={},this.stopRequested=!1,this.tokens=t,this.parseToken=r}return e.prototype.on=function(t,r){return this.handlers[t]=r,this},e.prototype.trigger=function(t,r){var o=this.handlers[t];return o?(o.call(this,r),!0):!1},e.prototype.start=function(){this.trigger("start");for(var t;!this.stopRequested&&(t=this.tokens.shift());)if(!this.trigger("token",t)&&!(xt(t)&&this.trigger("tag:"+t.name,t))){var r=this.parseToken(t,this.tokens);this.trigger("template",r)}return this.stopRequested||this.trigger("end"),this},e.prototype.stop=function(){return this.stopRequested=!0,this},e}(),mr=function(){function e(t){this.token=t}return e}(),ef=function(e){s(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.equals=function(r){return fe($(r))},t.prototype.gt=function(){return!1},t.prototype.geq=function(){return!1},t.prototype.lt=function(){return!1},t.prototype.leq=function(){return!1},t.prototype.valueOf=function(){return null},t}(b),Yn=function(e){s(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.equals=function(r){return r instanceof t?!1:(r=$(r),O(r)||X(r)?r.length===0:Tn(r)?Object.keys(r).length===0:!1)},t.prototype.gt=function(){return!1},t.prototype.geq=function(){return!1},t.prototype.lt=function(){return!1},t.prototype.leq=function(){return!1},t.prototype.valueOf=function(){return""},t}(b),tf=function(e){s(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.equals=function(r){return r===!1||fe($(r))?!0:O(r)?/^\s*$/.test(r):e.prototype.equals.call(this,r)},t}(Yn),Hn=new ef,Wn={true:!0,false:!1,nil:Hn,null:Hn,empty:new Yn,blank:new tf},rf=/[\da-fA-F]/,$n=/[0-7]/,Jn={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",v:"\v"};function Gn(e){var t=e.charCodeAt(0);return t>=97?t-87:t>=65?t-55:t-48}function Qn(e){for(var t="",r=1;r<e.length-1;r++){if(e[r]!=="\\"){t+=e[r];continue}if(Jn[e[r+1]]!==void 0)t+=Jn[e[++r]];else if(e[r+1]==="u"){for(var o=0,c=r+2;c<=r+5&&rf.test(e[c]);)o=o*16+Gn(e[c++]);r=c-1,t+=String.fromCharCode(o)}else if(!$n.test(e[r+1]))t+=e[++r];else{for(var c=r+1,o=0;c<=r+3&&$n.test(e[c]);)o=o*8+Gn(e[c++]);r=c-1,t+=String.fromCharCode(o)}}return t}var Kn=function(){function e(t){this.postfix=q(cf(t))}return e.prototype.evaluate=function(t,r){var o,c,f,h,m,g,y,T,x,N,k,I;return l(this,function(V){switch(V.label){case 0:Y(t,"unable to evaluate: context not defined"),o=[],V.label=1;case 1:V.trys.push([1,9,10,11]),c=p(this.postfix),f=c.next(),V.label=2;case 2:return f.done?[3,8]:(h=f.value,pr(h)?[4,o.pop()]:[3,5]);case 3:return m=V.sent(),[4,o.pop()];case 4:return g=V.sent(),y=of(t.opts.operators,h,g,m,t),o.push(y),[3,7];case 5:return x=(T=o).push,[4,H(h,t,r&&this.postfix.length===1)];case 6:x.apply(T,[V.sent()]),V.label=7;case 7:return f=c.next(),[3,2];case 8:return[3,11];case 9:return N=V.sent(),k={error:N},[3,11];case 10:try{f&&!f.done&&(I=c.return)&&I.call(c)}finally{if(k)throw k.error}return[7];case 11:return[2,o[0]]}})},e}();function H(e,t,r){if(r===void 0&&(r=!1),Un(e))return nf(e,t,r);if(_n(e))return af(e,t);if(zn(e))return uf(e);if(Dn(e))return sf(e);if(Bn(e))return e.getText();if(dr(e))return Ot(e)}function nf(e,t,r){var o=e.props.map(function(c){return H(c,t,!1)});try{return t.get(q([e.propertyName],o))}catch(c){if(r&&c.name==="InternalUndefinedVariableError")return null;throw new Rn(c,e)}}function sf(e){var t=e.whole.content+"."+(e.decimal?e.decimal.content:"");return Number(t)}function Ot(e){return Qn(e.getText())}function of(e,t,r,o,c){var f=e[t.operator];return f(r,o,c)}function uf(e){return Wn[e.literal]}function af(e,t){var r=H(e.lhs,t),o=H(e.rhs,t);return Nn(+r,+o+1)}function cf(e){var t,r,o,c,f,h,m;return l(this,function(g){switch(g.label){case 0:t=[],g.label=1;case 1:g.trys.push([1,10,11,12]),r=p(e),o=r.next(),g.label=2;case 2:if(o.done)return[3,9];if(c=o.value,!pr(c))return[3,6];g.label=3;case 3:return t.length&&t[t.length-1].getPrecedence()>c.getPrecedence()?[4,t.pop()]:[3,5];case 4:return g.sent(),[3,3];case 5:return t.push(c),[3,8];case 6:return[4,c];case 7:g.sent(),g.label=8;case 8:return o=r.next(),[3,2];case 9:return[3,12];case 10:return f=g.sent(),h={error:f},[3,12];case 11:try{o&&!o.done&&(m=r.return)&&m.call(r)}finally{if(h)throw h.error}return[7];case 12:return t.length?[4,t.pop()]:[3,14];case 13:return g.sent(),[3,12];case 14:return[2]}})}var ne=function(){function e(t,r,o,c,f){this.kind=t,this.input=r,this.begin=o,this.end=c,this.file=f}return e.prototype.getText=function(){return this.input.slice(this.begin,this.end)},e.prototype.getPosition=function(){for(var t=d([1,1],2),r=t[0],o=t[1],c=0;c<this.begin;c++)this.input[c]===`
`?(r++,o=1):o++;return[r,o]},e.prototype.size=function(){return this.end-this.begin},e}(),Xn=function(e){s(t,e);function t(r,o,c,f,h,m,g,y){var T=e.call(this,r,c,f,h,y)||this;T.trimLeft=!1,T.trimRight=!1,T.content=T.getText();var x=o[0]==="-",N=or(o)==="-";return T.content=o.slice(x?1:0,N?-1:o.length).trim(),T.trimLeft=x||m,T.trimRight=N||g,T}return t}(ne);function lf(e,t){for(var r=!1,o=0;o<e.length;o++){var c=e[o];!Vn(c)||(!r&&c.trimLeft&&ff(e[o-1],t.greedy),xt(c)&&(c.name==="raw"?r=!0:c.name==="endraw"&&(r=!1)),!r&&c.trimRight&&hf(e[o+1],t.greedy))}}function ff(e,t){if(!(!e||!Nt(e)))for(var r=t?$e:Mn;D[e.input.charCodeAt(e.end-1-e.trimRight)]&r;)e.trimRight++}function hf(e,t){if(!(!e||!Nt(e))){for(var r=t?$e:Mn;D[e.input.charCodeAt(e.begin+e.trimLeft)]&r;)e.trimLeft++;e.input.charAt(e.begin+e.trimLeft)===`
`&&e.trimLeft++}}var pf=function(e){s(t,e);function t(r,o){var c=e.call(this,i.TokenKind.Number,r.input,r.begin,o?o.end:r.end,r.file)||this;return c.whole=r,c.decimal=o,c}return t}(ne),Ke=function(e){s(t,e);function t(r,o,c,f){var h=e.call(this,i.TokenKind.Word,r,o,c,f)||this;return h.input=r,h.begin=o,h.end=c,h.file=f,h.content=h.getText(),h}return t.prototype.isNumber=function(r){r===void 0&&(r=!1);for(var o=r&&D[this.input.charCodeAt(this.begin)]&zl?this.begin+1:this.begin,c=o;c<this.end;c++)if(!(D[this.input.charCodeAt(c)]&Cl))return!1;return!0},t}(ne),df=function(e){s(t,e);function t(r,o,c,f){var h=e.call(this,i.TokenKind.Literal,r,o,c,f)||this;return h.input=r,h.begin=o,h.end=c,h.file=f,h.literal=h.getText(),h}return t}(ne),Zn={"==":1,"!=":1,">":1,"<":1,">=":1,"<=":1,contains:1,and:0,or:0},mf=function(e){s(t,e);function t(r,o,c,f){var h=e.call(this,i.TokenKind.Operator,r,o,c,f)||this;return h.input=r,h.begin=o,h.end=c,h.file=f,h.operator=h.getText(),h}return t.prototype.getPrecedence=function(){var r=this.getText();return r in Zn?Zn[r]:1},t}(ne),ei=function(e){s(t,e);function t(r,o,c){var f=e.call(this,i.TokenKind.PropertyAccess,r.input,r.begin,c,r.file)||this;return f.variable=r,f.props=o,f.propertyName=f.variable instanceof Ke?f.variable.getText():Qn(f.variable.getText()),f}return t}(ne),gf=function(e){s(t,e);function t(r,o,c,f,h,m){var g=e.call(this,i.TokenKind.Filter,c,f,h,m)||this;return g.name=r,g.args=o,g}return t}(ne),yf=function(e){s(t,e);function t(r,o,c,f,h,m){var g=e.call(this,i.TokenKind.Hash,r,o,c,m)||this;return g.input=r,g.begin=o,g.end=c,g.name=f,g.value=h,g.file=m,g}return t}(ne),vf=function(e){s(t,e);function t(r,o,c,f){var h=e.call(this,i.TokenKind.Quoted,r,o,c,f)||this;return h.input=r,h.begin=o,h.end=c,h.file=f,h}return t}(ne),ti=function(e){s(t,e);function t(r,o,c,f){var h=e.call(this,i.TokenKind.HTML,r,o,c,f)||this;return h.input=r,h.begin=o,h.end=c,h.file=f,h.trimLeft=0,h.trimRight=0,h}return t.prototype.getContent=function(){return this.input.slice(this.begin+this.trimLeft,this.end-this.trimRight)},t}(ne),qf=function(e){s(t,e);function t(r,o,c,f,h,m){var g=e.call(this,i.TokenKind.Range,r,o,c,m)||this;return g.input=r,g.begin=o,g.end=c,g.lhs=f,g.rhs=h,g.file=m,g}return t}(ne),bf=function(e){s(t,e);function t(r,o,c,f,h){var m=this,g=f.trimOutputLeft,y=f.trimOutputRight,T=f.outputDelimiterLeft,x=f.outputDelimiterRight,N=r.slice(o+T.length,c-x.length);return m=e.call(this,i.TokenKind.Output,N,r,o,c,g,y,h)||this,m}return t}(Xn);function wf(e,t,r,o){o===void 0&&(o=e.length);for(var c=r,f=t,h;c[e[f]]&&f<o;)c=c[e[f++]],c.end&&(h=c);return!h||h.needBoundary&&D[e.charCodeAt(f)]&cr?-1:f}var G=function(){function e(t,r,o){o===void 0&&(o=""),this.input=t,this.trie=r,this.file=o,this.p=0,this.rawBeginAt=-1,this.N=t.length}return e.prototype.readExpression=function(){return new Kn(this.readExpressionTokens())},e.prototype.readExpressionTokens=function(){var t,r,o;return l(this,function(c){switch(c.label){case 0:return t=this.readValue(),t?[4,t]:[2];case 1:c.sent(),c.label=2;case 2:return this.p<this.N?(r=this.readOperator(),r?(o=this.readValue(),o?[4,r]:[2]):[2]):[3,5];case 3:return c.sent(),[4,o];case 4:return c.sent(),[3,2];case 5:return[2]}})},e.prototype.readOperator=function(){this.skipBlank();var t=wf(this.input,this.p,this.trie,this.p+8);if(t!==-1)return new mf(this.input,this.p,this.p=t,this.file)},e.prototype.readFilters=function(){for(var t=[];;){var r=this.readFilter();if(!r)return t;t.push(r)}},e.prototype.readFilter=function(){var t=this;if(this.skipBlank(),this.end())return null;Y(this.peek()==="|",function(){return"unexpected token at "+t.snapshot()}),this.p++;var r=this.p,o=this.readIdentifier();if(!o.size())return null;var c=[];if(this.skipBlank(),this.peek()===":")do{++this.p;var f=this.readFilterArg();for(f&&c.push(f);this.p<this.N&&this.peek()!==","&&this.peek()!=="|";)++this.p}while(this.peek()===",");return new gf(o.getText(),c,this.input,r,this.p,this.file)},e.prototype.readFilterArg=function(){var t=this.readValue();if(!!t){if(this.skipBlank(),this.peek()!==":")return t;++this.p;var r=this.readValue();return[t.getText(),r]}},e.prototype.readTopLevelTokens=function(t){t===void 0&&(t=Je);for(var r=[];this.p<this.N;){var o=this.readTopLevelToken(t);r.push(o)}return lf(r,t),r},e.prototype.readTopLevelToken=function(t){var r=t.tagDelimiterLeft,o=t.outputDelimiterLeft;return this.rawBeginAt>-1?this.readEndrawOrRawContent(t):this.match(r)?this.readTagToken(t):this.match(o)?this.readOutputToken(t):this.readHTMLToken(t)},e.prototype.readHTMLToken=function(t){for(var r=this.p;this.p<this.N;){var o=t.tagDelimiterLeft,c=t.outputDelimiterLeft;if(this.match(o)||this.match(c))break;++this.p}return new ti(this.input,r,this.p,this.file)},e.prototype.readTagToken=function(t){t===void 0&&(t=Je);var r=this,o=r.file,c=r.input,f=this.p;if(this.readToDelimiter(t.tagDelimiterRight)===-1)throw this.mkError("tag "+this.snapshot(f)+" not closed",f);var h=new gr(c,f,this.p,t,o);return h.name==="raw"&&(this.rawBeginAt=f),h},e.prototype.readToDelimiter=function(t){for(;this.p<this.N;){if(this.peekType()&An){this.readQuoted();continue}if(++this.p,this.rmatch(t))return this.p}return-1},e.prototype.readOutputToken=function(t){t===void 0&&(t=Je);var r=this,o=r.file,c=r.input,f=t.outputDelimiterRight,h=this.p;if(this.readToDelimiter(f)===-1)throw this.mkError("output "+this.snapshot(h)+" not closed",h);return new bf(c,h,this.p,t,o)},e.prototype.readEndrawOrRawContent=function(t){for(var r=t.tagDelimiterLeft,o=t.tagDelimiterRight,c=this.p,f=this.readTo(r)-r.length;this.p<this.N;){if(this.readIdentifier().getText()!=="endraw"){f=this.readTo(r)-r.length;continue}for(;this.p<=this.N;){if(this.rmatch(o)){var h=this.p;return c===f?(this.rawBeginAt=-1,new gr(this.input,c,h,t,this.file)):(this.p=f,new ti(this.input,c,f,this.file))}if(this.rmatch(r))break;this.p++}}throw this.mkError("raw "+this.snapshot(this.rawBeginAt)+" not closed",c)},e.prototype.mkError=function(t,r){return new fr(t,new Ke(this.input,r,this.N,this.file))},e.prototype.snapshot=function(t){return t===void 0&&(t=this.p),JSON.stringify(El(this.input.slice(t),16))},e.prototype.readWord=function(){return console.warn("Tokenizer#readWord() will be removed, use #readIdentifier instead"),this.readIdentifier()},e.prototype.readIdentifier=function(){this.skipBlank();for(var t=this.p;this.peekType()&cr;)++this.p;return new Ke(this.input,t,this.p,this.file)},e.prototype.readHashes=function(){for(var t=[];;){var r=this.readHash();if(!r)return t;t.push(r)}},e.prototype.readHash=function(){this.skipBlank(),this.peek()===","&&++this.p;var t=this.p,r=this.readIdentifier();if(!!r.size()){var o;return this.skipBlank(),this.peek()===":"&&(++this.p,o=this.readValue()),new yf(this.input,t,this.p,r,o,this.file)}},e.prototype.remaining=function(){return this.input.slice(this.p)},e.prototype.advance=function(t){t===void 0&&(t=1),this.p+=t},e.prototype.end=function(){return this.p>=this.N},e.prototype.readTo=function(t){for(;this.p<this.N;)if(++this.p,this.rmatch(t))return this.p;return-1},e.prototype.readValue=function(){var t=this.readQuoted()||this.readRange();if(t)return t;if(this.peek()==="["){this.p++;var r=this.readQuoted();return!r||this.peek()!=="]"?void 0:(this.p++,new ei(r,[],this.p))}var o=this.readIdentifier();if(!!o.size()){for(var c=o.isNumber(!0),f=[];;)if(this.peek()==="["){c=!1,this.p++;var r=this.readValue()||new Ke(this.input,this.p,this.p,this.file);this.readTo("]"),f.push(r)}else if(this.peek()==="."&&this.peek(1)!=="."){this.p++;var r=this.readIdentifier();if(!r.size())break;r.isNumber()||(c=!1),f.push(r)}else break;return!f.length&&Wn.hasOwnProperty(o.content)?new df(this.input,o.begin,o.end,this.file):c?new pf(o,f[0]):new ei(o,f,this.p)}},e.prototype.readRange=function(){this.skipBlank();var t=this.p;if(this.peek()==="("){++this.p;var r=this.readValueOrThrow();this.p+=2;var o=this.readValueOrThrow();return++this.p,new qf(this.input,t,this.p,r,o,this.file)}},e.prototype.readValueOrThrow=function(){var t=this,r=this.readValue();return Y(r,function(){return"unexpected token "+t.snapshot()+", value expected"}),r},e.prototype.readQuoted=function(){this.skipBlank();var t=this.p;if(!!(this.peekType()&An)){++this.p;for(var r=!1;this.p<this.N&&(++this.p,!(this.input[this.p-1]===this.input[t]&&!r));)r?r=!1:this.input[this.p-1]==="\\"&&(r=!0);return new vf(this.input,t,this.p,this.file)}},e.prototype.readFileName=function(){for(var t=this.p;!(this.peekType()&$e)&&this.peek()!==","&&this.p<this.N;)this.p++;return new Ke(this.input,t,this.p,this.file)},e.prototype.match=function(t){for(var r=0;r<t.length;r++)if(t[r]!==this.input[this.p+r])return!1;return!0},e.prototype.rmatch=function(t){for(var r=0;r<t.length;r++)if(t[t.length-1-r]!==this.input[this.p-1-r])return!1;return!0},e.prototype.peekType=function(t){return t===void 0&&(t=0),D[this.input.charCodeAt(this.p+t)]},e.prototype.peek=function(t){return t===void 0&&(t=0),this.input[this.p+t]},e.prototype.skipBlank=function(){for(;this.peekType()&$e;)++this.p},e}(),gr=function(e){s(t,e);function t(r,o,c,f,h){var m=this,g=f.trimTagLeft,y=f.trimTagRight,T=f.tagDelimiterLeft,x=f.tagDelimiterRight,N=r.slice(o+T.length,c-x.length);m=e.call(this,i.TokenKind.Tag,N,r,o,c,g,y,h)||this;var k=new G(m.content,f.operatorsTrie);if(m.name=k.readIdentifier().getText(),!m.name)throw new fr("illegal tag syntax",m);return k.skipBlank(),m.args=k.remaining(),m}return t}(Xn),Pe=function(){function e(t){var r,o;this.hash={};var c=new G(t,{});try{for(var f=p(c.readHashes()),h=f.next();!h.done;h=f.next()){var m=h.value;this.hash[m.name.content]=m.value}}catch(g){r={error:g}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}return e.prototype.render=function(t){var r,o,c,f,h,m,g,y,T,x;return l(this,function(N){switch(N.label){case 0:r={},N.label=1;case 1:N.trys.push([1,8,9,10]),o=p(Object.keys(this.hash)),c=o.next(),N.label=2;case 2:return c.done?[3,7]:(f=c.value,h=r,m=f,this.hash[f]!==void 0?[3,3]:(g=!0,[3,5]));case 3:return[4,H(this.hash[f],t)];case 4:g=N.sent(),N.label=5;case 5:h[m]=g,N.label=6;case 6:return c=o.next(),[3,2];case 7:return[3,10];case 8:return y=N.sent(),T={error:y},[3,10];case 9:try{c&&!c.done&&(x=o.return)&&x.call(o)}finally{if(T)throw T.error}return[7];case 10:return[2,r]}})},e}();function Tf(e){return X(e)}var ri=function(){function e(t,r,o,c){this.name=t,this.impl=r||kl,this.args=o,this.liquid=c}return e.prototype.render=function(t,r){var o,c,f=[];try{for(var h=p(this.args),m=h.next();!m.done;m=h.next()){var g=m.value;Tf(g)?f.push([g[0],H(g[1],r)]):f.push(H(g,r))}}catch(y){o={error:y}}finally{try{m&&!m.done&&(c=h.return)&&c.call(h)}finally{if(o)throw o.error}}return this.impl.apply({context:r,liquid:this.liquid},q([t],f))},e}(),we=function(){function e(t,r){this.filters=[];var o=new G(t,r.options.operatorsTrie);this.initial=o.readExpression(),this.filters=o.readFilters().map(function(c){var f=c.name,h=c.args;return new ri(f,r.filters.get(f),h,r)})}return e.prototype.value=function(t,r){var o,c,f,h,m,g,y;return l(this,function(T){switch(T.label){case 0:return r=r||t.opts.lenientIf&&this.filters.length>0&&this.filters[0].name==="default",[4,this.initial.evaluate(t,r)];case 1:o=T.sent(),T.label=2;case 2:T.trys.push([2,7,8,9]),c=p(this.filters),f=c.next(),T.label=3;case 3:return f.done?[3,6]:(h=f.value,[4,h.render(o,t)]);case 4:o=T.sent(),T.label=5;case 5:return f=c.next(),[3,3];case 6:return[3,9];case 7:return m=T.sent(),g={error:m},[3,9];case 8:try{f&&!f.done&&(y=c.return)&&y.call(c)}finally{if(g)throw g.error}return[7];case 9:return[2,o]}})},e}(),Nf=function(e){s(t,e);function t(r,o,c){var f=e.call(this,r)||this;f.name=r.name;var h=c.tags.get(r.name);return f.impl=Object.create(h),f.impl.liquid=c,f.impl.parse&&f.impl.parse(r,o),f}return t.prototype.render=function(r,o){var c,f;return l(this,function(h){switch(h.label){case 0:return[4,new Pe(this.token.args).render(r)];case 1:return c=h.sent(),f=this.impl,M(f.render)?[4,f.render(r,o,c)]:[3,3];case 2:return[2,h.sent()];case 3:return[2]}})},t}(mr),xf=function(e){s(t,e);function t(r,o){var c=e.call(this,r)||this;return c.value=new we(r.content,o),c}return t.prototype.render=function(r,o){var c;return l(this,function(f){switch(f.label){case 0:return[4,this.value.value(r,!1)];case 1:return c=f.sent(),o.write(c),[2]}})},t}(mr),Of=function(e){s(t,e);function t(r){var o=e.call(this,r)||this;return o.str=r.getContent(),o}return t.prototype.render=function(r,o){return l(this,function(c){return o.write(this.str),[2]})},t}(mr),kf=function(){function e(t){this.liquid=t,this.cache=this.liquid.options.cache,this.fs=this.liquid.options.fs,this.parseFile=this.cache?this._parseFileCached:this._parseFile,this.loader=new Wl(this.liquid.options)}return e.prototype.parse=function(t,r){var o=new G(t,this.liquid.options.operatorsTrie,r),c=o.readTopLevelTokens(this.liquid.options);return this.parseTokens(c)},e.prototype.parseTokens=function(t){for(var r,o=[];r=t.shift();)o.push(this.parseToken(r,t));return o},e.prototype.parseToken=function(t,r){try{return xt(t)?new Nf(t,r,this.liquid):Cn(t)?new xf(t,this.liquid):new Of(t)}catch(o){throw new Fn(o,t)}},e.prototype.parseStream=function(t){var r=this;return new jn(t,function(o,c){return r.parseToken(o,c)})},e.prototype._parseFileCached=function(t,r,o,c){var f,h,m,g;return o===void 0&&(o=Le.Root),l(this,function(y){switch(y.label){case 0:return f=this.loader.shouldLoadRelative(t)?c+","+t:o+":"+t,[4,this.cache.read(f)];case 1:if(h=y.sent(),h)return[2,h];m=ze(this._parseFile(t,r,o,c)),this.cache.write(f,m),y.label=2;case 2:return y.trys.push([2,4,,5]),[4,m];case 3:return[2,y.sent()];case 4:return g=y.sent(),this.cache.remove(f),[3,5];case 5:return[2]}})},e.prototype._parseFile=function(t,r,o,c){var f,h,m,g;return o===void 0&&(o=Le.Root),l(this,function(y){switch(y.label){case 0:return[4,this.loader.lookup(t,o,r,c)];case 1:return f=y.sent(),m=(h=this.liquid).parse,r?(g=this.fs.readFileSync(f),[3,4]):[3,2];case 2:return[4,this.fs.readFile(f)];case 3:g=y.sent(),y.label=4;case 4:return[2,m.apply(h,[g,f])]}})},e}(),Sf={parse:function(e){var t=new G(e.args,this.liquid.options.operatorsTrie);this.key=t.readIdentifier().content,t.skipBlank(),Y(t.peek()==="=",function(){return"illegal token "+e.getText()}),t.advance(),this.value=t.remaining()},render:function(e){var t,r;return l(this,function(o){switch(o.label){case 0:return t=e.bottom(),r=this.key,[4,this.liquid._evalValue(this.value,e)];case 1:return t[r]=o.sent(),[2]}})}};function yr(e){return X(e)?e:O(e)&&e.length>0?[e]:Tn(e)?Object.keys(e).map(function(t){return[t,e[t]]}):[]}function Xe(e){return X(e)?e:[e]}var vr=function(e){s(t,e);function t(r,o,c){var f=e.call(this)||this;return f.i=0,f.length=r,f.name=c+"-"+o,f}return t.prototype.next=function(){this.i++},t.prototype.index0=function(){return this.i},t.prototype.index=function(){return this.i+1},t.prototype.first=function(){return this.i===0},t.prototype.last=function(){return this.i===this.length-1},t.prototype.rindex=function(){return this.length-this.i},t.prototype.rindex0=function(){return this.length-this.i-1},t.prototype.valueOf=function(){return JSON.stringify(this)},t}(b),ni=["offset","limit","reversed"],Ef={type:"block",parse:function(e,t){var r=this,o=new G(e.args,this.liquid.options.operatorsTrie),c=o.readIdentifier(),f=o.readIdentifier(),h=o.readValue();Y(c.size()&&f.content==="in"&&h,function(){return"illegal tag: "+e.getText()}),this.variable=c.content,this.collection=h,this.hash=new Pe(o.remaining()),this.templates=[],this.elseTemplates=[];var m,g=this.liquid.parser.parseStream(t).on("start",function(){return m=r.templates}).on("tag:else",function(){return m=r.elseTemplates}).on("tag:endfor",function(){return g.stop()}).on("template",function(y){return m.push(y)}).on("end",function(){throw new Error("tag "+e.getText()+" not closed")});g.start()},render:function(e,t){var r,o,c,f,h,m,g,y,T,x,N,k;return l(this,function(I){switch(I.label){case 0:return r=this.liquid.renderer,c=yr,[4,H(this.collection,e)];case 1:return o=c.apply(void 0,[I.sent()]),o.length?[3,3]:[4,r.renderTemplates(this.elseTemplates,e,t)];case 2:return I.sent(),[2];case 3:return[4,this.hash.render(e)];case 4:f=I.sent(),h=this.liquid.options.orderedFilterParameters?Object.keys(f).filter(function(V){return ni.includes(V)}):ni.filter(function(V){return f[V]!==void 0}),o=h.reduce(function(V,j){return j==="offset"?Mf(V,f.offset):j==="limit"?Ff(V,f.limit):Af(V)},o),m={forloop:new vr(o.length,this.collection.getText(),this.variable)},e.push(m),I.label=5;case 5:I.trys.push([5,10,11,12]),g=p(o),y=g.next(),I.label=6;case 6:return y.done?[3,9]:(T=y.value,m[this.variable]=T,[4,r.renderTemplates(this.templates,e,t)]);case 7:if(I.sent(),t.break)return t.break=!1,[3,9];t.continue=!1,m.forloop.next(),I.label=8;case 8:return y=g.next(),[3,6];case 9:return[3,12];case 10:return x=I.sent(),N={error:x},[3,12];case 11:try{y&&!y.done&&(k=g.return)&&k.call(g)}finally{if(N)throw N.error}return[7];case 12:return e.pop(),[2]}})}};function Af(e){return q(e).reverse()}function Mf(e,t){return e.slice(t)}function Ff(e,t){return e.slice(0,t)}var Rf={parse:function(e,t){var r=this,o=new G(e.args,this.liquid.options.operatorsTrie);this.variable=If(o),Y(this.variable,function(){return e.args+" not valid identifier"}),this.templates=[];var c=this.liquid.parser.parseStream(t);c.on("tag:endcapture",function(){return c.stop()}).on("template",function(f){return r.templates.push(f)}).on("end",function(){throw new Error("tag "+e.getText()+" not closed")}),c.start()},render:function(e){var t,r;return l(this,function(o){switch(o.label){case 0:return t=this.liquid.renderer,[4,t.renderTemplates(this.templates,e)];case 1:return r=o.sent(),e.bottom()[this.variable]=r,[2]}})}};function If(e){var t=e.readIdentifier().content;if(t)return t;var r=e.readQuoted();if(r)return Ot(r)}var Lf={parse:function(e,t){var r=this;this.cond=new we(e.args,this.liquid),this.cases=[],this.elseTemplates=[];var o=[],c=this.liquid.parser.parseStream(t).on("tag:when",function(f){o=[];for(var h=new G(f.args,r.liquid.options.operatorsTrie);!h.end();){var m=h.readValue();r.cases.push({val:m,templates:o}),h.readTo(",")}}).on("tag:else",function(){return o=r.elseTemplates}).on("tag:endcase",function(){return c.stop()}).on("template",function(f){return o.push(f)}).on("end",function(){throw new Error("tag "+e.getText()+" not closed")});c.start()},render:function(e,t){var r,o,c,f,h,m,g,y,T,x;return l(this,function(N){switch(N.label){case 0:return r=this.liquid.renderer,c=$,[4,this.cond.value(e,e.opts.lenientIf)];case 1:o=c.apply(void 0,[N.sent()]),N.label=2;case 2:N.trys.push([2,7,8,9]),f=p(this.cases),h=f.next(),N.label=3;case 3:return h.done?[3,6]:(m=h.value,g=H(m.val,e,e.opts.lenientIf),g!==o?[3,5]:[4,r.renderTemplates(m.templates,e,t)]);case 4:return N.sent(),[2];case 5:return h=f.next(),[3,3];case 6:return[3,9];case 7:return y=N.sent(),T={error:y},[3,9];case 8:try{h&&!h.done&&(x=f.return)&&x.call(f)}finally{if(T)throw T.error}return[7];case 9:return[4,r.renderTemplates(this.elseTemplates,e,t)];case 10:return N.sent(),[2]}})}},Pf={parse:function(e,t){var r=this.liquid.parser.parseStream(t);r.on("token",function(o){o.name==="endcomment"&&r.stop()}).on("end",function(){throw new Error("tag "+e.getText()+" not closed")}),r.start()}},qr;(function(e){e[e.OUTPUT=0]="OUTPUT",e[e.STORE=1]="STORE"})(qr||(qr={}));var Ze=qr,Vf={parseFilePath:br,renderFilePath:wr,parse:function(e){var t=e.args,r=new G(t,this.liquid.options.operatorsTrie);for(this.file=this.parseFilePath(r,this.liquid),this.currentFile=e.file;!r.end();){r.skipBlank();var o=r.p,c=r.readIdentifier();if((c.content==="with"||c.content==="for")&&(r.skipBlank(),r.peek()!==":")){var f=r.readValue();if(f){var h=r.p,m=r.readIdentifier(),g=void 0;m.content==="as"?g=r.readIdentifier():r.p=h,this[c.content]={value:f,alias:g&&g.content},r.skipBlank(),r.peek()===","&&r.advance();continue}}r.p=o;break}this.hash=new Pe(r.remaining())},render:function(e,t){var r,o,c,f,h,m,g,y,T,N,k,x,N,k,I,V,j,he,ue,Te,ue,De,Q;return l(this,function(Z){switch(Z.label){case 0:return r=this,o=r.liquid,c=r.hash,[4,this.renderFilePath(this.file,e,o)];case 1:return f=Z.sent(),Y(f,function(){return'illegal filename "'+f+'"'}),h=new bt({},e.opts,e.sync),m=h.bottom(),g=u,y=[m],[4,c.render(e)];case 2:if(g.apply(void 0,y.concat([Z.sent()])),this.with&&(T=this.with,N=T.value,k=T.alias,m[k||f]=H(N,e)),!this.for)return[3,12];x=this.for,N=x.value,k=x.alias,I=H(N,e),I=yr(I),m.forloop=new vr(I.length,N.getText(),k),Z.label=3;case 3:Z.trys.push([3,9,10,11]),V=p(I),j=V.next(),Z.label=4;case 4:return j.done?[3,8]:(he=j.value,m[k]=he,[4,o._parsePartialFile(f,h.sync,this.currentFile)]);case 5:return ue=Z.sent(),[4,o.renderer.renderTemplates(ue,h,t)];case 6:Z.sent(),m.forloop.next(),Z.label=7;case 7:return j=V.next(),[3,4];case 8:return[3,11];case 9:return Te=Z.sent(),De={error:Te},[3,11];case 10:try{j&&!j.done&&(Q=V.return)&&Q.call(V)}finally{if(De)throw De.error}return[7];case 11:return[3,15];case 12:return[4,o._parsePartialFile(f,h.sync,this.currentFile)];case 13:return ue=Z.sent(),[4,o.renderer.renderTemplates(ue,h,t)];case 14:Z.sent(),Z.label=15;case 15:return[2]}})}};function br(e,t){if(t.options.dynamicPartials){var r=e.readValue();if(r===void 0)throw new TypeError('illegal argument "'+e.input+'"');if(r.getText()==="none")return null;if(dr(r)){var o=t.parse(Ot(r));return o.length===1&&Nt(o[0].token)?o[0].token.getContent():o}return r}var c=e.readFileName().getText();return c==="none"?null:c}function wr(e,t,r){return typeof e=="string"?e:Array.isArray(e)?r.renderer.renderTemplates(e,t):H(e,t)}var Cf={parseFilePath:br,renderFilePath:wr,parse:function(e){var t=e.args,r=new G(t,this.liquid.options.operatorsTrie);this.file=this.parseFilePath(r,this.liquid),this.currentFile=e.file;var o=r.p,c=r.readIdentifier();c.content==="with"?(r.skipBlank(),r.peek()!==":"?this.withVar=r.readValue():r.p=o):r.p=o,this.hash=new Pe(r.remaining())},render:function(e,t){var r,o,c,f,h,m,g,y,T;return l(this,function(x){switch(x.label){case 0:return r=this,o=r.liquid,c=r.hash,f=r.withVar,h=o.renderer,[4,this.renderFilePath(this.file,e,o)];case 1:return m=x.sent(),Y(m,function(){return'illegal filename "'+m+'"'}),g=e.saveRegister("blocks","blockMode"),e.setRegister("blocks",{}),e.setRegister("blockMode",Ze.OUTPUT),[4,c.render(e)];case 2:return y=x.sent(),f&&(y[m]=H(f,e)),[4,o._parsePartialFile(m,e.sync,this.currentFile)];case 3:return T=x.sent(),e.push(y),[4,h.renderTemplates(T,e,t)];case 4:return x.sent(),e.pop(),e.restoreRegister(g),[2]}})}},zf={parse:function(e){var t=new G(e.args,this.liquid.options.operatorsTrie);this.variable=t.readIdentifier().content},render:function(e,t){var r=e.environments;te(r[this.variable])||(r[this.variable]=0),t.write(P(--r[this.variable]))}},Df={parse:function(e){var t=new G(e.args,this.liquid.options.operatorsTrie),r=t.readValue();for(t.skipBlank(),this.candidates=[],r&&(t.peek()===":"?(this.group=r,t.advance()):this.candidates.push(r));!t.end();){var o=t.readValue();o&&this.candidates.push(o),t.readTo(",")}Y(this.candidates.length,function(){return"empty candidates: "+e.getText()})},render:function(e,t){var r=H(this.group,e),o="cycle:"+r+":"+this.candidates.join(","),c=e.getRegister("cycle"),f=c[o];f===void 0&&(f=c[o]=0);var h=this.candidates[f];f=(f+1)%this.candidates.length,c[o]=f;var m=H(h,e);t.write(m)}},Uf={parse:function(e,t){var r=this;this.branches=[],this.elseTemplates=[];var o;this.liquid.parser.parseStream(t).on("start",function(){return r.branches.push({predicate:new we(e.args,r.liquid),templates:o=[]})}).on("tag:elsif",function(c){return r.branches.push({predicate:new we(c.args,r.liquid),templates:o=[]})}).on("tag:else",function(){return o=r.elseTemplates}).on("tag:endif",function(){this.stop()}).on("template",function(c){return o.push(c)}).on("end",function(){throw new Error("tag "+e.getText()+" not closed")}).start()},render:function(e,t){var r,o,c,f,h,m,g,y,T,x;return l(this,function(N){switch(N.label){case 0:r=this.liquid.renderer,N.label=1;case 1:N.trys.push([1,7,8,9]),o=p(this.branches),c=o.next(),N.label=2;case 2:return c.done?[3,6]:(f=c.value,h=f.predicate,m=f.templates,[4,h.value(e,e.opts.lenientIf)]);case 3:return g=N.sent(),be(g,e)?[4,r.renderTemplates(m,e,t)]:[3,5];case 4:return N.sent(),[2];case 5:return c=o.next(),[3,2];case 6:return[3,9];case 7:return y=N.sent(),T={error:y},[3,9];case 8:try{c&&!c.done&&(x=o.return)&&x.call(o)}finally{if(T)throw T.error}return[7];case 9:return[4,r.renderTemplates(this.elseTemplates,e,t)];case 10:return N.sent(),[2]}})}},Bf={parse:function(e){var t=new G(e.args,this.liquid.options.operatorsTrie);this.variable=t.readIdentifier().content},render:function(e,t){var r=e.environments;te(r[this.variable])||(r[this.variable]=0);var o=r[this.variable];r[this.variable]++,t.write(P(o))}},_f={parseFilePath:br,renderFilePath:wr,parse:function(e,t){var r=new G(e.args,this.liquid.options.operatorsTrie);this.file=this.parseFilePath(r,this.liquid),this.currentFile=e.file,this.hash=new Pe(r.remaining()),this.tpls=this.liquid.parser.parseTokens(t)},render:function(e,t){var r,o,c,f,h,m,g,y,T,x,N;return l(this,function(k){switch(k.label){case 0:return r=this,o=r.liquid,c=r.hash,f=r.file,h=o.renderer,f!==null?[3,2]:(e.setRegister("blockMode",Ze.OUTPUT),[4,h.renderTemplates(this.tpls,e,t)]);case 1:return k.sent(),[2];case 2:return[4,this.renderFilePath(this.file,e,o)];case 3:return m=k.sent(),Y(m,function(){return'illegal filename "'+m+'"'}),[4,o._parseLayoutFile(m,e.sync,this.currentFile)];case 4:return g=k.sent(),e.setRegister("blockMode",Ze.STORE),[4,h.renderTemplates(this.tpls,e)];case 5:return y=k.sent(),T=e.getRegister("blocks"),T[""]===void 0&&(T[""]=function(I,V){return V.write(y)}),e.setRegister("blockMode",Ze.OUTPUT),N=(x=e).push,[4,c.render(e)];case 6:return N.apply(x,[k.sent()]),[4,h.renderTemplates(g,e,t)];case 7:return k.sent(),e.pop(),[2]}})}},ii=function(e){s(t,e);function t(r){r===void 0&&(r=function(){return""});var o=e.call(this)||this;return o.superBlockRender=r,o}return t.prototype.super=function(){return this.superBlockRender()},t}(b),jf={parse:function(e,t){var r=this,o=/\w+/.exec(e.args);this.block=o?o[0]:"",this.tpls=[],this.liquid.parser.parseStream(t).on("tag:endblock",function(){this.stop()}).on("template",function(c){return r.tpls.push(c)}).on("end",function(){throw new Error("tag "+e.getText()+" not closed")}).start()},render:function(e,t){var r;return l(this,function(o){switch(o.label){case 0:return r=this.getBlockRender(e),e.getRegister("blockMode")!==Ze.STORE?[3,1]:(e.getRegister("blocks")[this.block]=r,[3,3]);case 1:return[4,r(new ii,t)];case 2:o.sent(),o.label=3;case 3:return[2]}})},getBlockRender:function(e){var t=this,r=t.liquid,o=t.tpls,c=e.getRegister("blocks")[this.block],f=function(h,m){return l(this,function(g){switch(g.label){case 0:return e.push({block:h}),[4,r.renderer.renderTemplates(o,e,m)];case 1:return g.sent(),e.pop(),[2]}})};return c?function(h,m){return c(new ii(function(){return f(h,m)}),m)}:f}},Yf={parse:function(e,t){var r=this;this.tokens=[];var o=this.liquid.parser.parseStream(t);o.on("token",function(c){c.name==="endraw"?o.stop():r.tokens.push(c)}).on("end",function(){throw new Error("tag "+e.getText()+" not closed")}),o.start()},render:function(){return this.tokens.map(function(e){return e.getText()}).join("")}},Hf=function(e){s(t,e);function t(r,o,c,f){var h=e.call(this,r,c,f)||this;return h.length=r,h.cols=o,h}return t.prototype.row=function(){return Math.floor(this.i/this.cols)+1},t.prototype.col0=function(){return this.i%this.cols},t.prototype.col=function(){return this.col0()+1},t.prototype.col_first=function(){return this.col0()===0},t.prototype.col_last=function(){return this.col()===this.cols},t}(vr),Wf={parse:function(e,t){var r=this,o=new G(e.args,this.liquid.options.operatorsTrie),c=o.readIdentifier();o.skipBlank();var f=o.readIdentifier();Y(f&&f.content==="in",function(){return"illegal tag: "+e.getText()}),this.variable=c.content,this.collection=o.readValue(),this.hash=new Pe(o.remaining()),this.templates=[];var h,m=this.liquid.parser.parseStream(t).on("start",function(){return h=r.templates}).on("tag:endtablerow",function(){return m.stop()}).on("template",function(g){return h.push(g)}).on("end",function(){throw new Error("tag "+e.getText()+" not closed")});m.start()},render:function(e,t){var r,o,c,f,h,m,g,y,T,x;return l(this,function(N){switch(N.label){case 0:return o=yr,[4,H(this.collection,e)];case 1:return r=o.apply(void 0,[N.sent()]),[4,this.hash.render(e)];case 2:c=N.sent(),f=c.offset||0,h=c.limit===void 0?r.length:c.limit,r=r.slice(f,f+h),m=c.cols||r.length,g=this.liquid.renderer,y=new Hf(r.length,m,this.collection.getText(),this.variable),T={tablerowloop:y},e.push(T),x=0,N.label=3;case 3:return x<r.length?(T[this.variable]=r[x],y.col0()===0&&(y.row()!==1&&t.write("</tr>"),t.write('<tr class="row'+y.row()+'">')),t.write('<td class="col'+y.col()+'">'),[4,g.renderTemplates(this.templates,e,t)]):[3,6];case 4:N.sent(),t.write("</td>"),N.label=5;case 5:return x++,y.next(),[3,3];case 6:return r.length&&t.write("</tr>"),e.pop(),[2]}})}},$f={parse:function(e,t){var r=this;this.branches=[],this.elseTemplates=[];var o;this.liquid.parser.parseStream(t).on("start",function(){return r.branches.push({predicate:new we(e.args,r.liquid),test:vt,templates:o=[]})}).on("tag:elsif",function(c){return r.branches.push({predicate:new we(c.args,r.liquid),test:be,templates:o=[]})}).on("tag:else",function(){return o=r.elseTemplates}).on("tag:endunless",function(){this.stop()}).on("template",function(c){return o.push(c)}).on("end",function(){throw new Error("tag "+e.getText()+" not closed")}).start()},render:function(e,t){var r,o,c,f,h,m,g,y,T,x,N;return l(this,function(k){switch(k.label){case 0:r=this.liquid.renderer,k.label=1;case 1:k.trys.push([1,7,8,9]),o=p(this.branches),c=o.next(),k.label=2;case 2:return c.done?[3,6]:(f=c.value,h=f.predicate,m=f.test,g=f.templates,[4,h.value(e,e.opts.lenientIf)]);case 3:return y=k.sent(),m(y,e)?[4,r.renderTemplates(g,e,t)]:[3,5];case 4:return k.sent(),[2];case 5:return c=o.next(),[3,2];case 6:return[3,9];case 7:return T=k.sent(),x={error:T},[3,9];case 8:try{c&&!c.done&&(N=o.return)&&N.call(o)}finally{if(x)throw x.error}return[7];case 9:return[4,r.renderTemplates(this.elseTemplates,e,t)];case 10:return k.sent(),[2]}})}},Jf={render:function(e,t){t.break=!0}},Gf={render:function(e,t){t.continue=!0}},Qf={assign:Sf,for:Ef,capture:Rf,case:Lf,comment:Pf,include:Cf,render:Vf,decrement:zf,increment:Bf,cycle:Df,if:Uf,layout:_f,block:jf,raw:Yf,tablerow:Wf,unless:$f,break:Jf,continue:Gf},Kf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},Xf={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function si(e){return P(e).replace(/&|<|>|"|'/g,function(t){return Kf[t]})}function Zf(e){return String(e).replace(/&(amp|lt|gt|#34|#39);/g,function(t){return Xf[t]})}function eh(e){return si(Zf(e))}function th(e){return e.replace(/\n/g,`<br />
`)}function rh(e){return e.replace(/<script.*?<\/script>|<!--.*?-->|<style.*?<\/style>|<.*?>/g,"")}var nh=Math.abs,ih=Math.max,sh=Math.min,oh=Math.ceil,uh=function(e,t){return e/t},ah=Math.floor,ch=function(e,t){return e-t},lh=function(e,t){return e%t},fh=function(e,t){return e*t};function hh(e,t){t===void 0&&(t=0);var r=Math.pow(10,t);return Math.round(e*r)/r}function ph(e,t){return Number(e)+Number(t)}function dh(e,t){return!e||!e.sort?[]:t!==void 0?q(e).sort(function(r,o){return kn(r[t],o[t])}):q(e).sort(kn)}var mh=function(e){return e.split("+").map(decodeURIComponent).join(" ")},gh=function(e){return e.split(" ").map(encodeURIComponent).join("+")},yh=function(e,t){return e.join(t===void 0?" ":t)},vh=function(e){return X(e)?or(e):""},qh=function(e){return X(e)?e[0]:""},bh=function(e){return q(e).reverse()};function wh(e,t){var r=this,o=function(c){return t?r.context.getFromScope(c,t.split(".")):c};return Xe(e).sort(function(c,f){return c=o(c),f=o(f),c<f?-1:c>f?1:0})}var Th=function(e){return e&&e.length||0};function Nh(e,t){var r=this;return Xe(e).map(function(o){return r.context.getFromScope(o,t.split("."))})}function xh(e){return Xe(e).filter(function(t){return!fe(t)})}function Oh(e,t){return Xe(e).concat(t)}function kh(e,t,r){return r===void 0&&(r=1),t=t<0?e.length+t:t,e.slice(t,t+r)}function Sh(e,t,r){var o=this;return Xe(e).filter(function(c){var f=o.context.getFromScope(c,String(t).split("."));return r===void 0?be(f,o.context):f===r})}function Eh(e){var t={};return(e||[]).filter(function(r){return t.hasOwnProperty(String(r))?!1:(t[String(r)]=!0,!0)})}var Ah=/%([-_0^#:]+)?(\d+)?([EO])?(.)/,oi=["January","February","March","April","May","June","July","August","September","October","November","December"],ui=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Mh=oi.map(ci),Fh=ui.map(ci),ai={1:"st",2:"nd",3:"rd",default:"th"};function ci(e){return e.slice(0,3)}function Rh(e){var t=Ih(e)?29:28;return[31,t,31,30,31,30,31,31,30,31,30,31]}function li(e){for(var t=0,r=0;r<e.getMonth();++r)t+=Rh(e)[r];return t+e.getDate()}function fi(e,t){var r=li(e)+(t-e.getDay()),o=new Date(e.getFullYear(),0,1),c=7-o.getDay()+t;return String(Math.floor((r-c)/7)+1)}function Ih(e){var t=e.getFullYear();return!!((t&3)===0&&(t%100||t%400===0&&t))}function Lh(e){var t=e.getDate().toString(),r=parseInt(t.slice(-1));return ai[r]||ai.default}function Ph(e){return parseInt(e.getFullYear().toString().substring(0,2),10)}var Vh={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},Ch={a:" ",A:" ",b:" ",B:" ",c:" ",e:" ",k:" ",l:" ",p:" ",P:" "},Tr={a:function(e){return Fh[e.getDay()]},A:function(e){return ui[e.getDay()]},b:function(e){return Mh[e.getMonth()]},B:function(e){return oi[e.getMonth()]},c:function(e){return e.toLocaleString()},C:function(e){return Ph(e)},d:function(e){return e.getDate()},e:function(e){return e.getDate()},H:function(e){return e.getHours()},I:function(e){return String(e.getHours()%12||12)},j:function(e){return li(e)},k:function(e){return e.getHours()},l:function(e){return String(e.getHours()%12||12)},L:function(e){return e.getMilliseconds()},m:function(e){return e.getMonth()+1},M:function(e){return e.getMinutes()},N:function(e,t){var r=Number(t.width)||9,o=String(e.getMilliseconds()).substr(0,r);return Ol(o,r,"0")},p:function(e){return e.getHours()<12?"AM":"PM"},P:function(e){return e.getHours()<12?"am":"pm"},q:function(e){return Lh(e)},s:function(e){return Math.round(e.valueOf()/1e3)},S:function(e){return e.getSeconds()},u:function(e){return e.getDay()||7},U:function(e){return fi(e,0)},w:function(e){return e.getDay()},W:function(e){return fi(e,1)},x:function(e){return e.toLocaleDateString()},X:function(e){return e.toLocaleTimeString()},y:function(e){return e.getFullYear().toString().substring(2,4)},Y:function(e){return e.getFullYear()},z:function(e,t){var r=Math.abs(e.getTimezoneOffset()),o=Math.floor(r/60),c=r%60;return(e.getTimezoneOffset()>0?"-":"+")+yt(o,2,"0")+(t.flags[":"]?":":"")+yt(c,2,"0")},t:function(){return"	"},n:function(){return`
`},"%":function(){return"%"}};Tr.h=Tr.b;function zh(e,t){for(var r="",o=t,c;c=Ah.exec(o);)r+=o.slice(0,c.index),o=o.slice(c.index+c[0].length),r+=Dh(e,c);return r+o}function Dh(e,t){var r,o,c=d(t,5),f=c[0],h=c[1],m=h===void 0?"":h,g=c[2],y=c[3],T=c[4],x=Tr[T];if(!x)return f;var N={};try{for(var k=p(m),I=k.next();!I.done;I=k.next()){var V=I.value;N[V]=!0}}catch(ue){r={error:ue}}finally{try{I&&!I.done&&(o=k.return)&&o.call(k)}finally{if(r)throw r.error}}var j=String(x(e,{flags:N,width:g,modifier:y})),he=Ch[T]||"0",Te=g||Vh[T]||0;return N["^"]?j=j.toUpperCase():N["#"]&&(j=Sl(j)),N._?he=" ":N["0"]&&(he="0"),N["-"]&&(Te=0),yt(j,Te,he)}var Uh=6e4,Bh=new Date().getTimezoneOffset(),_h=/([zZ]|([+-])(\d{2}):(\d{2}))$/,hi=function(e){s(t,e);function t(r,o){var c=this;if(r instanceof t)return r;var f=(Bh-o)*Uh,h=new Date(r).getTime()+f;return c=e.call(this,h)||this,c.timezoneOffset=o,c}return t.prototype.getTimezoneOffset=function(){return this.timezoneOffset},t.createDateFixedToTimezone=function(r){var o=r.match(_h);if(o&&o[1]==="Z")return new t(+new Date(r),0);if(o&&o[2]&&o[3]&&o[4]){var c=d(o,5),f=c[2],h=c[3],m=c[4],g=(f==="+"?-1:1)*(parseInt(h,10)*60+parseInt(m,10));return new t(+new Date(r),g)}return new Date(r)},t}(Date);function jh(e,t){var r=this.context.opts,o;return e==="now"||e==="today"?o=new Date:te(e)?o=new Date(e*1e3):O(e)?/^\d+$/.test(e)?o=new Date(+e*1e3):r.preserveTimezones?o=hi.createDateFixedToTimezone(e):o=new Date(e):o=e,Yh(o)?(r.hasOwnProperty("timezoneOffset")&&(o=new hi(o,r.timezoneOffset)),zh(o,t)):e}function Yh(e){return e instanceof Date&&!isNaN(e.getTime())}function Hh(e,t){return X(e)||O(e)?e.length?e:t:vt($(e),this.context)?t:e}function Wh(e){return JSON.stringify(e)}function $h(e,t){return Y(arguments.length===2,"append expect 2 arguments"),P(e)+P(t)}function Jh(e,t){return Y(arguments.length===2,"prepend expect 2 arguments"),P(t)+P(e)}function Gh(e){return P(e).replace(/^\s+/,"")}function Qh(e){return P(e).toLowerCase()}function Kh(e){return P(e).toUpperCase()}function Xh(e,t){return P(e).split(String(t)).join("")}function Zh(e,t){return P(e).replace(String(t),"")}function ep(e){return P(e).replace(/\s+$/,"")}function tp(e,t){return P(e).split(String(t))}function rp(e){return P(e).trim()}function np(e){return P(e).replace(/\n/g,"")}function ip(e){return e=P(e),e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function sp(e,t,r){return P(e).split(String(t)).join(r)}function op(e,t,r){return P(e).replace(String(t),r)}function up(e,t,r){return t===void 0&&(t=50),r===void 0&&(r="..."),e=P(e),e.length<=t?e:e.substr(0,t-r.length)+r}function ap(e,t,r){t===void 0&&(t=15),r===void 0&&(r="...");var o=e.split(/\s+/),c=o.slice(0,t).join(" ");return o.length>=t&&(c+=r),c}var cp=Object.freeze({escape:si,escapeOnce:eh,newlineToBr:th,stripHtml:rh,abs:nh,atLeast:ih,atMost:sh,ceil:oh,dividedBy:uh,floor:ah,minus:ch,modulo:lh,times:fh,round:hh,plus:ph,sortNatural:dh,urlDecode:mh,urlEncode:gh,join:yh,last:vh,first:qh,reverse:bh,sort:wh,size:Th,map:Nh,compact:xh,concat:Oh,slice:kh,where:Sh,uniq:Eh,date:jh,Default:Hh,json:Wh,append:$h,prepend:Jh,lstrip:Gh,downcase:Qh,upcase:Kh,remove:Xh,removeFirst:Zh,rstrip:ep,split:tp,strip:rp,stripNewlines:np,capitalize:ip,replace:sp,replaceFirst:op,truncate:up,truncatewords:ap}),lp=function(){function e(){this.impls={}}return e.prototype.get=function(t){var r=this.impls[t];return Y(r,function(){return'tag "'+t+'" not found'}),r},e.prototype.set=function(t,r){this.impls[t]=r},e}(),fp=function(){function e(t,r){this.strictFilters=t,this.liquid=r,this.impls={}}return e.prototype.get=function(t){var r=this.impls[t];return Y(r||!this.strictFilters,function(){return"undefined filter: "+t}),r},e.prototype.set=function(t,r){this.impls[t]=r},e.prototype.create=function(t,r){return new ri(t,this.get(t),r,this.liquid)},e}(),hp="9.28.4",pp=function(){function e(t){var r=this;t===void 0&&(t={}),this.options=Dl(t),this.parser=new kf(this),this.renderer=new Xl,this.filters=new fp(this.options.strictFilters,this),this.tags=new lp,wn(Qf,function(o,c){return r.registerTag(On(c),o)}),wn(cp,function(o,c){return r.registerFilter(On(c),o)})}return e.prototype.parse=function(t,r){return this.parser.parse(t,r)},e.prototype._render=function(t,r,o){var c=new bt(r,this.options,o);return this.renderer.renderTemplates(t,c)},e.prototype.render=function(t,r){return a(this,void 0,void 0,function(){return l(this,function(o){return[2,Qe(this._render(t,r,!1))]})})},e.prototype.renderSync=function(t,r){return Tt(this._render(t,r,!0))},e.prototype.renderToNodeStream=function(t,r){var o=new bt(r,this.options);return this.renderer.renderTemplatesToNodeStream(t,o)},e.prototype._parseAndRender=function(t,r,o){var c=this.parse(t);return this._render(c,r,o)},e.prototype.parseAndRender=function(t,r){return a(this,void 0,void 0,function(){return l(this,function(o){return[2,Qe(this._parseAndRender(t,r,!1))]})})},e.prototype.parseAndRenderSync=function(t,r){return Tt(this._parseAndRender(t,r,!0))},e.prototype._parsePartialFile=function(t,r,o){return this.parser.parseFile(t,r,Le.Partials,o)},e.prototype._parseLayoutFile=function(t,r,o){return this.parser.parseFile(t,r,Le.Layouts,o)},e.prototype.parseFile=function(t){return a(this,void 0,void 0,function(){return l(this,function(r){return[2,Qe(this.parser.parseFile(t,!1))]})})},e.prototype.parseFileSync=function(t){return Tt(this.parser.parseFile(t,!0))},e.prototype.renderFile=function(t,r){return a(this,void 0,void 0,function(){var o;return l(this,function(c){switch(c.label){case 0:return[4,this.parseFile(t)];case 1:return o=c.sent(),[2,this.render(o,r)]}})})},e.prototype.renderFileSync=function(t,r){var o=this.parseFileSync(t);return this.renderSync(o,r)},e.prototype.renderFileToNodeStream=function(t,r){return a(this,void 0,void 0,function(){var o;return l(this,function(c){switch(c.label){case 0:return[4,this.parseFile(t)];case 1:return o=c.sent(),[2,this.renderToNodeStream(o,r)]}})})},e.prototype._evalValue=function(t,r){var o=new we(t,this);return o.value(r,!1)},e.prototype.evalValue=function(t,r){return a(this,void 0,void 0,function(){return l(this,function(o){return[2,Qe(this._evalValue(t,r))]})})},e.prototype.evalValueSync=function(t,r){return Tt(this._evalValue(t,r))},e.prototype.registerFilter=function(t,r){this.filters.set(t,r)},e.prototype.registerTag=function(t,r){this.tags.set(t,r)},e.prototype.plugin=function(t){return t.call(this,e)},e.prototype.express=function(){var t=this,r=!0;return function(o,c,f){var h,m,g;if(r){r=!1;var y=qt(this.root);(h=t.options.root).unshift.apply(h,q(y)),(m=t.options.layouts).unshift.apply(m,q(y)),(g=t.options.partials).unshift.apply(g,q(y))}t.renderFile(o,c).then(function(T){return f(null,T)},f)}},e}();i.AssertionError=Ln,i.Context=bt,i.Drop=b,i.Expression=Kn,i.Hash=Pe,i.InternalUndefinedVariableError=In,i.Liquid=pp,i.LiquidError=Ge,i.ParseError=Fn,i.ParseStream=jn,i.RenderError=hr,i.TagToken=gr,i.Token=ne,i.TokenizationError=fr,i.Tokenizer=G,i.TypeGuards=Zl,i.UndefinedVariableError=Rn,i.Value=we,i.assert=Y,i.createTrie=lr,i.defaultOperators=ar,i.evalQuotedToken=Ot,i.evalToken=H,i.isFalsy=vt,i.isTruthy=be,i.toPromise=Qe,i.toThenable=ze,i.toValue=$,i.version=hp,Object.defineProperty(i,"__esModule",{value:!0})})});var q1=v((ow,bn)=>{var{DataFrame:Tl,isArray:Nl,set:iw,sort:sw}=ql(),{Liquid:v1}=wl(),xl=new v1;String.prototype.replaceAll||(String.prototype.replaceAll=function(i,n){return this.split(i).join(n)});var sr={SHOULD_SHOW_WARNINGS:!0,date:{toGTDateObject(i){let n={year:i.getFullYear(),month:i.getMonth()+1,day:i.getDate(),hour:i.getHours(),minute:i.getMinutes()};return sr.object.toAssociation(n)}},object:{toAssociation(i){function n(s){let u=typeof s;if(u==="string")return JSON.stringify(s);if(u==="number")return s;if(u==="boolean")return JSON.stringify(s.toString());if(u==="function")return JSON.stringify("<function>");if(u==="undefined")return JSON.stringify("undefined");if(s===null)return JSON.stringify("null");let a=[];return Object.keys(s).forEach(l=>{let p=n(s[l]);a.push('"'+l+'" -> '+p)}),"{ "+a.join(", ")+" }"}return n(i)}},template:{registerLiquidFilter(i,n){xl.registerFilter(i,n)},async liquidBuild(i,n){return await xl.parseAndRender(i,n)}},program:{extractQuestions(i){sr.SHOULD_SHOW_WARNINGS&&console.warn("WARNING: The `gt.program.extractQuestions` function is highly experimental and may not always work correctly!");let n=["audio","back","body","button","caption","chart","classes","clear","click","component","data","database","email","error","events","every","everytime","experiment","for","frequency","goto","group","hide","html","identifier","if","image","label","list","login","maintain","management","menu","method","name","navigation","page","path","points","program","progress","purchase","quit","randomize","repeat","required","reset","return","send","service","set","settings","share","start","status","subject","success","summary","switch","to","trendline","trigger","until","video","wait","what","when","while","with","xaxis","yaxis"],s=["after","answers","before","blank","confirm","countdown","date","default","max","min","multiple","question","save","shuffle","tags","throwaway","time","tip","type"],u="",a={},l=i.split(`
`),p=[];if(l.forEach(b=>{if(b.includes("*question:"))Object.keys(a).length>0&&(p.push(a),u="",a={}),u=b.split("*")[0]+"	",a.question=b.split(":").slice(1).join(":").trim();else{let w=b.split(/[^\s]/g);if(!w)return;if(w[0].includes(" "))throw new Error("Your GT program's indentation includes spaces! GT programs should only be indented with tabs.");if(w[0]===u){if(b=b.trim(),b.length===0)return;let F=b.split(" ")[0].replaceAll("*","").replaceAll(":","").trim();if(b.startsWith(">>"))return;if(b.startsWith("*")&&s.some(O=>O.match(F))){let O=b.split(":"),M=O[0].replaceAll("*","").trim(),L=O.slice(1).join(":").trim();if(L.length>0)try{a[M]=JSON.parse(L)}catch{a[M]=L}else a[M]=!0}else{if(n.some(O=>O.match(F))||!a.question)return;a.answers||(a.answers=[]),Nl(a.answers)&&a.answers.push(b)}}}}),Object.keys(a).length>0&&p.push(a),p.length===0)return new Tl;let d=p.map(b=>s.map(w=>b[w]?Nl(b[w])?b[w].join(" | "):b[w]:null)),q=new Tl(d);return q.columns=s,q.get(null,["question"].concat(s.filter(b=>b!=="question")))}}};typeof bn<"u"&&(bn.exports=sr);typeof window<"u"&&(window.gt=sr)});q1();})();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
