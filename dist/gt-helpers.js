(()=>{var rt=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(n,s)=>(typeof require!="undefined"?require:n)[s]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var w=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports);var ge=w((jb,Ii)=>{var zr=class extends Error{constructor(n){typeof window<"u"?super(n):super(`

\x1B[31m`+n+`
\x1B[0m`)}};Ii.exports=zr});var k=w((Vb,Li)=>{var ld=ge();Li.exports=function(r,n){if(!r)throw new ld(n)}});var F=w((Bb,Ri)=>{function fd(r){try{return r instanceof Array||typeof r.constructor<"u"&&r.constructor.name==="Array"}catch{return!1}}Ri.exports=fd});var R=w((Ub,Pi)=>{function hd(r){try{return!!r._symbol&&r._symbol===Symbol.for("@jrc03c/js-math-tools/dataframe")}catch{return!1}}Pi.exports=hd});var ne=w((Jb,Ci)=>{function pd(r){return typeof r=="function"}Ci.exports=pd});var D=w(($b,zi)=>{function dd(r){return typeof r=="number"&&!isNaN(r)}zi.exports=dd});var C=w((Hb,ji)=>{function md(r){return r===null||typeof r>"u"}ji.exports=md});var Ee=w((Yb,Vi)=>{var gd=F(),yd=C();function vd(r){return typeof r=="object"&&!yd(r)&&!gd(r)}Vi.exports=vd});var I=w((Wb,Bi)=>{function qd(r){try{return!!r._symbol&&r._symbol===Symbol.for("@jrc03c/js-math-tools/series")}catch{return!1}}Bi.exports=qd});var nt=w((Kb,$i)=>{var wd=k(),Ui=F(),bd=R(),Td=ne(),jr=D(),Ji=Ee(),Nd=I();function Vr(r,n){if(bd(r)){let c=Vr(r.values,n);return c.length>0&&jr(c[0])&&c[0]>=0&&c[0]<r.index.length&&(c[0]=r.index[c[0]]),c.length>1&&jr(c[1])&&c[1]>=0&&c[1]<r.columns.length&&(c[1]=r.columns[c[1]]),c}if(Nd(r)){let c=Vr(r.values,n);return c.length>0&&jr(c[0])&&c[0]>=0&&c[0]<r.index.length&&(c[0]=r.index[c[0]]),c}if(wd(Ji(r)||Ui(r),"You must pass (1) an object, array, Series, or DataFrame and (2) a function or value into the `indexOf` function!"),!Td(n)){let c=n;n=h=>h===c}function s(c,h,p){if(p=p||[],p.indexOf(c)>-1)return null;if(Ji(c)){p.push(c);let m=Object.keys(c);for(let q=0;q<m.length;q++){let T=m[q],x=c[T];if(h(x))return[T];let E=s(x,h,p);if(E&&E.length>0)return[T].concat(E)}}else if(Ui(c)){p.push(c);for(let m=0;m<c.length;m++){let q=c[m];if(h(q))return[m];let T=s(q,h,p);if(T&&T.length>0)return[m].concat(T)}}else if(h(c))return[];return null}function u(c){try{return n(c)}catch{return!1}}let a=s(r,u);return a&&a.length>0?a:null}$i.exports=Vr});var ye=w((Gb,Hi)=>{var Sd=nt(),Od=F(),kd=R(),xd=I();function Ed(r){function n(u,a,c){if(kd(u)||xd(u))return u.copy();if(a=a||[],c=c||"",a.indexOf(u)>-1){let h=c.split("/").slice(c.startsWith("/")?1:0);if(h.some((m,q)=>{let T=h.slice(0,h.length-q-1),x=s;return T.forEach(E=>{x=x[E]}),x===u}))return`<reference to "${s===u?"/":"/"+Sd(s,u).join("/")}">`}if(typeof u=="object"){if(u===null)return null;if(a.push(u),Od(u))return u.map((h,p)=>n(h,a,c+"/"+p));{let h={};return Object.keys(u).forEach(p=>{h[p]=n(u[p],a,c+"/"+p)}),h}}else return u}let s=r;return n(r)}Hi.exports=Ed});var H=w((Qb,Ki)=>{var Fd=k(),_d=ye(),Yi=F(),Dd=R(),Ad=I();function Wi(r){if(Dd(r)||Ad(r))return Wi(r.values);Fd(Yi(r),"The `flatten` function only works on arrays, Series, and DataFrames!");function n(s){let u=[];return _d(s).forEach(a=>{Yi(a)?u=u.concat(n(a)):u.push(a)}),u}return n(r)}Ki.exports=Wi});var ve=w((Xb,Qi)=>{var Gi=ye();function Md(r,n){function s(u,a){let c=typeof u;if(c!==typeof a)return!1;if(c==="undefined")return!0;if(c==="boolean"||c==="symbol")return u===a;if(c==="number"||c==="bigint")return u.toString()==="NaN"&&a.toString()==="NaN"?!0:u===a;if(c==="string"||c==="function")return u===a;if(c==="object"){if(u===null||a===null)return u===null&&a===null;{let p=Object.keys(u),m=Object.keys(a);if(p.length!==m.length)return!1;for(let q=0;q<p.length;q++){let T=p[q];if(!s(u[T],a[T]))return!1}return!0}}}return s(Gi(r),Gi(n))}Qi.exports=Md});var de=w((Zb,ts)=>{var Id=k(),Ld=H(),Rd=F(),Xi=R(),Pd=ne(),Zi=I(),Cd=C();function it(r){let n="abcdefg1234567890",s="";for(;s.length<r;)s+=n[parseInt(Math.random()*n.length)];return s}var zd=it(256),jd=it(256),Vd=it(256),Bd=it(256),Ud=it(256);function es(r){if(Xi(r)||Zi(r))return es(r.values);Id(Rd(r),"The `set` function only works on arrays, Series, and DataFrames!");let n=[],s={};return Ld(r).forEach(u=>{let a=typeof u=="object"&&u===null?zd:Cd(u)?jd:Pd(u)?u.toString():typeof u=="symbol"?u.toString()+" - "+Ud:u===1/0?Vd:u===-1/0?Bd:Xi(u)?u.toJSONString():Zi(u)?JSON.stringify(u.toObject()):JSON.stringify(u);s[a]||n.push(u),s[a]=!0}),n}ts.exports=es});var _t=w((eT,is)=>{var Jd=k(),Br=H(),rs=F(),$d=R(),ns=ve(),Hd=ne(),Yd=I(),Wd=de();function Ft(r,n){if($d(r)||Yd(r))return arguments.length>1?Ft(r.values,n):Ft(r.values,r.values);if(Jd(rs(r),"The first argument to the `count` function must be an array, Series, or DataFrame!"),Hd(n))return Br(r).filter(s=>n(s)).length;if(rs(n)){let s=Br(r);return Wd(n).map(u=>({item:u,count:s.filter(a=>ns(a,u)).length}))}else return arguments.length>1?Br(r).filter(s=>ns(s,n)).length:Ft(r,r)}is.exports=Ft});var st=w((tT,os)=>{var Kd=k(),ss=F(),Gd=R(),Qd=I();function Ur(r){if(Gd(r)||Qd(r))return Ur(r.values);Kd(ss(r),"The `isJagged` function only works on arrays, Series, and DataFrames!");let n=0,s=null;for(let u=0;u<r.length;u++)if(ss(r[u])){if(n++,Ur(r[u]))return!0;if(s===null)s=r[u].length;else if(r[u].length!==s)return!0}return n>0&&n<r.length}os.exports=Ur});var Dt=w((rT,cs)=>{var Xd=k(),us=F(),Zd=R(),em=I();function as(r){if(Zd(r)||em(r))return as(r.values);Xd(us(r),"The `isNested` function only works on arrays, Series, and DataFrames!");for(let n=0;n<r.length;n++)if(us(r[n]))return!0;return!1}cs.exports=as});var Fe=w((nT,fs)=>{var Be=k(),tm=F(),rm=Dt(),nm=D(),im=C(),He="You must pass a natural number or a one-dimensional array of natural numbers into the `ndarray` function!";function ls(r){Be(!im(r),He),tm(r)||(r=[r]),Be(!rm(r),He),Be(r.length>0,He);let n=r[0];if(Be(nm(n),He),Be(parseInt(n)===n,He),Be(n>=0,He),Be(n!==1/0,"We can't create an array containing an infinite number of values!"),r.length===1){let s=[];for(let u=0;u<n;u++)s.push(void 0);return s}else{let s=[];for(let u=0;u<n;u++)s.push(ls(r.slice(1)));return s}}fs.exports=ls});var ot=w((iT,hs)=>{var sm=k(),om=F(),um=R(),am=I();function Jr(r){if(um(r)||am(r)){let s=r.copy();return s.values=Jr(s.values),s.index=Jr(s.index),s}sm(om(r),"The `reverse` function only works on arrays, Series, and DataFrames!");let n=[];for(let s=r.length-1;s>=0;s--)n.push(r[s]);return n}hs.exports=Jr});var se=w((sT,ps)=>{var $r=k(),Hr=D(),Yr=C(),cm=ot();function lm(r,n,s=1){$r(!Yr(r)&&!Yr(n)&&!Yr(s),"You must pass two numbers and optionally a step value to the `range` function!"),$r(Hr(r)&&Hr(n)&&Hr(s),"You must pass two numbers and optionally a step value to the `range` function!"),$r(s>0,"The step value must be greater than 0! (NOTE: The step value is a magnitude; it does not indicate direction.)");let u=!1;if(r>n){u=!0;let c=r;r=n+s,n=c+s}let a=[];for(let c=r;c<n;c+=s)a.push(c);return u&&(a=cm(a)),a}ps.exports=lm});var J=w((oT,ys)=>{var fm=k(),ds=F(),hm=R(),pm=ve(),dm=I(),mm=C();function ms(r){if(!ds(r))return;let n=[r.length],s=0,u=r.map(a=>{let c=ms(a);return mm(c)?c:(s++,c.length===1?c[0]:c)});return s>0?s===r.length&&u.slice(0,-1).every((c,h)=>pm(c,u[h+1]))?n.concat(u[0]):(n.push(u),n):n}function gs(r){return hm(r)||dm(r)?gs(r.values):(fm(ds(r),"The `shape` function only works on arrays, Series, and DataFrames!"),ms(r))}ys.exports=gs});var Ns=w((uT,Ts)=>{var vs=k(),gm=F(),ym=R(),vm=st(),qm=I(),wm=C(),qs=ge(),At=Fe(),ws=se(),bm=de(),Tm=J();function bs(r,n,s){if(wm(s)&&(s=0),vs(s===0||s===1||s==="vertical"||s==="horizontal",'The only valid axis values for use when appending data to a DataFrame are 0, 1, "vertical", and "horizontal". Note that 0 == "horizontal" and 1 == "vertical".'),gm(n)){vs(!vm(n),"The array of data you're trying to append to this DataFrame is jagged!");let u=Tm(n);if(u.length===1)if(s===0){let a=r.copy();a._values.push(n);let c=Math.max(r.shape[1],u[0]);for(a._values.forEach(h=>{for(;h.length<c;)h.push(void 0)});a._index.length<a._values.length;)a._index.push("row"+a._index.length);for(;a._columns.length<c;)a._columns.push("col"+a._columns.length);return a}else{let a=Math.max(r.shape[0],u[0]),c=r.copy();for(ws(0,a).forEach(h=>{h>=c._values.length&&c._values.push(At(r.shape[1])),c._values[h].push(n[h])});c._index.length<c._values.length;)c._index.push("row"+c._index.length);for(;c._columns.length<c._values[0].length;)c._columns.push("col"+c._columns.length);return c}else if(u.length===2)if(s===0){let a=Math.max(...n.map(h=>h.length).concat([r.shape[1]])),c=r.copy();for(c._values=c._values.concat(n).map(h=>{for(;h.length<a;)h.push(void 0);return h});c._index.length<c._values.length;)c._index.push("row"+c._index.length);for(;c._columns.length<a;)c._columns.push("col"+c._columns.length);return c}else{let a=Math.max(...n.map(p=>p.length))+r.shape[1],c=Math.max(r.shape[0],u[0]),h=r.copy();for(ws(0,c).forEach(p=>{for(p>=h._values.length&&h._values.push(At(r.shape[1])),h._values[p]=h._values[p].concat(n[p]);h._values[p].length<a;)h._values[p].push(void 0)});h._index.length<h._values.length;)h._index.push("row"+h._index.length);for(;h._columns.length<a;)h._columns.push("col"+h._columns.length);return h}else throw new qs("Only 1- and 2-dimensional arrays can be appended to a DataFrame!")}else if(qm(n)){let u=bs(r,n.values,s);return s===0?u.index[u.index.length-1]=u.index.indexOf(n.name)>-1?n.name+" (2)":n.name:u.columns[u.columns.length-1]=u.columns.indexOf(n.name)>-1?n.name+" (2)":n.name,u}else if(ym(n))if(s===0){let u=r.copy(),a=bm(u._columns.concat(n._columns)).length;for(u._values.forEach(c=>{for(;c.length<a;)c.push(void 0)}),n.apply(c=>{let h=c.copy(),p=[];u._columns.forEach(m=>{let q=h._index.indexOf(m);q>-1?(p.push(h._values[q]),h._values.splice(q,1),h._index.splice(q,1)):p.push(void 0)}),u._values.push(p.concat(h._values))},1),u._columns=u._columns.concat(n._columns.filter(c=>u._columns.indexOf(c)<0));u._index.length<u._values.length;){let c="row"+u._index.length;u._index.push(c+(r._index.indexOf(c)>-1?" (2)":""))}return u}else{let u=r.copy();return u._index.forEach((a,c)=>{let h=n._index.indexOf(a);h>-1?u._values[c]=u._values[c].concat(n._values[h]):u._values[c]=u._values[c].concat(At(n.shape[1]))}),n._index.forEach((a,c)=>{u._index.indexOf(a)<0&&(u._index.push(a),u._values.push(At(u._columns.length).concat(n._values[c])))}),u._columns=u._columns.concat(n._columns.map(a=>a+(u._columns.indexOf(a)>-1?" (2)":""))),u}else throw new qs("Only 1- or 2-dimensional arrays, Series, and DataFrames can be appended to a DataFrame!")}Ts.exports=bs});var Es=w((aT,xs)=>{var Ss=k(),Os=F(),Nm=ne(),ks=C();function Sm(r,n,s,u,a){if(a=a||0,Ss(Nm(u),"The first parameter to the `apply` method must be a function."),Ss(a===0||a===1,"The second parameter to the `apply` method (the `axis`) must be 0 or 1."),a===0){let c={},h;if(s.columns.forEach((p,m)=>{let q=new n(s.values.map(x=>x[m]));q.name=p,q.index=s.index;let T=u(q,m,s);T instanceof n?c[p]=T.values:c[p]=T,ks(h)&&(h=T instanceof n||Os(T))}),h){let p=new r(c);return p.index=s.index,p}else{let p=new n(s.columns.map(m=>c[m]));return p.index=s.columns,p}}else if(a===1){let c,h=s.values.map((p,m)=>{let q=new n(p);q.name=s.index[m],q.index=s.columns;let T=u(q,m,s);return ks(c)&&(c=T instanceof n||Os(T)),T instanceof n?T.values:T});if(c){let p=new r(h);return p.index=s.index,p.columns=s.columns,p}else{let p=new n(h);return p.index=s.index,p}}}xs.exports=Sm});var ee=w((cT,Fs)=>{function Om(r){return typeof r=="string"}Fs.exports=Om});var As=w((lT,Ds)=>{var _s=k(),km=F(),xm=st(),Em=Ee(),Fm=ee(),_m=C(),Dm=ge(),Am=J();function Mm(r,n,s,u,a){let c=p=>p instanceof r,h=p=>p instanceof n;if(_m(a)){if(c(u))return s.append(u,1);if(h(u))return s.append(u,1);if(Em(u)){let p=Math.max(...Object.keys(u).map(m=>u[m].length));return Object.keys(u).forEach(m=>{for(;u[m].length<p;)u[m].push(void 0)}),s.append(new r(u),1)}else throw new Dm("You must pass a DataFrame, Series, or object into the `assign` method!")}else{_s(Fm(u),"If passing two arguments into the `assign` method, then the first argument must be a string name!"),_s(km(a)&&!xm(a)&&Am(a).length===1,"If passing two arguments into the `assign` method, then the second argument must be a 1-dimensional array!");let p=s.append(a,1);return p.columns[p.columns.length-1]=u,p}}Ds.exports=Mm});var Is=w((fT,Ms)=>{var Im=ye();function Lm(r,n){if(n.isEmpty)return new r;let s=new r(Im(n.values));return s.columns=n.columns.slice(),s.index=n.index.slice(),s}Ms.exports=Lm});var Vs=w((hT,js)=>{var Mt=k(),Ls=F(),Rs=D(),Ps=ee(),Cs=C(),zs=J();function Rm(r,n,s,u,a){Cs(u)&&(u=[]),Cs(a)&&(a=[]),(Ps(u)||Rs(u))&&(u=[u]),(Ps(a)||Rs(a))&&(a=[a]),Mt(Ls(u),"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings."),Mt(Ls(a),"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings."),Mt(zs(u).length===1,"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings."),Mt(zs(a).length===1,"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings.");let c,h;s.index.forEach((m,q)=>{u.indexOf(m)<0&&u.indexOf(q)<0&&(c||(c=[]),c.push(m))}),s.columns.forEach((m,q)=>{a.indexOf(m)<0&&a.indexOf(q)<0&&(h||(h=[]),h.push(m))});let p=s.get(c,h);if(p instanceof n){let m=new r;m=m.assign(p),s.index.indexOf(p.name)>-1&&(m=m.transpose()),p=m}return p}js.exports=Rm});var ut=w((pT,Bs)=>{var Pm=D();function Cm(r){return Pm(r)&&parseInt(r)===r}function zm(r){return Cm(r)&&r>=0}Bs.exports=zm});var Js=w((dT,Us)=>{var Wr=k(),jm=ee(),It=C(),Vm=ut(),Bm=J();function Um(r,n,s,u,a,c){u=u||0,Wr(u===0||u===1,"The first parameter of the `dropMissing` method (the `axis`) must be 0 or 1."),c=c||0,Wr(Vm(c),"The third parameter of the `dropMissing` method (the `threshold`) should be a whole number (meaning that data should be dropped if it contains more than `threshold` null values)."),a=c>0?"none":a||"any",Wr(a==="any"||a==="all"||a==="none","The second parameter of the `dropMissing` method (the `condition` parameter, which indicates the condition under which data should be dropped) should be 'any' or 'all' (meaning that if 'any' of the data contains null values, then it should be dropped; or that if 'all' of the data contains null values, then it should be dropped).");function h(q){if(c>0){let T=0;for(let x=0;x<q.length;x++){let E=q[x];if(It(E)&&T++,T>=c)return[]}}else if(a==="any")for(let T=0;T<q.length;T++){let x=q[T];if(It(x))return[]}else if(a==="all"){for(let T=0;T<q.length;T++){let x=q[T];if(!It(x))return q}return[]}return q}let p=s.copy(),m=Math.random().toString();if(u===0){p=p.assign(m,p.index);let q=p.values.map(h).filter(x=>x.length>0);if(Bm(q).length<2)return new r;p.values=q;let T=p.get(null,m);if(It(T))return new r;jm(T)&&(T=[T]),T instanceof n&&(T=T.values),p.index=T,p=p.drop(null,m)}else if(u===1){let q={};if(p.columns.forEach((x,E)=>{let L=p.values.map(V=>V[E]),z=h(L);z.length>0&&(q[x]=z)}),Object.keys(q).length===0)return new r;let T=new r(q);return T.index=p.index,T}return p}Us.exports=Um});var Kr=w((mT,Hs)=>{var Jm=k(),$m=F(),Hm=R(),Ym=D(),Wm=I();function $s(r){if(Hm(r)||Wm(r))return r.dropNaN(...Object.values(arguments).slice(1));Jm($m(r),"The `dropNaN` function only works on arrays, Series, and DataFrames!");let n=[];return r.forEach(s=>{try{return n.push($s(s))}catch{if(Ym(s))return n.push(s)}}),n}Hs.exports=$s});var Ws=w((gT,Ys)=>{var Gr=k(),Km=Kr(),Gm=ut();function Qm(r,n,s,u,a){s=s||0,Gr(s===0||s===1,"The first parameter of the `dropNaN` method (the `axis`) must be 0 or 1."),a=a||0,Gr(Gm(a),"The third parameter of the `dropNaN` method (the `threshold`) should be a whole number (meaning that data should be dropped if it contains more than `threshold` NaN values)."),u=a>0?"none":u||"any",Gr(u==="any"||u==="all"||u==="none","The second parameter of the `dropNaN` method (the `condition` parameter, which indicates the condition under which data should be dropped) should be 'any' or 'all' (meaning that if 'any' of the data contains NaN values, then it should be dropped; or that if 'all' of the data contains NaN values, then it should be dropped).");function c(p){let m=Km(p);return a>0?p.length-m.length<a:u==="any"?m.length===p.length:u==="all"?m.length>0:!0}let h=n.copy();if(s===0){let p=h.index.filter(m=>{let q=h.get(m,null).values;return c(q)});return p.length>0?h.get(p,null):new r}else if(s===1){let p=h.columns.filter(m=>{let q=h.get(null,m).values;return c(q)});return p.length>0?h.get(null,p):new r}return h}Ys.exports=Qm});var Xs=w((yT,Qs)=>{var Ks=k(),at=H(),Xm=ne(),Zm=C();function Gs(r){let n={};return at(r).forEach((s,u)=>{n[s]=u}),n}function Ye(r){return Object.keys(r).sort((n,s)=>r[n]-r[s])}function eg(r,n,s,u,a){Ks(Xm(u),"The `filter` method takes a single parameter: a function that is used to filter the values."),Zm(a)&&(a=0),Ks(a===0||a===1,"The `axis` parameter to the `filter` method must be 0 or 1.");let c=s.copy();if(c.isEmpty)return c;let h=Gs(c.index),p=Gs(c.columns);if(a===0){let m=c.values.filter((q,T)=>{let x=new n(q);x.name=s.index[T],x.index=s.columns;let E=u(x,T,s);return E||delete h[c.index[T]],E});if(at(m).length===0)return new r;if(m.length===1){let q=new n(at(m));return q.name=Ye(h)[0],q.index=Ye(p),q}c.values=m,c.index=Ye(h)}else if(a===1){c=c.transpose();let m=c.values.filter((q,T)=>{let x=new n(q);x.name=s.columns[T],x.index=s.index;let E=u(x,T,s);return E||delete p[c.index[T]],E});if(at(m).length===0)return new r;if(m.length===1){let q=new n(at(m));return q.name=Ye(p)[0],q.index=Ye(h),q}c.values=m,c.index=Ye(p),c=c.transpose()}return c}Qs.exports=eg});var ct=w((vT,Zs)=>{function tg(r){return typeof r=="boolean"}Zs.exports=tg});var Ue=w((qT,to)=>{var rg=k(),ng=H(),ig=F(),sg=R(),og=I();function eo(r){if(sg(r)||og(r))return eo(r.values);rg(ig(r),"The `max` function only works on arrays, Series, and DataFrames!");try{return Math.max(...ng(r))}catch{return NaN}}to.exports=eo});var Qr=w((wT,io)=>{var Lt=ge(),_e=k(),De=F(),ro=ct(),Rt=ee(),Pt=C(),ug=Ue(),no=se();function ag(r,n,s,u,a,c){return s=(()=>{if(Pt(s))return!1;if(ro(s))return s;throw new Lt("The `hasHeaderRow` parameter of the `fromCSV` method must be a boolean!")})(),u=(()=>{if(Pt(u))return!1;if(ro(u))return u;throw new Lt("The `hasIndexColumn` parameter of the `fromCSV` method must be a boolean!")})(),a=(()=>{let p="The `fieldDelimiter` parameter of the `fromCSV` method must be one of:\n\n1) a single-character string (e.g., ',')\n2) an array containing two single-character strings, one each for a left delimiter and a right delimiter (e.g., ['<', '>'])";if(Pt(a))return",";if(Rt(a))return _e(a.length===1,p),a;if(De(a))return _e(a.length===2,p),_e(a[0].length===1,p),_e(a[1].length===1,p),a;throw new Lt(p)})(),c=(()=>{let p="The `stringDelimiter` parameter of the `fromCSV` method must be one of:\n\n1) a single-character string (e.g., '\"')\n2) an array containing two single-character strings, one each for a left delimiter and a right delimiter (e.g., ['\u201C', '\u201D'])";if(Pt(c))return'"';if(Rt(c))return _e(c.length===1,p),c;if(De(c))return _e(c.length===2,p),_e(c[0].length===1,p),_e(c[1].length===1,p),c;throw new Lt(p)})(),(()=>{let m=n.split(`
`).filter(L=>L.length>0).map(L=>{let z=[],V="",re=!1;for(let ue=0;ue<L.length;ue++){let _=L[ue];if(_.match(/\\/g))ue++;else if(De(c)&&_===c[0])re=!0;else if(De(c)&&_===c[1])re=!1;else if(Rt(c)&&_===c)re=!re;else if(De(a)&&_===a[0]||De(a)&&_===a[1]||Rt(a)&&_===a)if(re)V+=_;else{let M=V;try{let ze=JSON.parse(M);De(ze)?z.push(M.trim()):z.push(ze)}catch{z.push(M.trim())}V=""}else V+=_}if(V.length>0){let ue=V;try{let _=JSON.parse(ue);De(_)?z.push(ue.trim()):z.push(_)}catch{z.push(ue.trim())}}return z}),q=(()=>{let L=s?m.shift():no(0,m[0].length).map(z=>"col"+z);return u&&L.shift(),L})(),T=(()=>u?m.map(z=>z.shift()):no(0,m.length).map(z=>"row"+z))(),x=ug(m.map(L=>L.length)),E=new r(m.map(L=>(L.length=x,L)));return s&&(E.columns=q),u&&(E.index=T),E})()}io.exports=ag});var oo=w((bT,so)=>{var cg=ge(),lg=k(),fg=Qr(),hg=ee(),pg=C();async function dg(r,n,s,u,a,c,h){s=(()=>pg(s)?"utf8":(lg(hg(s),"The `encoding` parameter of the `fromCSV` method must be a string (e.g., 'utf8')!"),s))();let p=await(async()=>{try{return rt("fs").readFileSync(n,s)}catch{}try{return await(await fetch(n)).text()}catch{}throw new cg(`The path "${n}" could not be loaded!`)})();return fg(r,p,u,a,c,h)}so.exports=dg});var co=w((TT,ao)=>{var he=k(),Ct=D(),zt=ee(),uo=C(),mg=de();function gg(r,n,s){(zt(n)||Ct(n))&&(n=[n]),(zt(s)||Ct(s))&&(s=[s]);let u=mg((n||[]).concat(s||[]).map(a=>typeof a));return he(u.length<=2,"Only whole numbers and/or strings are allowed in `get` arrays!"),u.length===1&&he(u[0]==="string"||u[0]==="number","Only whole numbers and/or strings are allowed in `get` arrays!"),u.length===2&&(he(u.indexOf("string")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!"),he(u.indexOf("number")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!")),uo(n)||(n=n.map(a=>{if(zt(a))return he(r.index.indexOf(a)>-1,`Row "${a}" does not exist!`),a;if(Ct(a))return he(a>=0,`Index ${a} is out of bounds!`),he(parseInt(a)===a,"Row numbers must be integers!"),he(a<r.index.length,`Index ${a} is out of bounds!`),r.index[a]})),uo(s)||(s=s.map(a=>{if(zt(a))return he(r.columns.indexOf(a)>-1,`Column "${a}" does not exist!`),a;if(Ct(a))return he(a>=0,`Column ${a} is out of bounds!`),he(parseInt(a)===a,"Column numbers must be integers!"),he(a<r.columns.length,`Column ${a} is out of bounds!`),r.columns[a]})),r.getSubsetByNames(n,s)}ao.exports=gg});var Ae=w((NT,fo)=>{var lo=k(),yg=F(),vg=R(),qg=ne(),wg=I(),bg=C();function Tg(r,n){try{return r<n?-1:r>n?1:0}catch{return r=typeof r=="object"&&r!==null?JSON.stringify(r):r.toString(),n=typeof n=="object"&&n!==null?JSON.stringify(n):n.toString(),r<n?-1:r>n?1:0}}function Ng(r,n){if(bg(n)&&(n=Tg),vg(r)||wg(r))return r.sort(...Object.values(arguments).slice(1));lo(yg(r),"The `sort` function only works on arrays, Series, and DataFrames!"),lo(qg(n),"The second parameter of the `sort` function must be a comparison function!");let s=r.slice();return s.sort(n),s}fo.exports=Ng});var go=w((ST,mo)=>{var ho=k(),po=ee(),Sg=C(),Og=de(),kg=Ae();function xg(r){let n=r.toLowerCase(),s="";for(let a=0;a<n.length;a++){let c=n[a];c.match(/[a-z0-9]/g)?s+=c:s+=" "}let u=s.split(" ").filter(a=>a.length>0);return u[0]+u.slice(1).map(a=>a[0].toUpperCase()+a.substring(1)).join("")}function Eg(r,n,s){Sg(s)?s=n.columns:po(s)&&(s=[s]);let u={};s.forEach(c=>{ho(po(c),"You must pass either a string or a one-dimensional array of strings into the `getDummies` (AKA `oneHotEncode`) method!");let h=n.columns.indexOf(c);ho(h>-1,`The given DataFrame does not have a column called "${c}"!`);let p=n.values.map(q=>q[h]),m=kg(Og(p));p.forEach(q=>{m.forEach(T=>{let x=c+"_"+xg(T.toString());u[x]||(u[x]=[]),q===T?u[x].push(1):u[x].push(0)})})});let a=new r(u);return a.index=n.index,a}mo.exports=Eg});var So=w((OT,No)=>{var Me=k(),yo=F(),vo=D(),qo=C(),wo=ut(),bo=se(),To=J();function Fg(r,n,s){let u=r.shape;qo(n)&&(n=bo(0,u[0])),qo(s)&&(s=bo(0,u[1])),vo(n)&&(n=[n]),vo(s)&&(s=[s]),Me(yo(n)&&yo(s),"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),Me(To(n).length===1&&To(s).length===1,"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),Me(n.length>0,"The `rowIndices` array must contain at least one index."),Me(s.length>0,"The `colIndices` array must contain at least one index."),n.forEach(h=>{Me(wo(h),"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),Me(h<r.index.length,`The row index ${h} is out of bounds.`)}),s.forEach(h=>{Me(wo(h),"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),Me(h<r.columns.length,`The column index ${h} is out of bounds.`)});let a=n.map(h=>r.index[h]),c=s.map(h=>r.columns[h]);return r.getSubsetByNames(a,c)}No.exports=Fg});var Fo=w((kT,Eo)=>{var Ie=k(),Xr=H(),Oo=F(),jt=ee(),ko=C(),xo=J();function _g(r,n,s,u,a){ko(u)&&(u=s.index),ko(a)&&(a=s.columns),jt(u)&&(u=[u]),jt(a)&&(a=[a]),Ie(Oo(u)&&Oo(a),"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),Ie(xo(u).length===1&&xo(a).length===1,"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),Ie(u.length>0,"The `rows` array must contain at least one row name."),Ie(a.length>0,"The `cols` array must contain at least one column name."),u.forEach(p=>{Ie(jt(p),"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),Ie(s.index.indexOf(p)>-1,`The row name "${p}" does not exist in the list of rows.`)}),a.forEach(p=>{Ie(jt(p),"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),Ie(s.columns.indexOf(p)>-1,`The column name "${p}" does not exist in the list of columns.`)});let c=u.map(p=>a.map(m=>s.values[s.index.indexOf(p)][s.columns.indexOf(m)]));if(u.length===1&&a.length===1)return Xr(c)[0];if(u.length===1){let p=new n(Xr(c));return p.name=u[0],p.index=a,p}if(a.length===1){let p=new n(Xr(c));return p.name=a[0],p.index=u,p}let h=new r(c);return h.columns=a,h.index=u,h}Eo.exports=_g});var Do=w((xT,_o)=>{var Dg=ee(),lt=se();function Ag(r,n,s){function u(E,L){return Dg(E)&&E.length>L?E.substring(0,L-3)+"...":E}if(s.isEmpty)return console.table({}),console.log("Shape:",[0,0],`
`),s;let a=typeof window>"u"?20:10,c=parseInt(a/2),h=typeof window>"u"?Math.floor(process.stdout.columns/24)-1:10,p=parseInt(h/2),m=a>s.index.length?null:lt(0,c).concat(lt(s.index.length-c,s.index.length)),q=h>s.columns.length?null:lt(0,p).concat(lt(s.columns.length-p,s.columns.length)),T=s.get(m,q);T instanceof n&&(s.shape[0]===1?(T=new r([T.values]),T.index=s.index,T.columns=new n(s.columns).get(q).values):s.shape[1]===1&&(T=new r([T.values]).transpose(),T.index=new n(s.index).get(m).values,T.columns=s.columns)),a<=s.index.length&&(T._index.splice(c,0,"..."),T._values.splice(c,0,lt(0,T.columns.length).map(()=>"..."))),h<=s.columns.length&&(T._columns.splice(p,0,"..."),T._values=T._values.map(E=>(E.splice(p,0,"..."),E)));let x=28;return T instanceof n?(T.values=T.values.map(E=>u(E,x)),T.name=u(T.name,x),T.index=T.index.map(E=>u(E,x))):(T.values=T.values.map(E=>E.map(L=>u(L,x))),T.columns=T.columns.map(E=>u(E,x)),T.index=T.index.map(E=>u(E,x))),console.table(T.toObject()),console.log("Shape:",s.shape,`
`),s}_o.exports=Ag});var Vt=w((ET,Ao)=>{var Mg=k(),Ig=D();function Lg(r,n){Mg(Ig(r),"The `leftPad` function only works on numbers!");let s=r.toString();for(;s.length<n;)s="0"+s;return s}Ao.exports=Lg});var Io=w((FT,Mo)=>{var Rg=Vt(),Pg=se();function Cg(r,n){let s=n?r:r.copy();return s.index=Pg(0,r.shape[0]).map(u=>"row"+Rg(u,(s.index.length-1).toString().length)),s}Mo.exports=Cg});var ft=w((_T,Ro)=>{var zg=k(),jg=H(),Vg=F(),Bg=R(),Ug=I();function Lo(r){if(Bg(r)||Ug(r))return Lo(r.values);zg(Vg(r),"The `product` function only works on arrays, Series, and DataFrames!");try{return r.length===0?NaN:jg(r).reduce((n,s)=>n*s,1)}catch{return NaN}}Ro.exports=Lo});var Bt=w((DT,jo)=>{var ht=k(),Po=H(),Co=F(),Jg=R(),zo=D(),$g=I(),Hg=ft(),Yg=J();function Zr(r,n){if(Jg(r)||$g(r))return Zr(r.values,n);if(ht(Co(r),"The first argument passed into the `reshape` function must be an array!"),zo(n)&&(n=[n]),ht(Co(n),"The second argument passed into the `reshape` function must be a whole number or a one-dimensional array of whole numbers!"),ht(Yg(n).length===1,"The first argument passed into the `reshape` function must be a whole number or a one-dimensional array of whole numbers!"),n.forEach(c=>{ht(zo(c)&&parseInt(c)===c&&c>0,"The first argument passed into the `reshape` function must be a whole number or a one-dimensional array of whole numbers!")}),n.length===0)return Po(r);let s=Po(r);if(n.length===1&&n[0]===s.length)return s;ht(Hg(n)===s.length,"The new shape doesn't match the number of values available in `x` (the first argument passed into the `reshape` function)!");let u=[],a=parseInt(s.length/n[0]);for(let c=0;c<n[0];c++){let h=s.slice(c*a,(c+1)*a);u.push(Zr(h,n.slice(1)))}return u}jo.exports=Zr});var We=w((AT,Yo)=>{var Wg=k(),Uo=ye(),Kg=F(),Gg=D(),Jo=C(),Qg=Fe(),Xg=ft(),Zg=Bt(),$o=Math.pow(2,64),$=[];Ho(parseInt(Math.random()*$o));function ey(r,n){r=te(r);function s(){r+=te("0x9e3779b97f4a7c15");let a=Uo(r);return a=(a^a>>30n)*te("0xbf58476d1ce4e5b9"),a=(a^a>>27n)*te("0x94d049bb133111eb"),a^a>>31n}let u=[];for(let a=0;a<n;a++)u.push(s());return u}function te(r){return BigInt.asUintN(64,BigInt(r))}function Vo(r,n){return r=te(r),n=BigInt(n),te(te(r<<n)|te(r>>te(64n-n)))}function Ho(r){if(Jo(r))return Uo($);{Wg(Gg(r),"If passing a value into the `seed` function, then that value must be an integer!");let n=ey(parseInt(r),4);$[0]=n[0],$[1]=n[1],$[2]=n[2],$[3]=n[3]}}function Bo(){let r=te(Vo($[0]+$[3],23)+$[0]),n=te($[1]<<17n);return $[2]=te($[2]^$[0]),$[3]=te($[3]^$[1]),$[1]=te($[1]^$[2]),$[0]=te($[0]^$[3]),$[2]=te($[2]^n),$[3]=Vo($[3],45),parseInt(r)/$o}function ty(r){return Jo(r)?Bo():(Kg(r)||(r=[r]),Zg(Qg(Xg(r)).map(Bo),r))}Yo.exports={random:ty,seed:Ho}});var Ut=w((MT,Wo)=>{var{random:ry}=We(),ny=k(),iy=F(),sy=R(),oy=I();function uy(r){if(sy(r)||oy(r))return r.shuffle(...Object.values(arguments).slice(1));ny(iy(r),"The `shuffle` function only works on arrays, Series, and DataFrames!");let n=[],s=r.slice();for(let u=0;u<r.length;u++){let a=parseInt(ry()*s.length);n.push(s.splice(a,1)[0])}return n}Wo.exports=uy});var Qo=w((IT,Go)=>{var ay=k(),cy=C(),Ko=Ut();function ly(r,n){return cy(n)&&(n=0),ay(n===0||n===1,"The `axis` parameter to the `shuffle` must be 0, 1, or undefined."),r.get(n===0?Ko(r.index):null,n===1?Ko(r.columns):null)}Go.exports=ly});var ru=w((LT,tu)=>{var{random:fy}=We(),oe=k(),hy=H(),Xo=F(),en=ct(),eu=ne(),Jt=D(),Ke=ee(),tn=C(),py=se(),Zo=J(),rn=Ae();function dy(r,n,s){return eu(n)?my(r,n,s):gy(r,n,s)}function my(r,n,s){if(s=tn(s)?0:s,oe(eu(n),"When sorting a DataFrame using a function, the first argument to the `sort` method must be a function!"),oe(Jt(s),"When sorting a DataFrame using a function, the second argument to the `sort` method must be null, undefined, 0, or 1 to indicate the axis along which the data should be sorted! An axis of 0 means that the rows will be sorted relative to each other, whereas an axis of 1 means that the columns will be sorted relative to each other."),s===0){let u=rn(r.index,(a,c)=>n(r.get(a,null),r.get(c,null)));return r.get(u,null)}else{let u=rn(r.columns,(a,c)=>n(r.get(null,a),r.get(null,c)));return r.get(null,u)}}function gy(r,n,s){let u=r.copy(),a=fy().toString();return u=u.assign(a,u.index),tn(n)&&(n=[a],s=[!0]),(Jt(n)||Ke(n))&&(n=[n],(en(s)||Ke(s))&&(s=[s])),oe(Xo(n),"The first parameter of the `sort` method must be (1) a string or index representing a column name or index, respectively; (2) a 1-dimensional array of strings and/or indices; or (3) null."),oe(Zo(n).length===1,"The first parameter of the `sort` method must be (1) a string or index representing a column name or index, respectively; (2) a 1-dimensional array of strings and/or indices; or (3) null."),tn(s)&&(s=py(0,n.length).map(()=>!0)),oe(Xo(s),"The second parameter of the `sort` method must be (1) a string or boolean representing the sort direction ('ascending' / 'descending', or true / false); (2) a 1-dimensional array of strings and/or booleans; or (3) null."),oe(Zo(s).length===1,"The second parameter of the `sort` method must be (1) a string or boolean representing the sort direction ('ascending' / 'descending', or true / false); (2) a 1-dimensional array of strings and/or booleans; or (3) null."),oe(n.length===s.length,"The arrays passed into the `sort` method must be equal in length."),n=n.map(c=>{if(oe(Ke(c)||Jt(c),"Column references can either be column names (as strings) or column indices (as whole numbers)."),Ke(c)){let h=u.columns.indexOf(c);return oe(h>-1,`The column "${c}" does not exist!`),h}if(Jt(c))return oe(parseInt(c)===c,"Column indices must be whole numbers!"),oe(c>=0,`The column index ${c} is out of bounds!`),oe(c<u.columns.length,`The index ${c} is out of bounds!`),c}),s=s.map(c=>{if(oe(Ke(c)||en(c),"Direction references can either be strings ('ascending' or 'descending') or booleans (true or false)."),Ke(c)){let h=c.trim().toLowerCase();return oe(h==="ascending"||h==="descending","Direction references can either be strings ('ascending' or 'descending') or booleans (true or false)."),h==="ascending"}if(en(c))return c}),u.values=rn(u.values,(c,h)=>{let p=0;for(;c[n[p]]===h[n[p]]&&p<n.length;)p++;let m=s[p];if(c[n[p]]===h[n[p]])return 0;if(c[n[p]]<h[n[p]])return m?-1:1;if(c[n[p]]>h[n[p]])return m?1:-1}),u.index=hy(u.get(null,a).values),u=u.dropColumns(a),u}tu.exports=dy});var nn=w((RT,iu)=>{var yy=ge(),vy=ct(),qy=Ee(),wy=ee(),nu=C();function by(r,n){n=(()=>{if(nu(n))return!0;if(vy(n))return n;throw new yy("The `shouldIncludeIndex` parameter of the `toCSVString` method must be a boolean!")})();let s=[""].concat(r.index);return[r.columns].concat(r.values).map((a,c)=>(n?[s[c]]:[]).concat(a).map(p=>wy(p)?JSON.stringify(p):qy(p)?JSON.stringify(JSON.stringify(p)):nu(p)?"":p.toString()).join(",")).join(`
`)}iu.exports=by});var su=w((PT,on)=>{var sn=ge(),Ty=nn();function Ny(r,n,s){let u=Ty(r,s),a=!1,c=!1,h,p;try{let m=n;if(n.includes("/")){let T=n.split("/");m=T[T.length-1]}let q=document.createElement("a");q.href=`data:text/csv;charset=utf-8,${encodeURIComponent(u)}`,q.download=m,q.dispatchEvent(new MouseEvent("click")),a=!0}catch(m){h=m}try{let m=rt("fs"),q=rt("path");m.writeFileSync(q.resolve(n),u,"utf8"),c=!0}catch(m){p=m}if(!a&&!c)throw typeof window<"u"?new sn(h):typeof on<"u"?new sn(p):new sn("I don't know what's going wrong, but it doesn't seem like you're in Node or the browser, and we couldn't download and/or write the file to disk!");return r}on.exports=Ny});var un=w((CT,ou)=>{function Sy(r,n){return JSON.stringify(r.toObject(n))}ou.exports=Sy});var uu=w((zT,cn)=>{var an=ge(),Oy=un();function ky(r,n,s){let u=Oy(r,s),a=!1,c=!1,h,p;try{let m=n;if(n.includes("/")){let T=n.split("/");m=T[T.length-1]}let q=document.createElement("a");q.href=`data:application/json;charset=utf-8,${encodeURIComponent(u)}`,q.download=m,q.dispatchEvent(new MouseEvent("click")),a=!0}catch(m){h=m}try{let m=rt("fs"),q=rt("path");m.writeFileSync(q.resolve(n),u,"utf8"),c=!0}catch(m){p=m}if(!a&&!c)throw typeof window<"u"?new an(h):typeof cn<"u"?new an(p):new an("I don't know what's going wrong, but it doesn't seem like you're in Node or the browser, and we couldn't download and/or write the file to disk!");return r}cn.exports=ky});var cu=w((jT,au)=>{var xy=k(),Ey=C();function Fy(r,n){Ey(n)?n=0:xy(n===0||n===1,"The axis parameter of the `toObject` method must be undefined, 0, or 1. An axis of 0 indicates that the returned object should be organized first by rows and then by columns. An axis of 1 indicates that the returned object should be organized first by columns and then by rows.");let s={};return n===0?r.index.forEach((u,a)=>{let c={};r.columns.forEach((h,p)=>{c[h]=r.values[a][p]}),s[u]=c}):r.columns.forEach((u,a)=>{let c={};r.index.forEach((h,p)=>{c[h]=r.values[p][a]}),s[u]=c}),s}au.exports=Fy});var Je=w((VT,hu)=>{var lu=k(),_y=F(),Dy=R(),Ay=I(),My=Fe(),fu=ot(),Iy=J();function Ly(r){if(Dy(r)||Ay(r))return r.transpose();lu(_y(r),"The `transpose` function only works on arrays, Series, and DataFrames!");let n=Iy(r);if(lu(n.length<=2,"I'm not smart enough to know how to transpose arrays that have more than 2 dimensions. Sorry for the inconvenience! Please only pass 1- or 2-dimensional arrays into the `transpose` function!"),n.length===1)return fu(r);if(n.length===2){let s=My(fu(n));for(let u=0;u<n[0];u++)for(let a=0;a<n[1];a++)s[a][u]=r[u][a];return s}}hu.exports=Ly});var gu=w((BT,mu)=>{var pu=k(),Ry=F(),Py=R(),Cy=Dt(),zy=I(),jy=J();function du(r,n,s){if(zy(s))return new r(n.values.concat(s.values));if(Ry(s)){let u=jy(s);pu(u.length===1&&!Cy(u),"Only vectors can be appended to Series!");let a=n.copy();return s.forEach((c,h)=>{a._values.push(c),a._index.push("item"+(n.values.length+h))}),a}return pu(!Py(s),"DataFrames cannot be appended to Series!"),du(n,[s])}mu.exports=du});var vu=w((UT,yu)=>{var Vy=k(),By=ne();function Uy(r,n){Vy(By(n),"The parameter to the `apply` method must be a function.");let s=r.copy();return s._values=s._values.map((u,a)=>n(u,a)),s}yu.exports=Uy});var wu=w((JT,qu)=>{var Jy=C();function $y(r){let n=r.copy(),s=[];return n._values=n.values.filter((u,a)=>Jy(u)?!1:(s.push(n.index[a]),!0)),n._index=s,n}qu.exports=$y});var Tu=w(($T,bu)=>{var Hy=D();function Yy(r,n){let s=[],u=[];n.values.forEach((c,h)=>{Hy(c)&&(u.push(c),s.push(n.index[h]))});let a=new r(u);return a.name=n.name,a.index=s,a}bu.exports=Yy});var Su=w((HT,Nu)=>{var Wy=ye();function Ky(r,n,s){let u=n.copy(),a=Wy(u.index),c=[],h=u.values.filter((p,m)=>{let q=s(p,m,u.values);return q||c.push(u.index[m]),q});return c.forEach(p=>{a.splice(a.indexOf(p),1)}),h.length===0?(u=new r,u.name=n.name,u):(u.values=h,u.index=a,u)}Nu.exports=Ky});var ku=w((YT,Ou)=>{var Le=k(),Gy=D(),Qy=ee(),Xy=C(),Zy=de();function ev(r,n){(Qy(n)||Gy(n))&&(n=[n]);let s=Zy((n||[]).map(u=>typeof u));return Le(s.length<=2,"Only whole numbers and/or strings are allowed in `get` arrays!"),s.length===1&&Le(s[0]==="string"||s[0]==="number","Only whole numbers and/or strings are allowed in `get` arrays!"),s.length===2&&(Le(s.indexOf("string")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!"),Le(s.indexOf("number")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!")),Xy(n)||(n=n.map(u=>{if(typeof u=="string")return Le(r.index.indexOf(u)>-1,`Index "${u}" does not exist!`),u;if(typeof u=="number")return Le(u>=0,`Index ${u} is out of bounds!`),Le(parseInt(u)===u,"Indices must be integers!"),Le(u<r.index.length,`Index ${u} is out of bounds!`),r.index[u]})),r.getSubsetByNames(n)}Ou.exports=ev});var Eu=w((WT,xu)=>{var pt=k(),tv=F(),rv=C(),nv=ut(),iv=se(),sv=J();function ov(r,n){let s=r.shape;rv(n)&&(n=iv(0,s[0])),pt(tv(n),"The `indices` array must be 1-dimensional array of whole numbers."),pt(sv(n).length===1,"The `indices` array must be a 1-dimensional array of whole numbers."),pt(n.length>0,"The `indices` array must contain at least one index."),n.forEach(a=>{pt(nv(a),"The `indices` array must be a 1-dimensional array of whole numbers."),pt(a<r.index.length,`The row index ${a} is out of bounds.`)});let u=n.map(a=>r.index[a]);return r.getSubsetByNames(u)}xu.exports=ov});var _u=w((KT,Fu)=>{var dt=k(),uv=F(),av=ee(),cv=C(),lv=J();function fv(r,n,s){cv(s)&&(s=n.index),dt(uv(s),"The `indices` array must be a 1-dimensional array of strings."),dt(lv(s).length===1,"The `indices` array must be a 1-dimensional array of strings."),dt(s.length>0,"The `indices` array must contain at least one index name."),s.forEach(c=>{dt(av(c),"The `indices` array must contain only strings."),dt(n.index.indexOf(c)>-1,`The name "${c}" does not exist in the index.`)});let u=s.map(c=>n.values[n.index.indexOf(c)]);if(u.length===1)return u[0];let a=new r(u);return a.index=s,a.name=n.name,a}Fu.exports=fv});var Mu=w((GT,Au)=>{var hv=ye(),Du=se();function pv(r){let n=r.copy(),s=typeof window>"u"?20:10;if(n.index.length>s){n=n.get(Du(0,s/2).concat(Du(n.index.length-s/2,n.index.length)));let a=hv(n.index);a.splice(parseInt(a.length/2),0,"..."),n.values.push("..."),n.index.push("..."),n=n.get(a)}let u={};return n.values.forEach((a,c)=>{let h={};h[n.name]=a,u[n.index[c]]=h}),console.table(u),console.log("Shape:",r.shape,`
`),r}Au.exports=pv});var Lu=w((QT,Iu)=>{var dv=Ut();function mv(r){let n=r.copy();return n.get(dv(n.index))}Iu.exports=mv});var Pu=w((XT,Ru)=>{var gv=k(),yv=ne(),vv=C(),qv=Ae(),wv=Je();function bv(r,n,s){s=s||((m,q)=>m<q?-1:1),gv(vv(s)||yv(s),"You must pass undefined, null, or a comparison function as the second argument to the `sort` method!");let u=wv([n.values,n.index]),a=qv(u,(m,q)=>s(m[0],q[0])),c=[],h=[];a.forEach(m=>{c.push(m[0]),h.push(m[1])});let p=new r;return p._values=c,p._index=h,p.name=n.name,p}Ru.exports=bv});var ju=w((ZT,zu)=>{var Tv=Ae(),Cu=Je();function Nv(r,n){let s=Cu([n.values,n.index]);s=Cu(Tv(s,(a,c)=>{if(a[1]===c[1])return 0;if(a[1]<c[1])return-1;if(a[1]>c[1])return 1}));let u=new r(s[0]);return u.index=s[1],u.name=n.name,u}zu.exports=Nv});var Bu=w((eN,Vu)=>{function Sv(r){let n={};return n[r.name]={},r.index.forEach((s,u)=>{n[r.name][s]=r.values[u]}),n}Vu.exports=Sv});var Yu=w((tN,Hu)=>{var Ne=k(),$t=ye(),ln=F(),Ov=ee(),kv=C(),Uu=Vt(),Ju=se(),Ht=ot(),xv=gu(),Ev=vu(),Fv=wu(),_v=Tu(),Dv=Su(),Av=ku(),Mv=Eu(),Iv=_u(),Lv=Mu(),Rv=Lu(),Pv=Pu(),Cv=ju(),zv=Bu(),mt=J(),jv=Je(),$u=Symbol.for("@jrc03c/js-math-tools/series");Hu.exports=function(r){class n{static[Symbol.hasInstance](u){try{return!!u._symbol&&u._symbol===$u}catch{return!1}}constructor(u){let a=this;if(a.name="data",Object.defineProperty(a,"_symbol",{configurable:!1,enumerable:!1,writable:!1,value:$u}),Object.defineProperty(a,"_values",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(a,"values",{configurable:!0,enumerable:!0,get(){return a._values},set(c){Ne(ln(c),"The new values must be a 1-dimensional array!");let h=mt(c);Ne(h.length===1,"The new array of values must be 1-dimensional!"),h[0]<a._index.length?a._index=a._index.slice(0,h[0]):h[0]>a._index.length&&(a._index=a._index.concat(Ju(a._index.length,h[0]).map(p=>"item"+Uu(p,(c.length-1).toString().length)))),a._values=c}}),Object.defineProperty(a,"_index",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(a,"index",{configurable:!0,enumerable:!0,get(){return a._index},set(c){Ne(ln(c),"The new index must be a 1-dimensional array of strings!"),Ne(c.length===a.shape[0],"The new index must be the same length as the old index!"),Ne(mt(c).length===1,"The new index must be a 1-dimensional array of strings!"),c.forEach(h=>{Ne(Ov(h),"All of the row names must be strings!")}),a._index=c}}),u){if(u instanceof n)a.name=u.name,a.values=$t(u.values),a.index=$t(u.index);else if(ln(u)){let c=mt(u);Ne(c.length===1,"When passing an array into the constructor of a Series, the array must be 1-dimensional!"),a.values=u}else if(u instanceof Object){let c=Object.keys(u);Ne(c.length===1,"When passing an object into the constructor of a Series, the object must have only 1 key-value pair, where the key is the name of the data and the value is the 1-dimensional array of values!");let h=c[0],p=u[h];Ne(mt(p).length===1,"When passing an object into the constructor of a Series, the object must have only 1 key-value pair, where the key is the name of the data and the value is the 1-dimensional array of values!"),a.name=h,a.values=p.slice()}}}get shape(){return mt(this.values)}get length(){return this.shape[0]}get isEmpty(){return this.values.filter(a=>!kv(a)).length===0}clear(){let a=this.copy();return a.values.forEach((c,h)=>{a.values[h]=void 0}),a}get(u){return Av(this,u)}getSubsetByNames(u){return Iv(n,this,u)}getSubsetByIndices(u){return Mv(this,u)}loc(u){return this.getSubsetByNames(u)}iloc(u){return this.getSubsetByIndices(u)}reverse(){let u=this,a=new n(Ht(u.values));return a.index=Ht(u.index),a.name=u.name,a}resetIndex(){let u=this,a=u.copy();return a.index=Ju(0,u.shape[0]).map(c=>"item"+Uu(c,(a.index.length-1).toString().length)),a}copy(){let u=this,a=new n;return a._values=$t(u.values),a._index=$t(u.index),a.name=u.name,a}append(u){return xv(n,this,u)}apply(u){return Ev(this,u)}concat(u){return this.append(u)}dropMissing(u,a){return Fv(this,u,a)}dropNaN(){return _v(n,this)}toObject(){return zv(this)}print(){return Lv(this)}shuffle(){return Rv(this)}sort(u){return Pv(n,this,u)}sortByIndex(){return Cv(n,this)}filter(u){return Dv(n,this,u)}toDataFrame(){let u=this,a=new r(jv([u.values]));return a.columns=[u.name],a.index=u.index,a}transpose(){let a=this.copy();return a.values=Ht(a.values),a.index=Ht(a.index),a}getDummies(){return this.toDataFrame().getDummies()}oneHotEncode(){return this.getDummies()}}return n}});var yt=w((rN,Zu)=>{var qe=k(),fn=ye(),Wu=_t(),Vv=Ns(),Bv=Es(),Uv=As(),Jv=Is(),$v=Vs(),Hv=Js(),Yv=Ws(),Wv=Xs(),Kv=oo(),Gv=Qr(),Qv=co(),Ku=go(),Xv=So(),Zv=Fo(),eq=Do(),tq=Io(),rq=Qo(),nq=ru(),iq=su(),sq=nn(),oq=uu(),uq=un(),aq=cu(),cq=H(),gt=F(),lq=Ee(),Gu=C(),hn=Vt(),fq=Fe(),pn=se(),Ge=J(),Qu=Je(),Xu=Symbol.for("@jrc03c/js-math-tools/dataframe");function Yt(r){let n="abcdefghijklmnopqrstuvwxyz1234567890",s="";for(let u=0;u<r;u++)s+=n[parseInt(Math.random()*n.length)];return s}var Y=class{static[Symbol.hasInstance](n){try{return!!n._symbol&&n._symbol===Xu}catch{return!1}}constructor(n){let s=this;if(Object.defineProperty(s,"_symbol",{configurable:!1,enumerable:!1,writable:!1,value:Xu}),Object.defineProperty(s,"_values",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(s,"values",{configurable:!0,enumerable:!0,get(){return s._values.length===0||!Gu(s._values[0])&&s._values[0].length===0?[[]]:s._values},set(u){qe(gt(u),"The new values must be a 2-dimensional array!");let a=Ge(u);qe(a.length===2,"The new array of values must be 2-dimensional!"),a[0]<s._index.length?s._index=s._index.slice(0,a[0]):a[0]>s._index.length&&(s._index=s._index.concat(pn(s._index.length,a[0]).map(c=>"row"+hn(c,(a[0]-1).toString().length)))),a[1]<s._columns.length?s._columns=s._columns.slice(0,a[1]):a[1]>s._columns.length&&(s._columns=s._columns.concat(pn(s._columns.length,a[1]).map(c=>"col"+hn(c,(a[1]-1).toString().length)))),s._values=u}}),Object.defineProperty(s,"_columns",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(s,"columns",{configurable:!0,enumerable:!0,get(){return s._columns},set(u){qe(gt(u),"The new columns list must be a 1-dimensional array of strings!"),qe(s.isEmpty||u.length===s.shape[1],"The new columns list must be the same length as the old columns list!"),qe(Ge(u).length===1,"The new columns list must be a 1-dimensional array of strings!"),u=u.map(c=>(typeof c!="string"&&(c=JSON.stringify(c)||c.toString()),c.trim().length===0?"untitled_"+Yt(8):c.trim()));let a=(()=>{let c=Wu(u),h={};return c.forEach(p=>{h[p.item]=p.count}),h})();u=u.map(c=>a[c]>1?c+"_"+Yt(8):c),s._columns=u}}),Object.defineProperty(s,"_index",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(s,"index",{configurable:!0,enumerable:!0,get(){return s._index},set(u){qe(gt(u),"The new index must be a 1-dimensional array of strings!"),qe(s.isEmpty||u.length===s.shape[0],"The new index must be the same length as the old index!"),qe(Ge(u).length===1,"The new index must be a 1-dimensional array of strings!"),u=u.map(c=>(typeof c!="string"&&(c=JSON.stringify(c)||c.toString()),c.trim().length===0?"untitled_"+Yt(8):c.trim()));let a=(()=>{let c=Wu(u),h={};return c.forEach(p=>{h[p.item]=p.count}),h})();u=u.map(c=>a[c]>1?c+"_"+Yt(8):c),s._index=u}}),qe(Gu(n)||lq(n)||gt(n),"The `data` passed into the constructor of a DataFrame must be either (1) an object where the key-value pairs are (respectively) column names and 1-dimensional arrays of values, or (2) a 2-dimensional array of values."),n)if(n instanceof Y)s.values=fn(n.values),s.columns=fn(n.columns),s.index=fn(n.index);else if(gt(n)){let u=Ge(n);qe(u.length===2,"The `data` array passed into the constructor of a DataFrame must be 2-dimensional!"),s.values=n}else{s._columns=Object.keys(n);let u=[];s._columns.forEach(c=>{let h=n[c];u.push(h)}),s._values=Qu(u);let a=Ge(s.values);s._index=pn(0,a[0]).map(c=>"row"+hn(c,(a[0]-1).toString().length))}}get shape(){return Ge(this.values)}get length(){return this.shape[0]}get width(){return this.shape[1]}get rows(){return this.index}set rows(n){let s=this;s.index=n}get isEmpty(){return cq(this.values).length===0}clear(){let n=this,s=new Y(fq(n.shape));return s.columns=n.columns.slice(),s.index=n.index.slice(),s}get(n,s){let u=this;if(arguments.length===0)return u;if(arguments.length===1)try{return u.get(null,n)}catch{return u.get(n,null)}return Qv(u,n,s)}getSubsetByNames(n,s){return Zv(Y,Re,this,n,s)}getSubsetByIndices(n,s){return Xv(this,n,s)}getDummies(n){return Ku(Y,this,n)}oneHotEncode(n){return Ku(Y,this,n)}transpose(){let n=this,s=new Y(Qu(n.values));return s.columns=n.index.slice(),s.index=n.columns.slice(),s}get T(){return this.transpose()}resetIndex(n){return tq(this,n)}copy(){return Jv(Y,this)}assign(n,s){return Uv(Y,Re,this,n,s)}apply(n,s){return Bv(Y,Re,this,n,s)}dropMissing(n,s,u){return Hv(Y,Re,this,n,s,u)}dropNaN(n,s,u){return Yv(Y,this,n,s,u)}drop(n,s){return $v(Y,Re,this,n,s)}dropColumns(n){return this.drop(null,n)}dropRows(n){return this.drop(n,null)}toObject(n){return aq(this,n)}toCSVString(n){return sq(this,n)}saveAsCSV(n,s){return iq(this,n,s)}toJSONString(n){return uq(this,n)}saveAsJSON(n,s){return oq(this,n,s)}print(){return eq(Y,Re,this)}sort(n,s){return nq(this,n,s)}sortByIndex(){return this.sort()}filter(n,s){return Wv(Y,Re,this,n,s)}shuffle(n){return rq(this,n)}append(n,s){return Vv(this,n,s)}concat(n,s){return this.append(n,s)}join(n,s){return this.append(n,s)}toString(){let n=this;return JSON.stringify(n)}};Y.fromCSV=function(){return Kv(Y,...arguments)};Y.fromCSVString=function(){return Gv(Y,...arguments)};var Re=Yu()(Y);Zu.exports={DataFrame:Y,Series:Re}});var j=w((nN,ia)=>{var{DataFrame:ea,Series:ta}=yt(),ra=k(),vt=F(),dn=R(),na=ve(),hq=ne(),mn=I(),pq=Ue(),dq=se(),Wt=J();function mq(r){return vt(r)||mn(r)||dn(r)}function gq(r){return ra(hq(r),"You must pass a function into the `vectorize` function!"),function n(){let s,u,a=[],c=[],h=Object.keys(arguments).filter(p=>{let m=arguments[p];return vt(m)?!0:mn(m)?(s=!0,a.push(m),!0):dn(m)?(u=!0,c.push(m),!0):!1}).map(p=>arguments[p]);if(h.slice(0,-1).forEach((p,m)=>{ra(na(vt(p)?Wt(p):p.shape,vt(h[m+1])?Wt(h[m+1]):h[m+1].shape),`When passing multiple arrays into the \`${r.name}\` function, all of the arrays must have the same shape!`)}),h.length>0){let p=pq(h.map(q=>q.length?q.length:q.values.length)),m=dq(0,p).map(q=>{let T=Object.keys(arguments).map(x=>{if(mq(arguments[x])){if(vt(arguments[x]))return arguments[x][q];if(mn(arguments[x]))return arguments[x].values[q];if(dn(arguments[x]))return arguments[x].values[q]}else return arguments[x]});return n(...T)});if(u)try{if(c.length===1&&na(Wt(c[0]),Wt(m))){let q=new ea(m);return q.index=c[0].index.slice(),q.columns=c[0].columns.slice(),q}else return new ea(m)}catch{return m}if(s)try{if(a.length===1&&a[0].length===m.length){let q=new ta(m);return q.name=a[0].name,q.index=a[0].index.slice(),q}else return new ta(m)}catch{return m}return m}else return r(...arguments)}}ia.exports=gq});var Kt=w((iN,sa)=>{var yq=D(),vq=j();function qq(r){try{return yq(r)?Math.abs(r):NaN}catch{return NaN}}sa.exports=vq(qq)});var Gt=w((sN,oa)=>{var wq=D(),bq=j();function Tq(){try{let r=0,n=Object.values(arguments);for(let s=0;s<n.length;s++){if(!wq(n[s]))return NaN;r+=n[s]}return r}catch{return NaN}}oa.exports=bq(Tq)});var Qt=w((oN,ua)=>{var Nq=j();function Sq(r,n){try{return n(r)}catch{return NaN}}ua.exports=Nq(Sq)});var ca=w((uN,aa)=>{var Oq=D(),kq=j();function xq(r){try{return Oq(r)?Math.acos(r):NaN}catch{return NaN}}aa.exports=kq(xq)});var fa=w((aN,la)=>{var Eq=D(),Fq=j();function _q(r){try{return Eq(r)?Math.asin(r):NaN}catch{return NaN}}la.exports=Fq(_q)});var pa=w((cN,ha)=>{var Dq=D(),Aq=j();function Mq(r){try{return Dq(r)?Math.atan(r):NaN}catch{return NaN}}ha.exports=Aq(Mq)});var ma=w((lN,da)=>{var Iq=k(),Lq=nt(),Rq=F(),Pq=R(),Cq=I(),zq=Ue();function gn(r){if(Pq(r)){let n=gn(r.values);return[r.index[n[0]],r.columns[n[1]]]}if(Cq(r)){let n=gn(r.values);return[r.index[n]]}Iq(Rq(r),"The `argmax` function only works on arrays, Series, and DataFrames!");try{let n=Lq(r,zq(r));return n?n.length===0?void 0:n.length===1?n[0]:n:void 0}catch{return}}da.exports=gn});var Xt=w((fN,ya)=>{var jq=k(),Vq=H(),Bq=F(),Uq=R(),Jq=I();function ga(r){if(Uq(r)||Jq(r))return ga(r.values);jq(Bq(r),"The `min` function only works on arrays, Series, and DataFrames!");try{return Math.min(...Vq(r))}catch{return NaN}}ya.exports=ga});var qa=w((hN,va)=>{var $q=k(),Hq=nt(),Yq=F(),Wq=R(),Kq=I(),Gq=Xt();function yn(r){if(Wq(r)){let n=yn(r.values);return[r.index[n[0]],r.columns[n[1]]]}if(Kq(r)){let n=yn(r.values);return[r.index[n]]}$q(Yq(r),"The `argmin` function only works on arrays, Series, and DataFrames!");try{let n=Hq(r,Gq(r));return n?n.length===0?void 0:n.length===1?n[0]:n:void 0}catch{return}}va.exports=yn});var ba=w((pN,wa)=>{var Qq=D(),Xq=j();function Zq(r){try{return Qq(r)?Math.ceil(r):NaN}catch{return NaN}}wa.exports=Xq(Zq)});var Sa=w((dN,Na)=>{var e1=Kt(),Ta=D(),t1=C(),r1=j();function n1(r,n){try{if(!Ta(r))return NaN;if(t1(n))n=1e-10;else if(!Ta(n))return NaN;return e1(r)<n?0:r}catch{return NaN}}Na.exports=r1(n1)});var ka=w((mN,Oa)=>{var vn=D(),i1=j();function s1(r,n,s){try{return vn(r)?vn(n)?vn(s)?r<n?n:r>s?s:r:NaN:NaN:NaN}catch{return NaN}}Oa.exports=i1(s1)});var Ea=w((gN,xa)=>{var qn=k(),o1=H(),u1=F(),a1=R(),c1=D(),l1=I();function wn(r,n){if(a1(r)||l1(r))return wn(r.values,n);if(qn(u1(r),"The `combinations` function only works on arrays, Series, and DataFrames!"),qn(c1(n),"`r` must be a whole number!"),r=o1(r),n>r.length)return[r];if(n<=0)return[[]];if(qn(n===parseInt(n),"`r` must be a whole number!"),r.length<2)return r;let s=[];return r.forEach((u,a)=>{let c=r.slice(a+1);if(c.length<n-1)return;wn(c,n-1).forEach(p=>{s.push([u].concat(p))})}),s}xa.exports=wn});var Zt=w((yN,_a)=>{var f1=k(),h1=H(),p1=F(),d1=R(),m1=I();function Fa(r){if(d1(r)||m1(r))return Fa(r.values);f1(p1(r),"The `mean` function only works on arrays, Series, and DataFrames!");try{let n=h1(r),s=0;return n.forEach(u=>{s+=u}),s/n.length}catch{return NaN}}_a.exports=Fa});var Tn=w((vN,Ra)=>{var Da=k(),Aa=F(),er=D(),Ma=I(),Ia=Zt(),La=J();function bn(r,n){if(Ma(r))return bn(r.values,n);if(Ma(n))return bn(r,n.values);Da(Aa(r)&&Aa(n)&&La(r).length===1&&La(n).length===1,"The `covariance` function only works on 1-dimensional arrays and Series!"),Da(r.length===n.length,"The two arrays or Series passed into the `covariance` function must have the same length!");try{let s=Ia(r),u=Ia(n);if(!er(s)||!er(u))return NaN;let a=Math.max(r.length,n.length),c=0;for(let h=0;h<a;h++){if(!er(r[h]))return NaN;if(!er(n[h]))return NaN;c+=(r[h]-s)*(n[h]-u)}return c/r.length}catch{return NaN}}Ra.exports=bn});var tr=w((qN,Pa)=>{var g1=D(),y1=j();function v1(r){try{return g1(r)?Math.sqrt(r):NaN}catch{return NaN}}Pa.exports=y1(v1)});var Nn=w((wN,za)=>{var q1=k(),w1=H(),b1=F(),T1=R(),N1=D(),S1=I(),O1=Zt();function Ca(r){if(T1(r)||S1(r))return Ca(r.values);q1(b1(r),"The `variance` function only works on arrays, Series, and DataFrames!");try{let n=w1(r),s=O1(n),u=0;for(let a=0;a<n.length;a++){if(!N1(n[a]))return NaN;u+=(n[a]-s)*(n[a]-s)}return u/n.length}catch{return NaN}}za.exports=Ca});var rr=w((bN,Va)=>{var k1=k(),x1=F(),E1=R(),F1=I(),_1=tr(),D1=Nn();function ja(r){if(E1(r)||F1(r))return ja(r.values);k1(x1(r),"The `std` function only works on arrays, Series, and DataFrames!");try{return _1(D1(r))}catch{return NaN}}Va.exports=ja});var Wa=w((TN,Ya)=>{var Ba=k(),A1=Tn(),Ua=F(),Ja=I(),$a=J(),Ha=rr();function Sn(r,n){if(Ja(r))return Sn(r.values,n);if(Ja(n))return Sn(r,n.values);Ba(Ua(r)&&Ua(n)&&$a(r).length===1&&$a(n).length===1,"The `correl` function only works on 1-dimensional arrays and Series!"),Ba(r.length===n.length,"The two arrays or Series passed into the `correl` function must have the same length!");try{return A1(r,n)/(Ha(r)*Ha(n))}catch{return NaN}}Ya.exports=Sn});var Ga=w((NN,Ka)=>{var M1=D(),I1=j();function L1(r){try{return M1(r)?Math.cos(r):NaN}catch{return NaN}}Ka.exports=I1(L1)});var rc=w((SN,tc)=>{var R1=k(),Qa=F(),Xa=R(),P1=ve(),Za=I(),ec=de();function On(r,n){if(Xa(r)||Za(r))return On(r.values,n);if(Xa(n)||Za(n))return On(r,n.values);R1(Qa(r)&&Qa(n),"The `diff` function only works on arrays, Series, and DataFrames!");let s=ec(r),u=ec(n),a=[];return s.forEach(c=>{u.findIndex(h=>P1(h,c))<0&&a.push(c)}),a}tc.exports=On});var nr=w((ON,ic)=>{var nc=D(),C1=j();function z1(r,n){try{return nc(r)?nc(n)?Math.pow(r,n):NaN:NaN}catch{return NaN}}ic.exports=C1(z1)});var kn=w((kN,sc)=>{var j1=D(),V1=j();function B1(){try{let r=Object.values(arguments);if(r.length===0)return NaN;let n=1;for(let s=0;s<r.length;s++){if(!j1(r[s]))return NaN;n*=r[s]}return n}catch{return NaN}}sc.exports=V1(B1)});var Qe=w((xN,oc)=>{var U1=kn();function J1(){return U1(...arguments)}oc.exports=J1});var xn=w((EN,uc)=>{var $1=Gt(),H1=Qe();function Y1(r,n){return $1(r,H1(n,-1))}uc.exports=Y1});var ir=w((FN,cc)=>{var W1=k(),K1=H(),G1=F(),Q1=R(),X1=I();function ac(r){if(Q1(r)||X1(r))return ac(r.values);W1(G1(r),"The `sum` function only works on arrays, Series, and DataFrames!");try{return r.length===0?NaN:K1(r).reduce((n,s)=>n+s,0)}catch{return NaN}}cc.exports=ac});var gc=w((_N,mc)=>{var Z1=Kt(),e0=k(),lc=F(),fc=R(),t0=ve(),hc=D(),pc=I(),r0=nr(),dc=J(),n0=tr(),i0=xn(),s0=ir();function En(r,n){if(hc(r)&&hc(n))return Z1(r-n);if(fc(r)||pc(r))return En(r.values,n);if(fc(n)||pc(n))return En(r,n.values);lc(r)&&lc(n)&&e0(t0(dc(r),dc(n)),"If passing two arrays, Series, or DataFrames into the `distance` function, then those objects must have the same shape!");try{return n0(s0(r0(i0(r,n),2)))}catch{return NaN}}mc.exports=En});var vc=w((DN,yc)=>{var o0=nr(),u0=Qe();function a0(r,n){return u0(r,o0(n,-1))}yc.exports=a0});var _n=w((AN,Sc)=>{var{DataFrame:qc,Series:wc}=yt(),sr=k(),bc=H(),Tc=F(),Fn=R(),c0=D(),or=I(),l0=Qe(),ur=J(),f0=ir(),Nc=Je();function Pe(r,n){if(Fn(r)){let a=Pe(r.values,n);if(ur(a).length===1){let c=new wc(a);return c.name=or(n)?n.name:c.name,c.index=r.index.slice(),c}else{let c=new qc(a);return c.index=r.index.slice(),Fn(n)&&(c.columns=n.columns.slice()),c}}if(Fn(n)){let a=Pe(r,n.values);if(ur(a).length===1){let c=new wc(a);return c.name=or(r)?r.name:c.name,c.index=n.columns.slice(),c}else{let c=new qc(a);return c.columns=n.columns.slice(),c}}if(or(r))return Pe(r.values,n);if(or(n))return Pe(r,n.values);sr(Tc(r)&&Tc(n),"The `dot` function only works on arrays, Series, and DataFrames!"),bc(r).concat(bc(n)).forEach(a=>{sr(c0(a),"One of the arrays you passed into the `dot` function contains non-numerical values!")});let s=ur(r),u=ur(n);if(sr(s.length<=2&&u.length<=2,"I'm not smart enough to know how to get the dot-product of arrays that have more than 2 dimensions. Sorry for the inconvenience! Please only pass 1- or 2-dimensional arrays into the `dot` function!"),sr(s[s.length-1]===u[0],`There's a dimension misalignment in the two arrays you passed into the \`dot\` function. (${s[s.length-1]} !== ${u[0]})`),s.length===1&&u.length===1)return f0(l0(r,n));if(s.length===1&&u.length===2)return Nc(n).map(a=>Pe(r,a));if(s.length===2&&u.length===1)return r.map(a=>Pe(a,n));if(s.length===2&&u.length===2){let a=Nc(n),c=[];for(let h=0;h<r.length;h++){let p=[];for(let m=0;m<a.length;m++)p.push(Pe(r[h],a[m]));c.push(p)}return c}}Sc.exports=Pe});var Dn=w((MN,kc)=>{var h0=k(),p0=F(),d0=R(),m0=I(),g0=C();function Oc(r){if(d0(r)||m0(r))return r.dropMissing(...Object.values(arguments).slice(1));h0(p0(r),"The `dropMissing` function only works on arrays, Series, and DataFrames!");let n=[];return r.forEach(s=>{try{return n.push(Oc(s))}catch{g0(s)||n.push(s)}}),n}kc.exports=Oc});var Ic=w((IN,Mc)=>{var xc=k(),Ec=F(),Fc=R(),y0=ve(),_c=I(),Dc=C(),Ac=J();function ar(r,n){if(Fc(r)||_c(r))return ar(r.values,n);if(Fc(n)||_c(n))return ar(r,n.values);xc(Ec(r)&&Ec(n),"The `dropMissingPairwise` function only works on arrays, Series, and DataFrames!"),xc(y0(Ac(r),Ac(n)),"The two arrays, Series, and/or DataFrames passed into the `dropMissingPairwise` function must have the same shape!");let s=[],u=[];for(let a=0;a<r.length;a++)try{let[c,h]=ar(r[a],n[a]);s.push(c),u.push(h)}catch{!Dc(r[a])&&!Dc(n[a])&&(s.push(r[a]),u.push(n[a]))}return[s,u]}Mc.exports=ar});var Bc=w((LN,Vc)=>{var Lc=k(),Rc=F(),Pc=R(),v0=ve(),Cc=D(),zc=I(),jc=J();function cr(r,n){if(Pc(r)||zc(r))return cr(r.values,n);if(Pc(n)||zc(n))return cr(r,n.values);Lc(Rc(r)&&Rc(n),"The `dropNaNPairwise` only works on arrays, Series, and DataFrames!"),Lc(v0(jc(r),jc(n)),"The two arrays, Series, and/or DataFrames passed into the `dropNaNPairwise` must have the same shape!");let s=[],u=[];for(let a=0;a<r.length;a++)try{let[c,h]=cr(r[a],n[a]);s.push(c),u.push(h)}catch{Cc(r[a])&&Cc(n[a])&&(s.push(r[a]),u.push(n[a]))}return[s,u]}Vc.exports=cr});var Jc=w((RN,Uc)=>{var q0=Dn();function w0(r){return q0(r)}Uc.exports=w0});var Hc=w((PN,$c)=>{var b0=D(),T0=j();function N0(r){try{return b0(r)?Math.exp(r):NaN}catch{return NaN}}$c.exports=T0(N0)});var Kc=w((CN,Wc)=>{var S0=j();function Yc(r){try{return r!==parseInt(r)?NaN:r<=1?1:r*Yc(r-1)}catch{return NaN}}Wc.exports=S0(Yc)});var Zc=w((zN,Xc)=>{var O0=k(),k0=H(),Gc=F(),x0=R(),E0=ne(),Qc=Ee(),F0=I();function An(r,n){if(x0(r))return An(k0(r.values),n);if(F0(r))return An(r.values,n);if(O0(Qc(r)||Gc(r),"You must pass (1) an object, array, Series, or DataFrame and (2) a function or value into the `find` function!"),!E0(n)){let a=n;n=c=>c===a}function s(a,c,h){if(h=h||[],h.indexOf(a)>-1)return null;if(Qc(a)){h.push(a);let p=Object.keys(a);for(let m=0;m<p.length;m++){let q=p[m],T=a[q];if(c(T))return T;let x=s(T,c,h);if(x)return x}}else if(Gc(a)){h.push(a);for(let p=0;p<a.length;p++){let m=a[p];if(c(m))return m;let q=s(m,c,h);if(q)return q}}else if(c(a))return a;return null}function u(a){try{return n(a)}catch{return!1}}return s(r,u)}Xc.exports=An});var nl=w((jN,rl)=>{var _0=k(),D0=H(),el=F(),A0=R(),M0=ne(),tl=Ee(),I0=I();function Mn(r,n){if(A0(r))return Mn(D0(r.values),n);if(I0(r))return Mn(r.values,n);if(_0(tl(r)||el(r),"You must pass (1) an object, array, Series, or DataFrame and (2) a function or value into the `findAll` function!"),!M0(n)){let c=n;n=h=>h===c}function s(c,h,p){if(p=p||[],p.indexOf(c)>-1)return null;if(tl(c)){p.push(c);let m=Object.keys(c),q=[];for(let T=0;T<m.length;T++){let x=m[T],E=c[x],L=!1;h(E)&&(q.push(E),L=!0);let z=s(E,h,p);z&&z.length>0&&z.slice(L?1:0).forEach(V=>q.push(V))}return q}else if(el(c)){p.push(c);let m=[];for(let q=0;q<c.length;q++){let T=c[q],x=!1;h(T)&&(m.push(T),x=!0);let E=s(T,h,p);E&&E.length>0&&E.slice(x?1:0).forEach(L=>m.push(L))}return m}else if(h(c))return[c];return null}function u(c){try{return n(c)}catch{return!1}}let a=s(r,u);return a&&a.length>0?a:null}rl.exports=Mn});var sl=w((VN,il)=>{var L0=D(),R0=j();function P0(r){try{if(r==="Infinity")return 1/0;if(r==="-Infinity")return-1/0;let n=JSON.parse(r);return L0(n)?n:NaN}catch{return NaN}}il.exports=R0(P0)});var ul=w((BN,ol)=>{var C0=D(),z0=j();function j0(r){try{return C0(r)?Math.floor(r):NaN}catch{return NaN}}ol.exports=z0(j0)});var In=w((UN,al)=>{var V0=D(),B0=ft(),U0=Bt();function J0(r){V0(r)&&(r=[r]);let n=[],s=B0(r);for(let u=0;u<s;u++)n.push(0);return U0(n,r)}al.exports=J0});var ll=w((JN,cl)=>{var lr=k(),$0=D(),H0=C(),Y0=In();function W0(r){lr(!H0(r),"You must pass an integer greater than 0 (representing the size) into the `identity` function!"),lr($0(r),"You must pass an integer greater than 0 (representing the size) into the `identity` function!"),lr(parseInt(r)===r,"You must pass an integer greater than 0 (representing the size) into the `identity` function!"),lr(r>0,"You must pass an integer greater than 0 (representing the size) into the `identity` function!");let n=Y0([r,r]);for(let s=0;s<r;s++)n[s][s]=1;return n}cl.exports=W0});var hl=w(($N,fl)=>{var K0=D(),G0=j();function Q0(r){try{let n=JSON.parse(r);return K0(n)?parseInt(n):NaN}catch{return NaN}}fl.exports=G0(Q0)});var dl=w((HN,pl)=>{var X0=k(),Z0=F(),ew=R(),tw=ve(),rw=I(),Ln=de();function nw(){let r=Object.values(arguments).map(s=>ew(s)||rw(s)?Ln(s.values):(X0(Z0(s),"The `intersect` function only works on arrays, Series, and DataFrames!"),Ln(s)));return Ln(r).filter(s=>r.every(u=>u.findIndex(a=>tw(a,s))>-1))}pl.exports=nw});var vl=w((YN,yl)=>{var ml=Gt(),Ce=k(),iw=_n(),sw=H(),ow=F(),uw=R(),Rn=D(),gl=Qe(),aw=J();function fr(r){if(uw(r)){let s=r.copy();return s.values=fr(s.values),s}Ce(ow(r),"The `inverse` function only works on square 2-dimensional arrays or DataFrames!"),sw(r).forEach(s=>Ce(Rn(s),"The array passed into the `inverse` function must contain only numbers!"));let n=aw(r);if(Ce(n.length===2,"The array passed into the `inverse` function must be exactly two-dimensional and square!"),Ce(n[0]===n[1],"The array passed into the `inverse` function must be exactly two-dimensional and square!"),Ce(n[0]>=0,"The array passed into the `inverse` function must be exactly two-dimensional and square!"),n[0]===0)return r;if(n[0]===1)return Ce(r[0][0]!==0,"This matrix cannot be inverted!"),1/r[0][0];if(n[0]===2){let s=r[0][0],u=r[0][1],a=r[1][0],c=r[1][1],h=s*c-u*a;Ce(h!==0,"This matrix cannot be inverted!");let p=[[c,-u],[-a,s]];return gl(p,1/h)}else if(n[0]>1){let s=(u,a)=>Rn(u)||Rn(a)?gl(u,a):iw(u,a);for(let u=1;u<n[0]-1;u++)try{let a=r.slice(0,u).map(V=>V.slice(0,u)),c=r.slice(0,u).map(V=>V.slice(u,n[0])),h=r.slice(u,n[0]).map(V=>V.slice(0,u)),p=r.slice(u,n[0]).map(V=>V.slice(u,n[0])),m=fr(a),q=fr(ml(p,s(-1,s(s(h,m),c)))),T=ml(m,s(s(s(s(m,c),q),h),m)),x=s(-1,s(s(m,c),q)),E=s(-1,s(s(q,h),m)),L=q;return T.map((V,re)=>V.concat(x[re])).concat(E.map((V,re)=>V.concat(L[re])))}catch{}Ce(!1,"This matrix cannot be inverted!")}}yl.exports=fr});var wl=w((WN,ql)=>{var Pn=D(),cw=j();function lw(r,n,s){try{return Pn(r)?Pn(n)?Pn(s)?s*(n-r)+r:NaN:NaN:NaN}catch{return NaN}}ql.exports=cw(lw)});var Nl=w((KN,Tl)=>{var bl=D(),fw=C(),hw=j();function pw(r,n){try{return n=fw(n)?Math.E:n,bl(r)?bl(n)?Math.log(r)/Math.log(n):NaN:NaN}catch{return NaN}}Tl.exports=hw(pw)});var kl=w((GN,Ol)=>{var dw=k(),mw=H(),gw=F(),yw=R(),vw=I(),qw=Ae();function Sl(r){if(yw(r)||vw(r))return Sl(r.values);dw(gw(r),"The `median` function only works on arrays, Series, and DataFrames!");try{let n=qw(mw(r));return n.length===0?NaN:n.length%2===0?(n[n.length/2-1]+n[n.length/2])/2:n[parseInt(n.length/2)]}catch{return NaN}}Ol.exports=Sl});var Fl=w((QN,El)=>{var xl=D(),ww=j();function bw(r,n){try{return xl(r)?xl(n)?r%n:NaN:NaN}catch{return NaN}}El.exports=ww(bw)});var Ml=w((XN,Al)=>{var Tw=k(),Nw=_t(),Sw=H(),Ow=F(),kw=R(),xw=I(),Ew=de(),_l=Ae();function Dl(r){if(kw(r)||xw(r))return Dl(r.values);Tw(Ow(r),"The `mode` function only works on arrays, Series, and DataFrames!");try{if(r.length===0)return NaN;let n=Sw(r);if(n.length===0)return NaN;let s={},u=Ew(n);u.forEach(p=>{s[p]=Nw(n,p)});let a=_l(u,(p,m)=>s[m]-s[p]),c=a[0];return _l(a.filter(p=>s[p]===s[c]))}catch{return NaN}}Al.exports=Dl});var Pl=w((ZN,Rl)=>{var{random:Il}=We(),Fw=Qt(),_w=C(),Dw=Fe();function Ll(){let r=Il(),n=Il();return Math.sqrt(-2*Math.log(r))*Math.cos(2*Math.PI*n)}function Aw(r){return _w(r)?Ll():Fw(Dw(r),Ll)}Rl.exports=Aw});var zl=w((eS,Cl)=>{var Mw=Qt(),Iw=Fe();function Lw(r){return Mw(Iw(r),()=>1)}Cl.exports=Lw});var Vl=w((tS,jl)=>{var Cn=k(),Rw=H(),Pw=F(),Cw=R(),zw=D(),jw=I(),Vw=C();function hr(r,n){if(Cw(r)||jw(r))return hr(r.values,n);if(Cn(Pw(r),"The `permutations` function only works on arrays, Series, and DataFrames!"),Vw(n)&&(n=r.length),Cn(zw(n),"`r` must be a whole number!"),r=Rw(r),n>r.length)return hr(r);if(n<=0)return[[]];if(Cn(n===parseInt(n),"`r` must be a whole number!"),r.length<2)return r;let s=[];return r.forEach((u,a)=>{let c=r.slice(0,a),h=r.slice(a+1),p=c.concat(h);hr(p,n-1).forEach(q=>{s.push([u].concat(q))})}),s}jl.exports=hr});var Ul=w((rS,Bl)=>{var{DataFrame:Bw,Series:Uw}=yt(),Jw=F(),$w=R(),Hw=st(),Yw=I(),Ww=J();function Kw(){Object.keys(arguments).forEach(r=>{let n=arguments[r];if(Jw(n))if(Hw(n))console.log(n);else{let s=Ww(n);s.length===1?new Uw(n).print():s.length==2?new Bw(n).print():console.log(n)}else $w(n)||Yw(n)?n.print():console.log(n)})}Bl.exports=Kw});var Hl=w((nS,$l)=>{var Gw=F(),Qw=D(),Jl=C(),Xw=Ue(),Zw=Xt(),eb=j(),tb=eb(function(r,n,s,u,a){try{return[r,n,s,u,a].every(c=>Qw(c))?s-n===0?NaN:(a-u)*(r-n)/(s-n)+u:NaN}catch{return NaN}});function rb(r,n,s,u,a){return Gw(r)&&Jl(u)&&Jl(a)&&(u=n,a=s,n=Zw(r),s=Xw(r)),tb(r,n,s,u,a)}$l.exports=rb});var Wl=w((iS,Yl)=>{var nb=D(),ib=j();function sb(r){try{return nb(r)?Math.round(r):NaN}catch{return NaN}}Yl.exports=ib(sb)});var Gl=w((sS,Kl)=>{var ob=D(),ub=j();function ab(r){try{return ob(r)?r<0?-1:r>0?1:0:NaN}catch{return NaN}}Kl.exports=ub(ab)});var Xl=w((oS,Ql)=>{var cb=D(),lb=j();function fb(r){try{return cb(r)?Math.sin(r):NaN}catch{return NaN}}Ql.exports=lb(fb)});var ef=w((uS,Zl)=>{var hb=rr();function pb(r){return hb(r)}Zl.exports=pb});var rf=w((aS,tf)=>{var db=D(),mb=j();function gb(r){try{return db(r)?Math.tan(r):NaN}catch{return NaN}}tf.exports=mb(gb)});var pr=w((cS,of)=>{var nf=k(),sf=ne();function yb(r,n){nf(sf(r),"`fn` must be a function!");let s=new Date;return n?r(...n):r(),new Date-s}async function vb(r,n){nf(sf(r),"`fn` must be a function!");let s=new Date;return n?await r(...n):await r(),new Date-s}of.exports={timeSync:yb,timeAsync:vb}});var af=w((lS,uf)=>{var qb=F(),wb=R(),bb=I(),Tb=de();function Nb(){return Tb([...arguments].map(r=>qb(r)?r:wb(r)||bb(r)?r.values:[r]))}uf.exports=Nb});var lf=w((fS,cf)=>{var Sb=k(),Ob=F(),kb=R(),xb=I(),Eb=C(),Fb=Ue(),_b=se();function Db(){let r=[],n=Object.values(arguments).map(s=>((kb(s)||xb(s))&&(s=s.values),Sb(Ob(s),"The `zip` function only works on arrays, Series, and DataFrames!"),s));return _b(0,Fb(n.map(s=>s.length))).forEach(s=>{let u=[];n.forEach(a=>{let c=a[s];u.push(Eb(c)?void 0:c)}),r.push(u)}),r}cf.exports=Db});var ff=w((hS,zn)=>{var{DataFrame:Ab,Series:Mb}=yt(),Xe={abs:Kt(),add:Gt(),apply:Qt(),arccos:ca(),arcsin:fa(),arctan:pa(),argmax:ma(),argmin:qa(),assert:k(),ceil:ba(),chop:Sa(),clamp:ka(),combinations:Ea(),copy:ye(),correl:Wa(),cos:Ga(),count:_t(),covariance:Tn(),DataFrame:Ab,diff:rc(),distance:gc(),divide:vc(),dot:_n(),dropMissing:Dn(),dropMissingPairwise:Ic(),dropNaN:Kr(),dropNaNPairwise:Bc(),dropUndefined:Jc(),exp:Hc(),factorial:Kc(),find:Zc(),findAll:nl(),flatten:H(),float:sl(),floor:ul(),identity:ll(),indexOf:nt(),int:hl(),intersect:dl(),inverse:vl(),isArray:F(),isBoolean:ct(),isDataFrame:R(),isEqual:ve(),isFunction:ne(),isJagged:st(),isNested:Dt(),isNumber:D(),isObject:Ee(),isSeries:I(),isString:ee(),isUndefined:C(),lerp:wl(),log:Nl(),MathError:ge(),max:Ue(),mean:Zt(),median:kl(),min:Xt(),mod:Fl(),mode:Ml(),multiply:kn(),ndarray:Fe(),normal:Pl(),ones:zl(),permutations:Vl(),pow:nr(),print:Ul(),product:ft(),random:We().random,range:se(),remap:Hl(),reshape:Bt(),reverse:ot(),round:Wl(),scale:Qe(),seed:We().seed,Series:Mb,set:de(),shape:J(),shuffle:Ut(),sign:Gl(),sin:Xl(),sort:Ae(),sqrt:tr(),std:rr(),stdev:ef(),subtract:xn(),sum:ir(),tan:rf(),time:pr().timeSync,timeSync:pr().timeSync,timeAsync:pr().timeAsync,transpose:Je(),union:af(),variance:Nn(),vectorize:j(),zeros:In(),zip:lf(),dump:function(){let r=global||window;if(!r)throw new Xe.MathError("Cannot dump functions into global scope because neither `global` nor `window` exist in the current context!");Object.keys(Xe).forEach(n=>{try{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,writable:!1,value:Xe[n]})}catch{r[n]=Xe[n]}})}};typeof zn<"u"&&(zn.exports=Xe);typeof window<"u"&&(window.JSMathTools=Xe)});var pf=w((dr,hf)=>{(function(r,n){typeof dr=="object"&&typeof hf<"u"?n(dr):typeof define=="function"&&define.amd?define(["exports"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.liquidjs={}))})(dr,function(r){"use strict";var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])},n(e,t)};function s(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var u=function(){return u=Object.assign||function(t){for(var i,o=1,l=arguments.length;o<l;o++){i=arguments[o];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(t[f]=i[f])}return t},u.apply(this,arguments)};function a(e,t,i,o){function l(f){return f instanceof i?f:new i(function(d){d(f)})}return new(i||(i=Promise))(function(f,d){function g(b){try{v(o.next(b))}catch(O){d(O)}}function y(b){try{v(o.throw(b))}catch(O){d(O)}}function v(b){b.done?f(b.value):l(b.value).then(g,y)}v((o=o.apply(e,t||[])).next())})}function c(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,l,f,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(v){return function(b){return y([v,b])}}function y(v){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,l&&(f=v[0]&2?l.return:v[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,v[1])).done)return f;switch(l=0,f&&(v=[v[0]&2,f.value]),v[0]){case 0:case 1:f=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,l=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!f||v[1]>f[0]&&v[1]<f[3])){i.label=v[1];break}if(v[0]===6&&i.label<f[1]){i.label=f[1],f=v;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(v);break}f[2]&&i.ops.pop(),i.trys.pop();continue}v=t.call(e,i)}catch(b){v=[6,b],l=0}finally{o=f=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}function h(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],o=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var o=i.call(e),l,f=[],d;try{for(;(t===void 0||t-- >0)&&!(l=o.next()).done;)f.push(l.value)}catch(g){d={error:g}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(d)throw d.error}}return f}function m(e,t,i){if(i||arguments.length===2)for(var o=0,l=t.length,f;o<l;o++)(f||!(o in t))&&(f||(f=Array.prototype.slice.call(t,0,o)),f[o]=t[o]);return e.concat(f||Array.prototype.slice.call(t))}var q=function(){function e(){}return e.prototype.liquidMethodMissing=function(t){},e}(),T=Object.prototype.toString,x=String.prototype.toLowerCase,E=Object.hasOwnProperty;function L(e){return typeof e=="string"}function z(e){return typeof e=="function"}function V(e){return e&&z(e.then)}function re(e){return e&&z(e.next)&&z(e.throw)&&z(e.return)}function ue(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function _(e){return e=M(e),L(e)?e:Se(e)?"":ie(e)?e.map(function(t){return _(t)}).join(""):String(e)}function M(e){return e instanceof q&&z(e.valueOf)?e.valueOf():e}function ze(e){return typeof e=="number"}function Un(e){return e&&z(e.toLiquid)?Un(e.toLiquid()):e}function Se(e){return e==null}function ie(e){return T.call(e)==="[object Array]"}function gf(e){return yr(e)&&Symbol.iterator in e}function mr(e,t){e=e||{};for(var i in e)if(E.call(e,i)&&t(e[i],i,e)===!1)break;return e}function gr(e){return e[e.length-1]}function yr(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function Jn(e,t,i){i===void 0&&(i=1);for(var o=[],l=e;l<t;l+=i)o.push(l);return o}function qt(e,t,i){return i===void 0&&(i=" "),$n(e,t,i,function(o,l){return l+o})}function yf(e,t,i){return i===void 0&&(i=" "),$n(e,t,i,function(o,l){return o+l})}function $n(e,t,i,o){e=String(e);for(var l=t-e.length;l-- >0;)e=o(e,i);return e}function Hn(e){return e}function vr(e){return e.replace(/(\w?)([A-Z])/g,function(t,i,o){return(i?i+"_":"")+o.toLowerCase()})}function vf(e){var t=m([],p(e),!1).some(function(i){return i>="a"&&i<="z"});return t?e.toUpperCase():e.toLowerCase()}function qf(e,t){return e.length>t?e.slice(0,t-3)+"...":e}function Yn(e,t){return e==null&&t==null?0:e==null?1:t==null||(e=x.call(e),t=x.call(t),e<t)?-1:e>t?1:0}function ae(e){return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.apply(void 0,m([],p(t.map(M)),!1))}}function qr(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var wr=function(){function e(t,i,o,l){this.key=t,this.value=i,this.next=o,this.prev=l}return e}(),Wn=function(){function e(t,i){i===void 0&&(i=0),this.limit=t,this.size=i,this.cache={},this.head=new wr("HEAD",null,null,null),this.tail=new wr("TAIL",null,null,null),this.head.next=this.tail,this.tail.prev=this.head}return e.prototype.write=function(t,i){if(this.cache[t])this.cache[t].value=i;else{var o=new wr(t,i,this.head.next,this.head);this.head.next.prev=o,this.head.next=o,this.cache[t]=o,this.size++,this.ensureLimit()}},e.prototype.read=function(t){if(!!this.cache[t]){var i=this.cache[t].value;return this.remove(t),this.write(t,i),i}},e.prototype.remove=function(t){var i=this.cache[t];i.prev.next=i.next,i.next.prev=i.prev,delete this.cache[t],this.size--},e.prototype.clear=function(){this.head.next=this.tail,this.tail.prev=this.head,this.size=0,this.cache={}},e.prototype.ensureLimit=function(){this.size>this.limit&&this.remove(this.tail.prev.key)},e}();function Kn(e,t){var i=document.createElement("base");i.href=e;var o=document.getElementsByTagName("head")[0];o.insertBefore(i,o.firstChild);var l=document.createElement("a");l.href=t;var f=l.href;return o.removeChild(i),f}function wf(e,t,i){e.length&&gr(e)!=="/"&&(e+="/");var o=Kn(e,t);return o.replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,function(l,f,d){var g=d.split("/").pop();return/\.\w+$/.test(g)?l:f+d+i})}function bf(e){return a(this,void 0,void 0,function(){return c(this,function(t){return[2,new Promise(function(i,o){var l=new XMLHttpRequest;l.onload=function(){l.status>=200&&l.status<300?i(l.responseText):o(new Error(l.statusText))},l.onerror=function(){o(new Error("An error occurred whilst receiving the response."))},l.open("GET",e),l.send()})]})})}function Tf(e){var t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(),t.status<200||t.status>=300)throw new Error(t.statusText);return t.responseText}function Nf(e){return a(this,void 0,void 0,function(){return c(this,function(t){return[2,!0]})})}function Sf(e){return!0}function Of(e){return Kn(e,".")}var kf="/",xf=Object.freeze({__proto__:null,resolve:wf,readFile:bf,readFileSync:Tf,exists:Nf,existsSync:Sf,dirname:Of,sep:kf});function ce(e){return e&&z(e.equals)}function Oe(e,t){return!wt(e,t)}function wt(e,t){return t.opts.jsTruthy?!e:e===!1||e===void 0||e===null}var br={"==":function(e,t){return ce(e)?e.equals(t):ce(t)?t.equals(e):M(e)===M(t)},"!=":function(e,t){return ce(e)?!e.equals(t):ce(t)?!t.equals(e):M(e)!==M(t)},">":function(e,t){return ce(e)?e.gt(t):ce(t)?t.lt(e):M(e)>M(t)},"<":function(e,t){return ce(e)?e.lt(t):ce(t)?t.gt(e):M(e)<M(t)},">=":function(e,t){return ce(e)?e.geq(t):ce(t)?t.leq(e):M(e)>=M(t)},"<=":function(e,t){return ce(e)?e.leq(t):ce(t)?t.geq(e):M(e)<=M(t)},contains:function(e,t){return e=M(e),t=M(t),e&&z(e.indexOf)?e.indexOf(t)>-1:!1},and:function(e,t,i){return Oe(M(e),i)&&Oe(M(t),i)},or:function(e,t,i){return Oe(M(e),i)||Oe(M(t),i)}},B=[0,0,0,0,0,0,0,0,0,20,4,4,4,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,2,8,0,0,0,0,8,0,0,0,64,0,65,0,0,33,33,33,33,33,33,33,33,33,33,0,0,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Tr=1,bt=4,Gn=8,Qn=16,Ef=32,Ff=64;B[160]=B[5760]=B[6158]=B[8192]=B[8193]=B[8194]=B[8195]=B[8196]=B[8197]=B[8198]=B[8199]=B[8200]=B[8201]=B[8202]=B[8232]=B[8233]=B[8239]=B[8287]=B[12288]=bt;function Nr(e){var t,i,o={};try{for(var l=h(Object.entries(e)),f=l.next();!f.done;f=l.next()){for(var d=p(f.value,2),g=d[0],y=d[1],v=o,b=0;b<g.length;b++){var O=g[b];v[O]=v[O]||{},b===g.length-1&&B[g.charCodeAt(b)]&Tr&&(v[O].needBoundary=!0),v=v[O]}v.handler=y,v.end=!0}}catch(N){t={error:N}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(t)throw t.error}}return o}var _f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},Df={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function Xn(e){return _(e).replace(/&|<|>|"|'/g,function(t){return _f[t]})}function Af(e){return _(e).replace(/&(amp|lt|gt|#34|#39);/g,function(t){return Df[t]})}function Mf(e){return Xn(Af(_(e)))}function If(e){return _(e).replace(/\n/g,`<br />
`)}function Lf(e){return _(e).replace(/<script.*?<\/script>|<!--.*?-->|<style.*?<\/style>|<.*?>/g,"")}var Rf=ae(Math.abs),Pf=ae(Math.max),Cf=ae(Math.min),zf=ae(Math.ceil),jf=ae(function(e,t,i){return i===void 0&&(i=!1),i?Math.floor(e/t):e/t}),Vf=ae(Math.floor),Bf=ae(function(e,t){return e-t}),Uf=ae(function(e,t){return e%t}),Jf=ae(function(e,t){return e*t});function $f(e,t){t===void 0&&(t=0),e=M(e),t=M(t);var i=Math.pow(10,t);return Math.round(e*i)/i}function Hf(e,t){return e=M(e),t=M(t),Number(e)+Number(t)}var Yf=function(e){return _(e).split("+").map(decodeURIComponent).join(" ")},Wf=function(e){return _(e).split(" ").map(encodeURIComponent).join("+")};function Sr(e){return e=M(e),ie(e)?e:L(e)&&e.length>0?[e]:gf(e)?Array.from(e):yr(e)?Object.keys(e).map(function(t){return[t,e[t]]}):[]}function we(e){return Se(e)?[]:ie(e)?e:[e]}var Kf=ae(function(e,t){return we(e).join(t===void 0?" ":t)}),Gf=ae(function(e){return ie(e)?gr(e):""}),Qf=ae(function(e){return ie(e)?e[0]:""}),Xf=ae(function(e){return m([],p(we(e)),!1).reverse()});function Zf(e,t){var i,o,l,f,d,g,y,v,b,O,N;return c(this,function(S){switch(S.label){case 0:i=[],S.label=1;case 1:S.trys.push([1,8,9,10]),o=h(we(M(e))),l=o.next(),S.label=2;case 2:return l.done?[3,7]:(f=l.value,g=(d=i).push,y=[f],t?[4,this.context._getFromScope(f,_(t).split("."))]:[3,4]);case 3:return v=S.sent(),[3,5];case 4:v=f,S.label=5;case 5:g.apply(d,[y.concat([v])]),S.label=6;case 6:return l=o.next(),[3,2];case 7:return[3,10];case 8:return b=S.sent(),O={error:b},[3,10];case 9:try{l&&!l.done&&(N=o.return)&&N.call(o)}finally{if(O)throw O.error}return[7];case 10:return[2,i.sort(function(P,A){var U=P[1],K=A[1];return U<K?-1:U>K?1:0}).map(function(P){return P[0]})]}})}function eh(e,t){e=M(e);var i=_(t),o=t===void 0?Yn:function(l,f){return Yn(l[i],f[i])};return m([],p(we(e)),!1).sort(o)}var th=function(e){return e&&e.length||0};function rh(e,t){var i,o,l,f,d,g,y,v,b;return c(this,function(O){switch(O.label){case 0:i=[],O.label=1;case 1:O.trys.push([1,6,7,8]),o=h(we(M(e))),l=o.next(),O.label=2;case 2:return l.done?[3,5]:(f=l.value,g=(d=i).push,[4,this.context._getFromScope(f,_(t).split("."))]);case 3:g.apply(d,[O.sent()]),O.label=4;case 4:return l=o.next(),[3,2];case 5:return[3,8];case 6:return y=O.sent(),v={error:y},[3,8];case 7:try{l&&!l.done&&(b=o.return)&&b.call(o)}finally{if(v)throw v.error}return[7];case 8:return[2,i]}})}function nh(e){return e=M(e),we(e).filter(function(t){return!Se(M(t))})}function ih(e,t){return t===void 0&&(t=[]),e=M(e),t=we(t).map(function(i){return M(i)}),we(e).concat(t)}function sh(e,t,i){return i===void 0&&(i=1),e=M(e),Se(e)?[]:(ie(e)||(e=_(e)),t=t<0?e.length+t:t,e.slice(t,t+i))}function oh(e,t,i){var o,l,f,d,g,y,v,b,O,N=this;return c(this,function(S){switch(S.label){case 0:o=[],e=we(M(e)),S.label=1;case 1:S.trys.push([1,6,7,8]),l=h(e),f=l.next(),S.label=2;case 2:return f.done?[3,5]:(d=f.value,y=(g=o).push,[4,this.context._getFromScope(d,_(t).split("."))]);case 3:y.apply(g,[S.sent()]),S.label=4;case 4:return f=l.next(),[3,2];case 5:return[3,8];case 6:return v=S.sent(),b={error:v},[3,8];case 7:try{f&&!f.done&&(O=l.return)&&O.call(l)}finally{if(b)throw b.error}return[7];case 8:return[2,e.filter(function(P,A){return i===void 0?Oe(o[A],N.context):ce(i)?i.equals(o[A]):o[A]===i})]}})}function uh(e){e=M(e);var t={};return(e||[]).filter(function(i){return E.call(t,String(i))?!1:(t[String(i)]=!0,!0)})}var ah=/%([-_0^#:]+)?(\d+)?([EO])?(.)/,Zn=["January","February","March","April","May","June","July","August","September","October","November","December"],ei=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ch=Zn.map(ri),lh=ei.map(ri),ti={1:"st",2:"nd",3:"rd",default:"th"};function ri(e){return e.slice(0,3)}function fh(e){var t=hh(e)?29:28;return[31,t,31,30,31,30,31,31,30,31,30,31]}function ni(e){for(var t=0,i=0;i<e.getMonth();++i)t+=fh(e)[i];return t+e.getDate()}function ii(e,t){var i=ni(e)+(t-e.getDay()),o=new Date(e.getFullYear(),0,1),l=7-o.getDay()+t;return String(Math.floor((i-l)/7)+1)}function hh(e){var t=e.getFullYear();return!!((t&3)===0&&(t%100||t%400===0&&t))}function ph(e){var t=e.getDate().toString(),i=parseInt(t.slice(-1));return ti[i]||ti.default}function dh(e){return parseInt(e.getFullYear().toString().substring(0,2),10)}var mh={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},gh={a:" ",A:" ",b:" ",B:" ",c:" ",e:" ",k:" ",l:" ",p:" ",P:" "},Or={a:function(e){return lh[e.getDay()]},A:function(e){return ei[e.getDay()]},b:function(e){return ch[e.getMonth()]},B:function(e){return Zn[e.getMonth()]},c:function(e){return e.toLocaleString()},C:function(e){return dh(e)},d:function(e){return e.getDate()},e:function(e){return e.getDate()},H:function(e){return e.getHours()},I:function(e){return String(e.getHours()%12||12)},j:function(e){return ni(e)},k:function(e){return e.getHours()},l:function(e){return String(e.getHours()%12||12)},L:function(e){return e.getMilliseconds()},m:function(e){return e.getMonth()+1},M:function(e){return e.getMinutes()},N:function(e,t){var i=Number(t.width)||9,o=String(e.getMilliseconds()).slice(0,i);return yf(o,i,"0")},p:function(e){return e.getHours()<12?"AM":"PM"},P:function(e){return e.getHours()<12?"am":"pm"},q:function(e){return ph(e)},s:function(e){return Math.round(e.getTime()/1e3)},S:function(e){return e.getSeconds()},u:function(e){return e.getDay()||7},U:function(e){return ii(e,0)},w:function(e){return e.getDay()},W:function(e){return ii(e,1)},x:function(e){return e.toLocaleDateString()},X:function(e){return e.toLocaleTimeString()},y:function(e){return e.getFullYear().toString().slice(2,4)},Y:function(e){return e.getFullYear()},z:function(e,t){var i=Math.abs(e.getTimezoneOffset()),o=Math.floor(i/60),l=i%60;return(e.getTimezoneOffset()>0?"-":"+")+qt(o,2,"0")+(t.flags[":"]?":":"")+qt(l,2,"0")},t:function(){return"	"},n:function(){return`
`},"%":function(){return"%"}};Or.h=Or.b;function yh(e,t){for(var i="",o=t,l;l=ah.exec(o);)i+=o.slice(0,l.index),o=o.slice(l.index+l[0].length),i+=vh(e,l);return i+o}function vh(e,t){var i,o,l=p(t,5),f=l[0],d=l[1],g=d===void 0?"":d,y=l[2],v=l[3],b=l[4],O=Or[b];if(!O)return f;var N={};try{for(var S=h(g),P=S.next();!P.done;P=S.next()){var A=P.value;N[A]=!0}}catch(xe){i={error:xe}}finally{try{P&&!P.done&&(o=S.return)&&o.call(S)}finally{if(i)throw i.error}}var U=String(O(e,{flags:N,width:y,modifier:v})),K=gh[b]||"0",fe=y||mh[b]||0;return N["^"]?U=U.toUpperCase():N["#"]&&(U=vf(U)),N._?K=" ":N[0]&&(K="0"),N["-"]&&(fe=0),qt(U,fe,K)}var qh=6e4,wh=new Date().getTimezoneOffset(),bh=/([zZ]|([+-])(\d{2}):(\d{2}))$/,Tt=function(){function e(t,i){if(t instanceof e)this.date=t.date,i=t.timezoneOffset;else{var o=(wh-i)*qh,l=new Date(t).getTime()+o;this.date=new Date(l)}this.timezoneOffset=i}return e.prototype.getTime=function(){return this.date.getTime()},e.prototype.getMilliseconds=function(){return this.date.getMilliseconds()},e.prototype.getSeconds=function(){return this.date.getSeconds()},e.prototype.getMinutes=function(){return this.date.getMinutes()},e.prototype.getHours=function(){return this.date.getHours()},e.prototype.getDay=function(){return this.date.getDay()},e.prototype.getDate=function(){return this.date.getDate()},e.prototype.getMonth=function(){return this.date.getMonth()},e.prototype.getFullYear=function(){return this.date.getFullYear()},e.prototype.toLocaleTimeString=function(t){return this.date.toLocaleTimeString(t)},e.prototype.toLocaleDateString=function(t){return this.date.toLocaleDateString(t)},e.prototype.getTimezoneOffset=function(){return this.timezoneOffset},e.createDateFixedToTimezone=function(t){var i=t.match(bh);if(i&&i[1]==="Z")return new e(+new Date(t),0);if(i&&i[2]&&i[3]&&i[4]){var o=p(i,5),l=o[2],f=o[3],d=o[4],g=(l==="+"?-1:1)*(parseInt(f,10)*60+parseInt(d,10));return new e(+new Date(t),g)}return new Date(t)},e}();function Th(e,t){var i=this.context.opts,o;return e=M(e),t=_(t),e==="now"||e==="today"?o=new Date:ze(e)?o=new Date(e*1e3):L(e)?/^\d+$/.test(e)?o=new Date(+e*1e3):i.preserveTimezones?o=Tt.createDateFixedToTimezone(e):o=new Date(e):o=e,Nh(o)?(i.hasOwnProperty("timezoneOffset")&&(o=new Tt(o,i.timezoneOffset)),yh(o,t)):e}function Nh(e){return(e instanceof Date||e instanceof Tt)&&!isNaN(e.getTime())}function Sh(e,t){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e=M(e),ie(e)||L(e)?e.length?e:t:e===!1&&new Map(i).get("allow_false")?!1:wt(e,this.context)?t:e}function Oh(e){return JSON.stringify(e)}var kh=Hn,Ze=function(e){s(t,e);function t(i,o){var l=e.call(this,i.message)||this;return l.originalError=i,l.token=o,l.context="",l}return t.prototype.update=function(){var i=this.originalError;this.context=xh(this.token),this.message=Eh(i.message,this.token),this.stack=this.message+`
`+this.context+`
`+this.stack+`
From `+i.stack},t}(Error),Nt=function(e){s(t,e);function t(i,o){var l=e.call(this,new Error(i),o)||this;return l.name="TokenizationError",e.prototype.update.call(l),l}return t}(Ze),si=function(e){s(t,e);function t(i,o){var l=e.call(this,i,o)||this;return l.name="ParseError",l.message=i.message,e.prototype.update.call(l),l}return t}(Ze),kr=function(e){s(t,e);function t(i,o){var l=e.call(this,i,o.token)||this;return l.name="RenderError",l.message=i.message,e.prototype.update.call(l),l}return t.is=function(i){return i.name==="RenderError"},t}(Ze),oi=function(e){s(t,e);function t(i,o){var l=e.call(this,i,o)||this;return l.name="UndefinedVariableError",l.message=i.message,e.prototype.update.call(l),l}return t}(Ze),ui=function(e){s(t,e);function t(i){var o=e.call(this,"undefined variable: ".concat(i))||this;return o.name="InternalUndefinedVariableError",o.variableName=i,o}return t}(Error),ai=function(e){s(t,e);function t(i){var o=e.call(this,i)||this;return o.name="AssertionError",o.message=i+"",o}return t}(Error);function xh(e){var t=p(e.getPosition(),1),i=t[0],o=e.input.split(`
`),l=Math.max(i-2,1),f=Math.min(i+3,o.length),d=Jn(l,f+1).map(function(g){var y=g===i?">> ":"   ",v=qt(String(g),String(f).length),b=o[g-1];return"".concat(y).concat(v,"| ").concat(b)}).join(`
`);return d}function Eh(e,t){t.file&&(e+=", file:".concat(t.file));var i=p(t.getPosition(),2),o=i[0],l=i[1];return e+=", line:".concat(o,", col:").concat(l),e}function W(e,t){if(!e){var i=typeof t=="function"?t():t||"expect ".concat(e," to be true");throw new ai(i)}}function Fh(e,t){return W(arguments.length===2,"append expect 2 arguments"),_(e)+_(t)}function _h(e,t){return W(arguments.length===2,"prepend expect 2 arguments"),_(t)+_(e)}function Dh(e,t){return t?(t=qr(_(t)),_(e).replace(new RegExp("^[".concat(t,"]+"),"g"),"")):_(e).replace(/^\s+/,"")}function Ah(e){return _(e).toLowerCase()}function Mh(e){return _(e).toUpperCase()}function Ih(e,t){return _(e).split(String(t)).join("")}function Lh(e,t){return _(e).replace(String(t),"")}function Rh(e,t){return t?(t=qr(_(t)),_(e).replace(new RegExp("[".concat(t,"]+$"),"g"),"")):_(e).replace(/\s+$/,"")}function Ph(e,t){for(var i=_(e).split(String(t));i.length&&i[i.length-1]==="";)i.pop();return i}function Ch(e,t){return t?(t=qr(_(t)),_(e).replace(new RegExp("^[".concat(t,"]+"),"g"),"").replace(new RegExp("[".concat(t,"]+$"),"g"),"")):_(e).trim()}function zh(e){return _(e).replace(/\n/g,"")}function jh(e){return e=_(e),e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function Vh(e,t,i){return _(e).split(String(t)).join(i)}function Bh(e,t,i){return _(e).replace(String(t),i)}function Uh(e,t,i){return t===void 0&&(t=50),i===void 0&&(i="..."),e=_(e),e.length<=t?e:e.substring(0,t-i.length)+i}function Jh(e,t,i){t===void 0&&(t=15),i===void 0&&(i="...");var o=_(e).split(/\s+/),l=o.slice(0,t).join(" ");return o.length>=t&&(l+=i),l}var xr=Object.freeze({__proto__:null,escape:Xn,escapeOnce:Mf,newlineToBr:If,stripHtml:Lf,abs:Rf,atLeast:Pf,atMost:Cf,ceil:zf,dividedBy:jf,floor:Vf,minus:Bf,modulo:Uf,times:Jf,round:$f,plus:Hf,urlDecode:Yf,urlEncode:Wf,join:Kf,last:Gf,first:Qf,reverse:Xf,sort:Zf,sortNatural:eh,size:th,map:rh,compact:nh,concat:ih,slice:sh,where:oh,uniq:uh,date:Th,Default:Sh,json:Oh,raw:kh,append:Fh,prepend:_h,lstrip:Dh,downcase:Ah,upcase:Mh,remove:Ih,removeFirst:Lh,rstrip:Rh,split:Ph,strip:Ch,stripNewlines:zh,capitalize:jh,replace:Vh,replaceFirst:Bh,truncate:Uh,truncatewords:Jh});r.TokenKind=void 0,function(e){e[e.Number=1]="Number",e[e.Literal=2]="Literal",e[e.Tag=4]="Tag",e[e.Output=8]="Output",e[e.HTML=16]="HTML",e[e.Filter=32]="Filter",e[e.Hash=64]="Hash",e[e.PropertyAccess=128]="PropertyAccess",e[e.Word=256]="Word",e[e.Range=512]="Range",e[e.Quoted=1024]="Quoted",e[e.Operator=2048]="Operator",e[e.Delimited=12]="Delimited"}(r.TokenKind||(r.TokenKind={}));function ci(e){return!!(pe(e)&r.TokenKind.Delimited)}function Er(e){return pe(e)===r.TokenKind.Operator}function St(e){return pe(e)===r.TokenKind.HTML}function li(e){return pe(e)===r.TokenKind.Output}function Ot(e){return pe(e)===r.TokenKind.Tag}function Fr(e){return pe(e)===r.TokenKind.Quoted}function fi(e){return pe(e)===r.TokenKind.Literal}function hi(e){return pe(e)===r.TokenKind.Number}function pi(e){return pe(e)===r.TokenKind.PropertyAccess}function di(e){return pe(e)===r.TokenKind.Word}function mi(e){return pe(e)===r.TokenKind.Range}function pe(e){return e?e.kind:-1}var $h=Object.freeze({__proto__:null,isDelimitedToken:ci,isOperatorToken:Er,isHTMLToken:St,isOutputToken:li,isTagToken:Ot,isQuotedToken:Fr,isLiteralToken:fi,isNumberToken:hi,isPropertyAccessToken:pi,isWordToken:di,isRangeToken:mi}),Hh=function(e){s(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.equals=function(i){return Se(M(i))},t.prototype.gt=function(){return!1},t.prototype.geq=function(){return!1},t.prototype.lt=function(){return!1},t.prototype.leq=function(){return!1},t.prototype.valueOf=function(){return null},t}(q),gi=function(e){s(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.equals=function(i){return i instanceof t?!1:(i=M(i),L(i)||ie(i)?i.length===0:yr(i)?Object.keys(i).length===0:!1)},t.prototype.gt=function(){return!1},t.prototype.geq=function(){return!1},t.prototype.lt=function(){return!1},t.prototype.leq=function(){return!1},t.prototype.valueOf=function(){return""},t}(q),Yh=function(e){s(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.equals=function(i){return i===!1||Se(M(i))?!0:L(i)?/^\s*$/.test(i):e.prototype.equals.call(this,i)},t}(gi),yi=new Hh,vi={true:!0,false:!1,nil:yi,null:yi,empty:new gi,blank:new Yh},Wh=/[\da-fA-F]/,qi=/[0-7]/,wi={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",v:"\v"};function bi(e){var t=e.charCodeAt(0);return t>=97?t-87:t>=65?t-55:t-48}function Ti(e){for(var t="",i=1;i<e.length-1;i++){if(e[i]!=="\\"){t+=e[i];continue}if(wi[e[i+1]]!==void 0)t+=wi[e[++i]];else if(e[i+1]==="u"){for(var o=0,l=i+2;l<=i+5&&Wh.test(e[l]);)o=o*16+bi(e[l++]);i=l-1,t+=String.fromCharCode(o)}else if(!qi.test(e[i+1]))t+=e[++i];else{for(var l=i+1,o=0;l<=i+3&&qi.test(e[l]);)o=o*8+bi(e[l++]);i=l-1,t+=String.fromCharCode(o)}}return t}function be(e){return a(this,void 0,void 0,function(){var t,i,o,l,f;return c(this,function(d){switch(d.label){case 0:if(!re(e))return[2,e];i=!1,o="next",d.label=1;case 1:l=e[o](t),i=l.done,t=l.value,o="next",d.label=2;case 2:return d.trys.push([2,5,,6]),re(t)&&(t=be(t)),V(t)?[4,t]:[3,4];case 3:t=d.sent(),d.label=4;case 4:return[3,6];case 5:return f=d.sent(),o="throw",t=f,[3,6];case 6:if(!i)return[3,1];d.label=7;case 7:return[2,t]}})})}function Te(e){if(!re(e))return e;var t,i=!1,o="next";do{var l=e[o](t);if(i=l.done,t=l.value,o="next",re(t))try{t=Te(t)}catch(f){o="throw",t=f}}while(!i);return t}var Kh=be,Ni=function(){function e(t){this.postfix=m([],p(rp(t)),!1)}return e.prototype.evaluate=function(t,i){var o,l,f,d,g,y,v,b,O,N,S,P;return c(this,function(A){switch(A.label){case 0:W(t,"unable to evaluate: context not defined"),o=[],A.label=1;case 1:A.trys.push([1,8,9,10]),l=h(this.postfix),f=l.next(),A.label=2;case 2:return f.done?[3,7]:(d=f.value,Er(d)?(g=o.pop(),y=o.pop(),[4,Zh(t.opts.operators,d,y,g,t)]):[3,4]);case 3:return v=A.sent(),o.push(v),[3,6];case 4:return O=(b=o).push,[4,Q(d,t,i&&this.postfix.length===1)];case 5:O.apply(b,[A.sent()]),A.label=6;case 6:return f=l.next(),[3,2];case 7:return[3,10];case 8:return N=A.sent(),S={error:N},[3,10];case 9:try{f&&!f.done&&(P=l.return)&&P.call(l)}finally{if(S)throw S.error}return[7];case 10:return[2,o[0]]}})},e}();function Gh(e,t,i){return i===void 0&&(i=!1),c(this,function(o){return[2,Te(Q(e,t,i))]})}function Q(e,t,i){return i===void 0&&(i=!1),c(this,function(o){switch(o.label){case 0:return pi(e)?[4,Qh(e,t,i)]:[3,2];case 1:return[2,o.sent()];case 2:return mi(e)?[4,tp(e,t)]:[3,4];case 3:return[2,o.sent()];case 4:return fi(e)?[2,ep(e)]:hi(e)?[2,Xh(e)]:di(e)?[2,e.getText()]:Fr(e)?[2,kt(e)]:[2]}})}function Qh(e,t,i){var o,l,f,d,g,y,v,b,O,N;return c(this,function(S){switch(S.label){case 0:o=[],S.label=1;case 1:S.trys.push([1,6,7,8]),l=h(e.props),f=l.next(),S.label=2;case 2:return f.done?[3,5]:(d=f.value,y=(g=o).push,[4,Q(d,t,!1)]);case 3:y.apply(g,[S.sent()]),S.label=4;case 4:return f=l.next(),[3,2];case 5:return[3,8];case 6:return v=S.sent(),O={error:v},[3,8];case 7:try{f&&!f.done&&(N=l.return)&&N.call(l)}finally{if(O)throw O.error}return[7];case 8:return S.trys.push([8,10,,11]),[4,t._get(m([e.propertyName],p(o),!1))];case 9:return[2,S.sent()];case 10:if(b=S.sent(),i&&b.name==="InternalUndefinedVariableError")return[2,null];throw new oi(b,e);case 11:return[2]}})}function Xh(e){var t=e.whole.content+"."+(e.decimal?e.decimal.content:"");return Number(t)}function kt(e){return Ti(e.getText())}function Zh(e,t,i,o,l){var f=e[t.operator];return f(i,o,l)}function ep(e){return vi[e.literal]}function tp(e,t){var i,o;return c(this,function(l){switch(l.label){case 0:return[4,Q(e.lhs,t)];case 1:return i=l.sent(),[4,Q(e.rhs,t)];case 2:return o=l.sent(),[2,Jn(+i,+o+1)]}})}function rp(e){var t,i,o,l,f,d,g;return c(this,function(y){switch(y.label){case 0:t=[],y.label=1;case 1:y.trys.push([1,10,11,12]),i=h(e),o=i.next(),y.label=2;case 2:if(o.done)return[3,9];if(l=o.value,!Er(l))return[3,6];y.label=3;case 3:return t.length&&t[t.length-1].getPrecedence()>l.getPrecedence()?[4,t.pop()]:[3,5];case 4:return y.sent(),[3,3];case 5:return t.push(l),[3,8];case 6:return[4,l];case 7:y.sent(),y.label=8;case 8:return o=i.next(),[3,2];case 9:return[3,12];case 10:return f=y.sent(),d={error:f},[3,12];case 11:try{o&&!o.done&&(g=i.return)&&g.call(i)}finally{if(d)throw d.error}return[7];case 12:return t.length?[4,t.pop()]:[3,14];case 13:return y.sent(),[3,12];case 14:return[2]}})}var le=function(){function e(t,i,o,l,f){this.kind=t,this.input=i,this.begin=o,this.end=l,this.file=f}return e.prototype.getText=function(){return this.input.slice(this.begin,this.end)},e.prototype.getPosition=function(){for(var t=p([1,1],2),i=t[0],o=t[1],l=0;l<this.begin;l++)this.input[l]===`
`?(i++,o=1):o++;return[i,o]},e.prototype.size=function(){return this.end-this.begin},e}(),_r=function(e){s(t,e);function t(i,o,l,f,d,g,y,v){var b=e.call(this,i,l,f,d,v)||this;b.trimLeft=!1,b.trimRight=!1,b.content=b.getText();var O=o[0]==="-",N=gr(o)==="-";return b.content=o.slice(O?1:0,N?-1:o.length).trim(),b.trimLeft=O||g,b.trimRight=N||y,b}return t}(le);function np(e,t){for(var i=!1,o=0;o<e.length;o++){var l=e[o];!ci(l)||(!i&&l.trimLeft&&ip(e[o-1],t.greedy),Ot(l)&&(l.name==="raw"?i=!0:l.name==="endraw"&&(i=!1)),!i&&l.trimRight&&sp(e[o+1],t.greedy))}}function ip(e,t){if(!(!e||!St(e)))for(var i=t?bt:Qn;B[e.input.charCodeAt(e.end-1-e.trimRight)]&i;)e.trimRight++}function sp(e,t){if(!(!e||!St(e))){for(var i=t?bt:Qn;B[e.input.charCodeAt(e.begin+e.trimLeft)]&i;)e.trimLeft++;e.input.charAt(e.begin+e.trimLeft)===`
`&&e.trimLeft++}}var op=function(e){s(t,e);function t(i,o){var l=e.call(this,r.TokenKind.Number,i.input,i.begin,o?o.end:i.end,i.file)||this;return l.whole=i,l.decimal=o,l}return t}(le),xt=function(e){s(t,e);function t(i,o,l,f){var d=e.call(this,r.TokenKind.Word,i,o,l,f)||this;return d.input=i,d.begin=o,d.end=l,d.file=f,d.content=d.getText(),d}return t.prototype.isNumber=function(i){i===void 0&&(i=!1);for(var o=i&&B[this.input.charCodeAt(this.begin)]&Ff?this.begin+1:this.begin,l=o;l<this.end;l++)if(!(B[this.input.charCodeAt(l)]&Ef))return!1;return!0},t}(le),up=function(e){s(t,e);function t(i,o,l,f){var d=e.call(this,r.TokenKind.Literal,i,o,l,f)||this;return d.input=i,d.begin=o,d.end=l,d.file=f,d.literal=d.getText(),d}return t}(le),Si={"==":1,"!=":1,">":1,"<":1,">=":1,"<=":1,contains:1,and:0,or:0},ap=function(e){s(t,e);function t(i,o,l,f){var d=e.call(this,r.TokenKind.Operator,i,o,l,f)||this;return d.input=i,d.begin=o,d.end=l,d.file=f,d.operator=d.getText(),d}return t.prototype.getPrecedence=function(){var i=this.getText();return i in Si?Si[i]:1},t}(le),Oi=function(e){s(t,e);function t(i,o,l){var f=e.call(this,r.TokenKind.PropertyAccess,i.input,i.begin,l,i.file)||this;return f.variable=i,f.props=o,f.propertyName=f.variable instanceof xt?f.variable.getText():Ti(f.variable.getText()),f}return t}(le),cp=function(e){s(t,e);function t(i,o,l,f,d,g){var y=e.call(this,r.TokenKind.Filter,l,f,d,g)||this;return y.name=i,y.args=o,y}return t}(le),lp=function(e){s(t,e);function t(i,o,l,f,d,g){var y=e.call(this,r.TokenKind.Hash,i,o,l,g)||this;return y.input=i,y.begin=o,y.end=l,y.name=f,y.value=d,y.file=g,y}return t}(le),fp=function(e){s(t,e);function t(i,o,l,f){var d=e.call(this,r.TokenKind.Quoted,i,o,l,f)||this;return d.input=i,d.begin=o,d.end=l,d.file=f,d}return t}(le),ki=function(e){s(t,e);function t(i,o,l,f){var d=e.call(this,r.TokenKind.HTML,i,o,l,f)||this;return d.input=i,d.begin=o,d.end=l,d.file=f,d.trimLeft=0,d.trimRight=0,d}return t.prototype.getContent=function(){return this.input.slice(this.begin+this.trimLeft,this.end-this.trimRight)},t}(le),hp=function(e){s(t,e);function t(i,o,l,f,d,g){var y=e.call(this,r.TokenKind.Range,i,o,l,g)||this;return y.input=i,y.begin=o,y.end=l,y.lhs=f,y.rhs=d,y.file=g,y}return t}(le),pp=function(e){s(t,e);function t(i,o,l,f,d){var g=this,y=f.trimOutputLeft,v=f.trimOutputRight,b=f.outputDelimiterLeft,O=f.outputDelimiterRight,N=i.slice(o+b.length,l-O.length);return g=e.call(this,r.TokenKind.Output,N,i,o,l,y,v,d)||this,g}return t}(_r);function dp(e,t,i,o){o===void 0&&(o=e.length);for(var l=i,f=t,d;l[e[f]]&&f<o;)l=l[e[f++]],l.end&&(d=l);return!d||d.needBoundary&&B[e.charCodeAt(f)]&Tr?-1:f}var mp=function(e){s(t,e);function t(i,o,l,f,d){var g=this,y=i.slice(o,l);if(g=e.call(this,r.TokenKind.Tag,y,i,o,l,!1,!1,d)||this,!/\S/.test(y))g.name="",g.args="";else{var v=new X(g.content,f.operatorsTrie);if(g.name=v.readTagName(),!g.name)throw new Nt("illegal liquid tag syntax",g);v.skipBlank(),g.args=v.remaining()}return g}return t}(_r),X=function(){function e(t,i,o){i===void 0&&(i=ke.operatorsTrie),o===void 0&&(o=""),this.input=t,this.trie=i,this.file=o,this.p=0,this.rawBeginAt=-1,this.N=t.length}return e.prototype.readExpression=function(){return new Ni(this.readExpressionTokens())},e.prototype.readExpressionTokens=function(){var t,i,o;return c(this,function(l){switch(l.label){case 0:return t=this.readValue(),t?[4,t]:[2];case 1:l.sent(),l.label=2;case 2:return this.p<this.N?(i=this.readOperator(),i?(o=this.readValue(),o?[4,i]:[2]):[2]):[3,5];case 3:return l.sent(),[4,o];case 4:return l.sent(),[3,2];case 5:return[2]}})},e.prototype.readOperator=function(){this.skipBlank();var t=dp(this.input,this.p,this.trie);if(t!==-1)return new ap(this.input,this.p,this.p=t,this.file)},e.prototype.readFilters=function(){for(var t=[];;){var i=this.readFilter();if(!i)return t;t.push(i)}},e.prototype.readFilter=function(){var t=this;if(this.skipBlank(),this.end())return null;W(this.peek()==="|",function(){return"unexpected token at ".concat(t.snapshot())}),this.p++;var i=this.p,o=this.readIdentifier();if(!o.size())return null;var l=[];if(this.skipBlank(),this.peek()===":")do{++this.p;var f=this.readFilterArg();f&&l.push(f),this.skipBlank(),W(this.end()||this.peek()===","||this.peek()==="|",function(){return"unexpected character ".concat(t.snapshot())})}while(this.peek()===",");return new cp(o.getText(),l,this.input,i,this.p,this.file)},e.prototype.readFilterArg=function(){var t=this.readValue();if(!!t){if(this.skipBlank(),this.peek()!==":")return t;++this.p;var i=this.readValue();return[t.getText(),i]}},e.prototype.readTopLevelTokens=function(t){t===void 0&&(t=ke);for(var i=[];this.p<this.N;){var o=this.readTopLevelToken(t);i.push(o)}return np(i,t),i},e.prototype.readTopLevelToken=function(t){var i=t.tagDelimiterLeft,o=t.outputDelimiterLeft;return this.rawBeginAt>-1?this.readEndrawOrRawContent(t):this.match(i)?this.readTagToken(t):this.match(o)?this.readOutputToken(t):this.readHTMLToken([i,o])},e.prototype.readHTMLToken=function(t){for(var i=this,o=this.p;this.p<this.N&&!t.some(function(l){return i.match(l)});)++this.p;return new ki(this.input,o,this.p,this.file)},e.prototype.readTagToken=function(t){t===void 0&&(t=ke);var i=this,o=i.file,l=i.input,f=this.p;if(this.readToDelimiter(t.tagDelimiterRight)===-1)throw this.mkError("tag ".concat(this.snapshot(f)," not closed"),f);var d=new Dr(l,f,this.p,t,o);return d.name==="raw"&&(this.rawBeginAt=f),d},e.prototype.readToDelimiter=function(t){for(;this.p<this.N;){if(this.peekType()&Gn){this.readQuoted();continue}if(++this.p,this.rmatch(t))return this.p}return-1},e.prototype.readOutputToken=function(t){t===void 0&&(t=ke);var i=this,o=i.file,l=i.input,f=t.outputDelimiterRight,d=this.p;if(this.readToDelimiter(f)===-1)throw this.mkError("output ".concat(this.snapshot(d)," not closed"),d);return new pp(l,d,this.p,t,o)},e.prototype.readEndrawOrRawContent=function(t){for(var i=t.tagDelimiterLeft,o=t.tagDelimiterRight,l=this.p,f=this.readTo(i)-i.length;this.p<this.N;){if(this.readIdentifier().getText()!=="endraw"){f=this.readTo(i)-i.length;continue}for(;this.p<=this.N;){if(this.rmatch(o)){var d=this.p;return l===f?(this.rawBeginAt=-1,new Dr(this.input,l,d,t,this.file)):(this.p=f,new ki(this.input,l,f,this.file))}if(this.rmatch(i))break;this.p++}}throw this.mkError("raw ".concat(this.snapshot(this.rawBeginAt)," not closed"),l)},e.prototype.readLiquidTagTokens=function(t){t===void 0&&(t=ke);for(var i=[];this.p<this.N;){var o=this.readLiquidTagToken(t);o.name&&i.push(o)}return i},e.prototype.readLiquidTagToken=function(t){var i=this,o=i.file,l=i.input,f=this.p,d=this.N;return this.readToDelimiter(`
`)!==-1&&(d=this.p),new mp(l,f,d,t,o)},e.prototype.mkError=function(t,i){return new Nt(t,new xt(this.input,i,this.N,this.file))},e.prototype.snapshot=function(t){return t===void 0&&(t=this.p),JSON.stringify(qf(this.input.slice(t),16))},e.prototype.readWord=function(){return console.warn("Tokenizer#readWord() will be removed, use #readIdentifier instead"),this.readIdentifier()},e.prototype.readIdentifier=function(){this.skipBlank();for(var t=this.p;this.peekType()&Tr;)++this.p;return new xt(this.input,t,this.p,this.file)},e.prototype.readTagName=function(){return this.skipBlank(),this.input[this.p]==="#"?this.input.slice(this.p,++this.p):this.readIdentifier().getText()},e.prototype.readHashes=function(t){for(var i=[];;){var o=this.readHash(t);if(!o)return i;i.push(o)}},e.prototype.readHash=function(t){this.skipBlank(),this.peek()===","&&++this.p;var i=this.p,o=this.readIdentifier();if(!!o.size()){var l;this.skipBlank();var f=t?"=":":";return this.peek()===f&&(++this.p,l=this.readValue()),new lp(this.input,i,this.p,o,l,this.file)}},e.prototype.remaining=function(){return this.input.slice(this.p)},e.prototype.advance=function(t){t===void 0&&(t=1),this.p+=t},e.prototype.end=function(){return this.p>=this.N},e.prototype.readTo=function(t){for(;this.p<this.N;)if(++this.p,this.rmatch(t))return this.p;return-1},e.prototype.readValue=function(){var t=this.readQuoted()||this.readRange();if(t)return t;if(this.peek()==="["){this.p++;var i=this.readQuoted();return!i||this.peek()!=="]"?void 0:(this.p++,new Oi(i,[],this.p))}var o=this.readIdentifier();if(!!o.size()){for(var l=o.isNumber(!0),f=[];;)if(this.peek()==="["){l=!1,this.p++;var i=this.readValue()||new xt(this.input,this.p,this.p,this.file);this.readTo("]"),f.push(i)}else if(this.peek()==="."&&this.peek(1)!=="."){this.p++;var i=this.readIdentifier();if(!i.size())break;i.isNumber()||(l=!1),f.push(i)}else break;return!f.length&&vi.hasOwnProperty(o.content)?new up(this.input,o.begin,o.end,this.file):l?new op(o,f[0]):new Oi(o,f,this.p)}},e.prototype.readRange=function(){this.skipBlank();var t=this.p;if(this.peek()==="("){++this.p;var i=this.readValueOrThrow();this.p+=2;var o=this.readValueOrThrow();return++this.p,new hp(this.input,t,this.p,i,o,this.file)}},e.prototype.readValueOrThrow=function(){var t=this,i=this.readValue();return W(i,function(){return"unexpected token ".concat(t.snapshot(),", value expected")}),i},e.prototype.readQuoted=function(){this.skipBlank();var t=this.p;if(!!(this.peekType()&Gn)){++this.p;for(var i=!1;this.p<this.N&&(++this.p,!(this.input[this.p-1]===this.input[t]&&!i));)i?i=!1:this.input[this.p-1]==="\\"&&(i=!0);return new fp(this.input,t,this.p,this.file)}},e.prototype.readFileNameTemplate=function(t){var i,o,l;return c(this,function(f){switch(f.label){case 0:i=t.outputDelimiterLeft,o=[","," ",i],l=new Set(o),f.label=1;case 1:return this.p<this.N&&!l.has(this.peek())?[4,this.match(i)?this.readOutputToken(t):this.readHTMLToken(o)]:[3,3];case 2:return f.sent(),[3,1];case 3:return[2]}})},e.prototype.match=function(t){for(var i=0;i<t.length;i++)if(t[i]!==this.input[this.p+i])return!1;return!0},e.prototype.rmatch=function(t){for(var i=0;i<t.length;i++)if(t[t.length-1-i]!==this.input[this.p-1-i])return!1;return!0},e.prototype.peekType=function(t){return t===void 0&&(t=0),B[this.input.charCodeAt(this.p+t)]},e.prototype.peek=function(t){return t===void 0&&(t=0),this.input[this.p+t]},e.prototype.skipBlank=function(){for(;this.peekType()&bt;)++this.p},e}(),Dr=function(e){s(t,e);function t(i,o,l,f,d){var g=this,y=f.trimTagLeft,v=f.trimTagRight,b=f.tagDelimiterLeft,O=f.tagDelimiterRight,N=i.slice(o+b.length,l-O.length);g=e.call(this,r.TokenKind.Tag,N,i,o,l,y,v,d)||this;var S=new X(g.content,f.operatorsTrie);if(g.name=S.readTagName(),!g.name)throw new Nt("illegal tag syntax",g);return S.skipBlank(),g.args=S.remaining(),g}return t}(_r),xi=function(){function e(t,i){this.handlers={},this.stopRequested=!1,this.tokens=t,this.parseToken=i}return e.prototype.on=function(t,i){return this.handlers[t]=i,this},e.prototype.trigger=function(t,i){var o=this.handlers[t];return o?(o.call(this,i),!0):!1},e.prototype.start=function(){this.trigger("start");for(var t;!this.stopRequested&&(t=this.tokens.shift());)if(!this.trigger("token",t)&&!(Ot(t)&&this.trigger("tag:".concat(t.name),t))){var i=this.parseToken(t,this.tokens);this.trigger("template",i)}return this.stopRequested||this.trigger("end"),this},e.prototype.stop=function(){return this.stopRequested=!0,this},e}(),je=function(){function e(t,i){var o,l;this.hash={};var f=new X(t,{});try{for(var d=h(f.readHashes(i)),g=d.next();!g.done;g=d.next()){var y=g.value;this.hash[y.name.content]=y.value}}catch(v){o={error:v}}finally{try{g&&!g.done&&(l=d.return)&&l.call(d)}finally{if(o)throw o.error}}}return e.prototype.render=function(t){var i,o,l,f,d,g,y,v,b,O;return c(this,function(N){switch(N.label){case 0:i={},N.label=1;case 1:N.trys.push([1,8,9,10]),o=h(Object.keys(this.hash)),l=o.next(),N.label=2;case 2:return l.done?[3,7]:(f=l.value,d=i,g=f,this.hash[f]!==void 0?[3,3]:(y=!0,[3,5]));case 3:return[4,Q(this.hash[f],t)];case 4:y=N.sent(),N.label=5;case 5:d[g]=y,N.label=6;case 6:return l=o.next(),[3,2];case 7:return[3,10];case 8:return v=N.sent(),b={error:v},[3,10];case 9:try{l&&!l.done&&(O=o.return)&&O.call(o)}finally{if(b)throw b.error}return[7];case 10:return[2,i]}})},e}();function gp(e){return ie(e)}var Ar=function(){function e(t,i,o,l){this.name=t,this.impl=i||Hn,this.args=o,this.liquid=l}return e.prototype.render=function(t,i){var o,l,f,d,g,y,v,b,O,N,S,P;return c(this,function(A){switch(A.label){case 0:o=[],A.label=1;case 1:A.trys.push([1,8,9,10]),l=h(this.args),f=l.next(),A.label=2;case 2:return f.done?[3,7]:(d=f.value,gp(d)?(y=(g=o).push,v=[d[0]],[4,Q(d[1],i)]):[3,4]);case 3:return y.apply(g,[v.concat([A.sent()])]),[3,6];case 4:return O=(b=o).push,[4,Q(d,i)];case 5:O.apply(b,[A.sent()]),A.label=6;case 6:return f=l.next(),[3,2];case 7:return[3,10];case 8:return N=A.sent(),S={error:N},[3,10];case 9:try{f&&!f.done&&(P=l.return)&&P.call(l)}finally{if(S)throw S.error}return[7];case 10:return[2,this.impl.apply({context:i,liquid:this.liquid},m([t],p(o),!1))]}})},e}(),me=function(){function e(t,i){this.filters=[];var o=new X(t,i.options.operatorsTrie);this.initial=o.readExpression(),this.filters=o.readFilters().map(function(l){var f=l.name,d=l.args;return new Ar(f,i.filters.get(f),d,i)})}return e.prototype.value=function(t,i){var o,l,f,d,g,y,v;return c(this,function(b){switch(b.label){case 0:return i=i||t.opts.lenientIf&&this.filters.length>0&&this.filters[0].name==="default",[4,this.initial.evaluate(t,i)];case 1:o=b.sent(),b.label=2;case 2:b.trys.push([2,7,8,9]),l=h(this.filters),f=l.next(),b.label=3;case 3:return f.done?[3,6]:(d=f.value,[4,d.render(o,t)]);case 4:o=b.sent(),b.label=5;case 5:return f=l.next(),[3,3];case 6:return[3,9];case 7:return g=b.sent(),y={error:g},[3,9];case 8:try{f&&!f.done&&(v=l.return)&&v.call(l)}finally{if(y)throw y.error}return[7];case 9:return[2,o]}})},e}(),yp={parse:function(e){var t=new X(e.args,this.liquid.options.operatorsTrie);this.key=t.readIdentifier().content,t.skipBlank(),W(t.peek()==="=",function(){return"illegal token ".concat(e.getText())}),t.advance(),this.value=new me(t.remaining(),this.liquid)},render:function(e){var t,i;return c(this,function(o){switch(o.label){case 0:return t=e.bottom(),i=this.key,[4,this.value.value(e,this.liquid.options.lenientIf)];case 1:return t[i]=o.sent(),[2]}})}},Mr=function(e){s(t,e);function t(i,o,l){var f=e.call(this)||this;return f.i=0,f.length=i,f.name="".concat(l,"-").concat(o),f}return t.prototype.next=function(){this.i++},t.prototype.index0=function(){return this.i},t.prototype.index=function(){return this.i+1},t.prototype.first=function(){return this.i===0},t.prototype.last=function(){return this.i===this.length-1},t.prototype.rindex=function(){return this.length-this.i},t.prototype.rindex0=function(){return this.length-this.i-1},t.prototype.valueOf=function(){return JSON.stringify(this)},t}(q),Ei=["offset","limit","reversed"],vp={type:"block",parse:function(e,t){var i=this,o=new X(e.args,this.liquid.options.operatorsTrie),l=o.readIdentifier(),f=o.readIdentifier(),d=o.readValue();W(l.size()&&f.content==="in"&&d,function(){return"illegal tag: ".concat(e.getText())}),this.variable=l.content,this.collection=d,this.hash=new je(o.remaining()),this.templates=[],this.elseTemplates=[];var g,y=this.liquid.parser.parseStream(t).on("start",function(){return g=i.templates}).on("tag:else",function(){return g=i.elseTemplates}).on("tag:endfor",function(){return y.stop()}).on("template",function(v){return g.push(v)}).on("end",function(){throw new Error("tag ".concat(e.getText()," not closed"))});y.start()},render:function(e,t){var i,o,l,f,d,g,y,v,b,O,N,S,P;return c(this,function(A){switch(A.label){case 0:return i=this.liquid.renderer,l=Sr,[4,Q(this.collection,e)];case 1:return o=l.apply(void 0,[A.sent()]),o.length?[3,3]:[4,i.renderTemplates(this.elseTemplates,e,t)];case 2:return A.sent(),[2];case 3:return f="continue-"+this.variable+"-"+this.collection.getText(),e.push({continue:e.getRegister(f)}),[4,this.hash.render(e)];case 4:d=A.sent(),e.pop(),g=this.liquid.options.orderedFilterParameters?Object.keys(d).filter(function(U){return Ei.includes(U)}):Ei.filter(function(U){return d[U]!==void 0}),o=g.reduce(function(U,K){return K==="offset"?wp(U,d.offset):K==="limit"?bp(U,d.limit):qp(U)},o),e.setRegister(f,(d.offset||0)+o.length),y={forloop:new Mr(o.length,this.collection.getText(),this.variable)},e.push(y),A.label=5;case 5:A.trys.push([5,10,11,12]),v=h(o),b=v.next(),A.label=6;case 6:return b.done?[3,9]:(O=b.value,y[this.variable]=O,[4,i.renderTemplates(this.templates,e,t)]);case 7:if(A.sent(),t.break)return t.break=!1,[3,9];t.continue=!1,y.forloop.next(),A.label=8;case 8:return b=v.next(),[3,6];case 9:return[3,12];case 10:return N=A.sent(),S={error:N},[3,12];case 11:try{b&&!b.done&&(P=v.return)&&P.call(v)}finally{if(S)throw S.error}return[7];case 12:return e.pop(),[2]}})}};function qp(e){return m([],p(e),!1).reverse()}function wp(e,t){return e.slice(t)}function bp(e,t){return e.slice(0,t)}var Tp={parse:function(e,t){var i=this,o=new X(e.args,this.liquid.options.operatorsTrie);this.variable=Np(o),W(this.variable,function(){return"".concat(e.args," not valid identifier")}),this.templates=[];var l=this.liquid.parser.parseStream(t);l.on("tag:endcapture",function(){return l.stop()}).on("template",function(f){return i.templates.push(f)}).on("end",function(){throw new Error("tag ".concat(e.getText()," not closed"))}),l.start()},render:function(e){var t,i;return c(this,function(o){switch(o.label){case 0:return t=this.liquid.renderer,[4,t.renderTemplates(this.templates,e)];case 1:return i=o.sent(),e.bottom()[this.variable]=i,[2]}})}};function Np(e){var t=e.readIdentifier().content;if(t)return t;var i=e.readQuoted();if(i)return kt(i)}var Sp={parse:function(e,t){var i=this;this.cond=new me(e.args,this.liquid),this.cases=[],this.elseTemplates=[];var o=[],l=this.liquid.parser.parseStream(t).on("tag:when",function(f){o=[];for(var d=new X(f.args,i.liquid.options.operatorsTrie);!d.end();){var g=d.readValue();i.cases.push({val:g,templates:o}),d.readTo(",")}}).on("tag:else",function(){return o=i.elseTemplates}).on("tag:endcase",function(){return l.stop()}).on("template",function(f){return o.push(f)}).on("end",function(){throw new Error("tag ".concat(e.getText()," not closed"))});l.start()},render:function(e,t){var i,o,l,f,d,g,y,v,b,O;return c(this,function(N){switch(N.label){case 0:return i=this.liquid.renderer,l=M,[4,this.cond.value(e,e.opts.lenientIf)];case 1:o=l.apply(void 0,[N.sent()]),N.label=2;case 2:N.trys.push([2,8,9,10]),f=h(this.cases),d=f.next(),N.label=3;case 3:return d.done?[3,7]:(g=d.value,[4,Q(g.val,e,e.opts.lenientIf)]);case 4:return y=N.sent(),y!==o?[3,6]:[4,i.renderTemplates(g.templates,e,t)];case 5:return N.sent(),[2];case 6:return d=f.next(),[3,3];case 7:return[3,10];case 8:return v=N.sent(),b={error:v},[3,10];case 9:try{d&&!d.done&&(O=f.return)&&O.call(f)}finally{if(b)throw b.error}return[7];case 10:return[4,i.renderTemplates(this.elseTemplates,e,t)];case 11:return N.sent(),[2]}})}},Op={parse:function(e,t){var i=this.liquid.parser.parseStream(t);i.on("token",function(o){o.name==="endcomment"&&i.stop()}).on("end",function(){throw new Error("tag ".concat(e.getText()," not closed"))}),i.start()}},Ir;(function(e){e[e.OUTPUT=0]="OUTPUT",e[e.STORE=1]="STORE"})(Ir||(Ir={}));var et=Ir,kp={parseFilePath:Lr,renderFilePath:Rr,parse:function(e){var t=e.args,i=new X(t,this.liquid.options.operatorsTrie);for(this.file=this.parseFilePath(i,this.liquid),this.currentFile=e.file;!i.end();){i.skipBlank();var o=i.p,l=i.readIdentifier();if((l.content==="with"||l.content==="for")&&(i.skipBlank(),i.peek()!==":")){var f=i.readValue();if(f){var d=i.p,g=i.readIdentifier(),y=void 0;g.content==="as"?y=i.readIdentifier():i.p=d,this[l.content]={value:f,alias:y&&y.content},i.skipBlank(),i.peek()===","&&i.advance();continue}}i.p=o;break}this.hash=new je(i.remaining())},render:function(e,t){var i,o,l,f,d,g,y,v,b,P,A,O,N,S,P,A,U,K,fe,xe,G,tt,G,Cr,Mi;return c(this,function(Z){switch(Z.label){case 0:return i=this,o=i.liquid,l=i.hash,[4,this.renderFilePath(this.file,e,o)];case 1:return f=Z.sent(),W(f,function(){return'illegal filename "'.concat(f,'"')}),d=new $e({},e.opts,{sync:e.sync,globals:e.globals,strictVariables:e.strictVariables}),g=d.bottom(),y=u,v=[g],[4,l.render(e)];case 2:return y.apply(void 0,v.concat([Z.sent()])),this.with?(b=this.with,P=b.value,A=b.alias,O=g,N=A||f,[4,Q(P,e)]):[3,4];case 3:O[N]=Z.sent(),Z.label=4;case 4:return this.for?(S=this.for,P=S.value,A=S.alias,[4,Q(P,e)]):[3,15];case 5:U=Z.sent(),U=Sr(U),g.forloop=new Mr(U.length,P.getText(),A),Z.label=6;case 6:Z.trys.push([6,12,13,14]),K=h(U),fe=K.next(),Z.label=7;case 7:return fe.done?[3,11]:(xe=fe.value,g[A]=xe,[4,o._parsePartialFile(f,d.sync,this.currentFile)]);case 8:return G=Z.sent(),[4,o.renderer.renderTemplates(G,d,t)];case 9:Z.sent(),g.forloop.next(),Z.label=10;case 10:return fe=K.next(),[3,7];case 11:return[3,14];case 12:return tt=Z.sent(),Cr={error:tt},[3,14];case 13:try{fe&&!fe.done&&(Mi=K.return)&&Mi.call(K)}finally{if(Cr)throw Cr.error}return[7];case 14:return[3,18];case 15:return[4,o._parsePartialFile(f,d.sync,this.currentFile)];case 16:return G=Z.sent(),[4,o.renderer.renderTemplates(G,d,t)];case 17:Z.sent(),Z.label=18;case 18:return[2]}})}};function Lr(e,t){if(t.options.dynamicPartials){var i=e.readValue();if(i===void 0)throw new TypeError('illegal argument "'.concat(e.input,'"'));if(i.getText()==="none")return null;if(Fr(i)){var o=t.parse(kt(i));return Fi(o)}return i}var l=m([],p(e.readFileNameTemplate(t.options)),!1),f=Fi(t.parser.parseTokens(l));return f==="none"?null:f}function Fi(e){return e.length===1&&St(e[0].token)?e[0].token.getContent():e}function Rr(e,t,i){return c(this,function(o){switch(o.label){case 0:return typeof e=="string"?[2,e]:Array.isArray(e)?[2,i.renderer.renderTemplates(e,t)]:[4,Q(e,t)];case 1:return[2,o.sent()]}})}var xp={parseFilePath:Lr,renderFilePath:Rr,parse:function(e){var t=e.args,i=new X(t,this.liquid.options.operatorsTrie);this.file=this.parseFilePath(i,this.liquid),this.currentFile=e.file;var o=i.p,l=i.readIdentifier();l.content==="with"?(i.skipBlank(),i.peek()!==":"?this.withVar=i.readValue():i.p=o):i.p=o,this.hash=new je(i.remaining(),this.liquid.options.jekyllInclude)},render:function(e,t){var i,o,l,f,d,g,y,v,b,O,N;return c(this,function(S){switch(S.label){case 0:return i=this,o=i.liquid,l=i.hash,f=i.withVar,d=o.renderer,[4,this.renderFilePath(this.file,e,o)];case 1:return g=S.sent(),W(g,function(){return'illegal filename "'.concat(g,'"')}),y=e.saveRegister("blocks","blockMode"),e.setRegister("blocks",{}),e.setRegister("blockMode",et.OUTPUT),[4,l.render(e)];case 2:return v=S.sent(),f?(b=v,O=g,[4,Q(f,e)]):[3,4];case 3:b[O]=S.sent(),S.label=4;case 4:return[4,o._parsePartialFile(g,e.sync,this.currentFile)];case 5:return N=S.sent(),e.push(e.opts.jekyllInclude?{include:v}:v),[4,d.renderTemplates(N,e,t)];case 6:return S.sent(),e.pop(),e.restoreRegister(y),[2]}})}},Ep={parse:function(e){var t=new X(e.args,this.liquid.options.operatorsTrie);this.variable=t.readIdentifier().content},render:function(e,t){var i=e.environments;ze(i[this.variable])||(i[this.variable]=0),t.write(_(--i[this.variable]))}},Fp={parse:function(e){var t=new X(e.args,this.liquid.options.operatorsTrie),i=t.readValue();for(t.skipBlank(),this.candidates=[],i&&(t.peek()===":"?(this.group=i,t.advance()):this.candidates.push(i));!t.end();){var o=t.readValue();o&&this.candidates.push(o),t.readTo(",")}W(this.candidates.length,function(){return"empty candidates: ".concat(e.getText())})},render:function(e,t){var i,o,l,f,d,g;return c(this,function(y){switch(y.label){case 0:return[4,Q(this.group,e)];case 1:return i=y.sent(),o="cycle:".concat(i,":")+this.candidates.join(","),l=e.getRegister("cycle"),f=l[o],f===void 0&&(f=l[o]=0),d=this.candidates[f],f=(f+1)%this.candidates.length,l[o]=f,[4,Q(d,e)];case 2:return g=y.sent(),t.write(g),[2]}})}},_p={parse:function(e,t){var i=this;this.branches=[],this.elseTemplates=[];var o;this.liquid.parser.parseStream(t).on("start",function(){return i.branches.push({predicate:new me(e.args,i.liquid),templates:o=[]})}).on("tag:elsif",function(l){return i.branches.push({predicate:new me(l.args,i.liquid),templates:o=[]})}).on("tag:else",function(){return o=i.elseTemplates}).on("tag:endif",function(){this.stop()}).on("template",function(l){return o.push(l)}).on("end",function(){throw new Error("tag ".concat(e.getText()," not closed"))}).start()},render:function(e,t){var i,o,l,f,d,g,y,v,b,O;return c(this,function(N){switch(N.label){case 0:i=this.liquid.renderer,N.label=1;case 1:N.trys.push([1,7,8,9]),o=h(this.branches),l=o.next(),N.label=2;case 2:return l.done?[3,6]:(f=l.value,d=f.predicate,g=f.templates,[4,d.value(e,e.opts.lenientIf)]);case 3:return y=N.sent(),Oe(y,e)?[4,i.renderTemplates(g,e,t)]:[3,5];case 4:return N.sent(),[2];case 5:return l=o.next(),[3,2];case 6:return[3,9];case 7:return v=N.sent(),b={error:v},[3,9];case 8:try{l&&!l.done&&(O=o.return)&&O.call(o)}finally{if(b)throw b.error}return[7];case 9:return[4,i.renderTemplates(this.elseTemplates,e,t)];case 10:return N.sent(),[2]}})}},Dp={parse:function(e){var t=new X(e.args,this.liquid.options.operatorsTrie);this.variable=t.readIdentifier().content},render:function(e,t){var i=e.environments;ze(i[this.variable])||(i[this.variable]=0);var o=i[this.variable];i[this.variable]++,t.write(_(o))}},Ap={parseFilePath:Lr,renderFilePath:Rr,parse:function(e,t){var i=new X(e.args,this.liquid.options.operatorsTrie);this.file=this.parseFilePath(i,this.liquid),this.currentFile=e.file,this.hash=new je(i.remaining()),this.tpls=this.liquid.parser.parseTokens(t)},render:function(e,t){var i,o,l,f,d,g,y,v,b,O,N;return c(this,function(S){switch(S.label){case 0:return i=this,o=i.liquid,l=i.hash,f=i.file,d=o.renderer,f!==null?[3,2]:(e.setRegister("blockMode",et.OUTPUT),[4,d.renderTemplates(this.tpls,e,t)]);case 1:return S.sent(),[2];case 2:return[4,this.renderFilePath(this.file,e,o)];case 3:return g=S.sent(),W(g,function(){return'illegal filename "'.concat(g,'"')}),[4,o._parseLayoutFile(g,e.sync,this.currentFile)];case 4:return y=S.sent(),e.setRegister("blockMode",et.STORE),[4,d.renderTemplates(this.tpls,e)];case 5:return v=S.sent(),b=e.getRegister("blocks"),b[""]===void 0&&(b[""]=function(P,A){return A.write(v)}),e.setRegister("blockMode",et.OUTPUT),N=(O=e).push,[4,l.render(e)];case 6:return N.apply(O,[S.sent()]),[4,d.renderTemplates(y,e,t)];case 7:return S.sent(),e.pop(),[2]}})}},_i=function(e){s(t,e);function t(i){i===void 0&&(i=function(){return""});var o=e.call(this)||this;return o.superBlockRender=i,o}return t.prototype.super=function(){return this.superBlockRender()},t}(q),Mp={parse:function(e,t){var i=this,o=/\w+/.exec(e.args);this.block=o?o[0]:"",this.tpls=[],this.liquid.parser.parseStream(t).on("tag:endblock",function(){this.stop()}).on("template",function(l){return i.tpls.push(l)}).on("end",function(){throw new Error("tag ".concat(e.getText()," not closed"))}).start()},render:function(e,t){var i;return c(this,function(o){switch(o.label){case 0:return i=this.getBlockRender(e),e.getRegister("blockMode")!==et.STORE?[3,1]:(e.getRegister("blocks")[this.block]=i,[3,3]);case 1:return[4,i(new _i,t)];case 2:o.sent(),o.label=3;case 3:return[2]}})},getBlockRender:function(e){var t=this,i=t.liquid,o=t.tpls,l=e.getRegister("blocks")[this.block],f=function(d,g){return c(this,function(y){switch(y.label){case 0:return e.push({block:d}),[4,i.renderer.renderTemplates(o,e,g)];case 1:return y.sent(),e.pop(),[2]}})};return l?function(d,g){return l(new _i(function(){return f(d,g)}),g)}:f}},Ip={parse:function(e,t){var i=this;this.tokens=[];var o=this.liquid.parser.parseStream(t);o.on("token",function(l){l.name==="endraw"?o.stop():i.tokens.push(l)}).on("end",function(){throw new Error("tag ".concat(e.getText()," not closed"))}),o.start()},render:function(){return this.tokens.map(function(e){return e.getText()}).join("")}},Lp=function(e){s(t,e);function t(i,o,l,f){var d=e.call(this,i,l,f)||this;return d.length=i,d.cols=o,d}return t.prototype.row=function(){return Math.floor(this.i/this.cols)+1},t.prototype.col0=function(){return this.i%this.cols},t.prototype.col=function(){return this.col0()+1},t.prototype.col_first=function(){return this.col0()===0},t.prototype.col_last=function(){return this.col()===this.cols},t}(Mr),Rp={parse:function(e,t){var i=this,o=new X(e.args,this.liquid.options.operatorsTrie),l=o.readIdentifier();o.skipBlank();var f=o.readIdentifier();W(f&&f.content==="in",function(){return"illegal tag: ".concat(e.getText())}),this.variable=l.content,this.collection=o.readValue(),this.hash=new je(o.remaining()),this.templates=[];var d,g=this.liquid.parser.parseStream(t).on("start",function(){return d=i.templates}).on("tag:endtablerow",function(){return g.stop()}).on("template",function(y){return d.push(y)}).on("end",function(){throw new Error("tag ".concat(e.getText()," not closed"))});g.start()},render:function(e,t){var i,o,l,f,d,g,y,v,b,O;return c(this,function(N){switch(N.label){case 0:return o=Sr,[4,Q(this.collection,e)];case 1:return i=o.apply(void 0,[N.sent()]),[4,this.hash.render(e)];case 2:l=N.sent(),f=l.offset||0,d=l.limit===void 0?i.length:l.limit,i=i.slice(f,f+d),g=l.cols||i.length,y=this.liquid.renderer,v=new Lp(i.length,g,this.collection.getText(),this.variable),b={tablerowloop:v},e.push(b),O=0,N.label=3;case 3:return O<i.length?(b[this.variable]=i[O],v.col0()===0&&(v.row()!==1&&t.write("</tr>"),t.write('<tr class="row'.concat(v.row(),'">'))),t.write('<td class="col'.concat(v.col(),'">')),[4,y.renderTemplates(this.templates,e,t)]):[3,6];case 4:N.sent(),t.write("</td>"),N.label=5;case 5:return O++,v.next(),[3,3];case 6:return i.length&&t.write("</tr>"),e.pop(),[2]}})}},Pp={parse:function(e,t){var i=this;this.branches=[],this.elseTemplates=[];var o;this.liquid.parser.parseStream(t).on("start",function(){return i.branches.push({predicate:new me(e.args,i.liquid),test:wt,templates:o=[]})}).on("tag:elsif",function(l){return i.branches.push({predicate:new me(l.args,i.liquid),test:Oe,templates:o=[]})}).on("tag:else",function(){return o=i.elseTemplates}).on("tag:endunless",function(){this.stop()}).on("template",function(l){return o.push(l)}).on("end",function(){throw new Error("tag ".concat(e.getText()," not closed"))}).start()},render:function(e,t){var i,o,l,f,d,g,y,v,b,O,N;return c(this,function(S){switch(S.label){case 0:i=this.liquid.renderer,S.label=1;case 1:S.trys.push([1,7,8,9]),o=h(this.branches),l=o.next(),S.label=2;case 2:return l.done?[3,6]:(f=l.value,d=f.predicate,g=f.test,y=f.templates,[4,d.value(e,e.opts.lenientIf)]);case 3:return v=S.sent(),g(v,e)?[4,i.renderTemplates(y,e,t)]:[3,5];case 4:return S.sent(),[2];case 5:return l=o.next(),[3,2];case 6:return[3,9];case 7:return b=S.sent(),O={error:b},[3,9];case 8:try{l&&!l.done&&(N=o.return)&&N.call(o)}finally{if(O)throw O.error}return[7];case 9:return[4,i.renderTemplates(this.elseTemplates,e,t)];case 10:return S.sent(),[2]}})}},Cp={render:function(e,t){t.break=!0}},zp={render:function(e,t){t.continue=!0}},jp={parse:function(e){this.value=new me(e.args,this.liquid)},render:function(e,t){var i;return c(this,function(o){switch(o.label){case 0:return[4,this.value.value(e,!1)];case 1:return i=o.sent(),t.write(i),[2]}})}},Vp={parse:function(e){var t=new X(e.args,this.liquid.options.operatorsTrie),i=t.readLiquidTagTokens(this.liquid.options);this.tpls=this.liquid.parser.parseTokens(i)},render:function(e,t){return c(this,function(i){switch(i.label){case 0:return[4,this.liquid.renderer.renderTemplates(this.tpls,e,t)];case 1:return i.sent(),[2]}})}},Bp={parse:function(e,t){if(e.args.search(/\n\s*[^#\s]/g)!==-1)throw new Error("every line of an inline comment must start with a '#' character")}},Di={assign:yp,for:vp,capture:Tp,case:Sp,comment:Op,include:xp,render:kp,decrement:Ep,increment:Dp,cycle:Fp,if:_p,layout:Ap,block:Mp,raw:Ip,tablerow:Rp,unless:Pp,break:Cp,continue:zp,echo:jp,liquid:Vp,"#":Bp},Up=Object.freeze({__proto__:null,default:Di}),Ai=new Map;mr(xr,function(e,t){Ai.set(vr(t),e)});var ke={root:["."],layouts:["."],partials:["."],relativeReference:!0,jekyllInclude:!1,cache:void 0,extname:"",fs:xf,dynamicPartials:!0,jsTruthy:!1,trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",preserveTimezones:!1,strictFilters:!1,strictVariables:!1,ownPropertyOnly:!1,lenientIf:!1,globals:{},keepOutputType:!1,operators:br,operatorsTrie:Nr(br)};function Jp(e){if(e.hasOwnProperty("operators")&&(e.operatorsTrie=Nr(e.operators)),e.hasOwnProperty("root")&&(e.hasOwnProperty("partials")||(e.partials=e.root),e.hasOwnProperty("layouts")||(e.layouts=e.root)),e.hasOwnProperty("cache")){var t=void 0;typeof e.cache=="number"?t=e.cache>0?new Wn(e.cache):void 0:typeof e.cache=="object"?t=e.cache:t=e.cache?new Wn(1024):void 0,e.cache=t}return e=u(u(u({},ke),e.jekyllInclude?{dynamicPartials:!1}:{}),e),!e.fs.dirname&&e.relativeReference&&(console.warn("[LiquidJS] `fs.dirname` is required for relativeReference, set relativeReference to `false` to suppress this warning, or provide implementation for `fs.dirname`"),e.relativeReference=!1),e.root=Et(e.root),e.partials=Et(e.partials),e.layouts=Et(e.layouts),e.outputEscape=e.outputEscape&&$p(e.outputEscape),e}function $p(e){if(L(e)){var t=Ai.get(e);return W(z(t),'filter "'.concat(e,'" not found')),t}else return W(z(e),"`outputEscape` need to be of type string or function"),e}function Et(e){var t=[];return ie(e)&&(t=e),L(e)&&(t=[e]),t}var $e=function(){function e(t,i,o){t===void 0&&(t={}),i===void 0&&(i=ke),o===void 0&&(o={});var l,f;this.scopes=[{}],this.registers={},this.sync=!!o.sync,this.opts=i,this.globals=(l=o.globals)!==null&&l!==void 0?l:i.globals,this.environments=t,this.strictVariables=(f=o.strictVariables)!==null&&f!==void 0?f:this.opts.strictVariables}return e.prototype.getRegister=function(t){return this.registers[t]=this.registers[t]||{}},e.prototype.setRegister=function(t,i){return this.registers[t]=i},e.prototype.saveRegister=function(){for(var t=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return i.map(function(l){return[l,t.getRegister(l)]})},e.prototype.restoreRegister=function(t){var i=this;return t.forEach(function(o){var l=p(o,2),f=l[0],d=l[1];return i.setRegister(f,d)})},e.prototype.getAll=function(){return m([this.globals,this.environments],p(this.scopes),!1).reduce(function(t,i){return u(t,i)},{})},e.prototype.get=function(t){return Te(this._get(t))},e.prototype._get=function(t){var i;return c(this,function(o){switch(o.label){case 0:return i=this.findScope(t[0]),[4,this._getFromScope(i,t)];case 1:return[2,o.sent()]}})},e.prototype.getFromScope=function(t,i){return Te(this._getFromScope(t,i))},e.prototype._getFromScope=function(t,i){var o;return c(this,function(l){switch(l.label){case 0:L(i)&&(i=i.split(".")),o=0,l.label=1;case 1:return o<i.length?[4,Hp(t,i[o],this.opts.ownPropertyOnly)]:[3,4];case 2:if(t=l.sent(),Se(t)&&this.strictVariables)throw new ui(i.slice(0,o+1).join("."));l.label=3;case 3:return o++,[3,1];case 4:return[2,t]}})},e.prototype.push=function(t){return this.scopes.push(t)},e.prototype.pop=function(){return this.scopes.pop()},e.prototype.bottom=function(){return this.scopes[0]},e.prototype.findScope=function(t){for(var i=this.scopes.length-1;i>=0;i--){var o=this.scopes[i];if(t in o)return o}return t in this.environments?this.environments:this.globals},e}();function Hp(e,t,i){if(Se(e))return e;if(e=Un(e),ie(e)&&t<0)return e[e.length+ +t];var o=Yp(e,t,i);return o===void 0&&e instanceof q?e.liquidMethodMissing(t):z(o)?o.call(e):t==="size"?Gp(e):t==="first"?Wp(e):t==="last"?Kp(e):o}function Yp(e,t,i){if(!(i&&!Object.hasOwnProperty.call(e,t)))return e[t]}function Wp(e){return ie(e)?e[0]:e.first}function Kp(e){return ie(e)?e[e.length-1]:e.last}function Gp(e){if(e.hasOwnProperty("size")||e.size!==void 0)return e.size;if(ie(e)||L(e))return e.length;if(typeof e=="object")return Object.keys(e).length}var Ve;(function(e){e.Partials="partials",e.Layouts="layouts",e.Root="root"})(Ve||(Ve={}));var Qp=function(){function e(t){if(this.options=t,t.relativeReference){var i=t.fs.sep;W(i,"`fs.sep` is required for relative reference");var o=new RegExp(["."+i,".."+i,"./","../"].map(function(l){return ue(l)}).join("|"));this.shouldLoadRelative=function(l){return o.test(l)}}else this.shouldLoadRelative=function(l){return!1};this.contains=this.options.fs.contains||function(){return!0}}return e.prototype.lookup=function(t,i,o,l){var f,d,g,y,v,b,O,N,S;return c(this,function(P){switch(P.label){case 0:f=this.options.fs,d=this.options[i],P.label=1;case 1:P.trys.push([1,8,9,10]),g=h(this.candidates(t,d,l,i!==Ve.Root)),y=g.next(),P.label=2;case 2:return y.done?[3,7]:(v=y.value,o?(b=f.existsSync(v),[3,5]):[3,3]);case 3:return[4,f.exists(v)];case 4:b=P.sent(),P.label=5;case 5:if(b)return[2,v];P.label=6;case 6:return y=g.next(),[3,2];case 7:return[3,10];case 8:return O=P.sent(),N={error:O},[3,10];case 9:try{y&&!y.done&&(S=g.return)&&S.call(g)}finally{if(N)throw N.error}return[7];case 10:throw this.lookupError(t,d)}})},e.prototype.candidates=function(t,i,o,l){var f,d,g,P,y,v,S,b,O,N,S,P,A,U,K,fe,xe,tt;return c(this,function(G){switch(G.label){case 0:if(f=this.options,d=f.fs,g=f.extname,!(this.shouldLoadRelative(t)&&o))return[3,8];P=d.resolve(this.dirname(o),t,g),G.label=1;case 1:G.trys.push([1,6,7,8]),y=h(i),v=y.next(),G.label=2;case 2:return v.done?[3,5]:(S=v.value,!l||this.contains(S,P)?[4,P]:[3,4]);case 3:return G.sent(),[3,5];case 4:return v=y.next(),[3,2];case 5:return[3,8];case 6:return b=G.sent(),K={error:b},[3,8];case 7:try{v&&!v.done&&(fe=y.return)&&fe.call(y)}finally{if(K)throw K.error}return[7];case 8:G.trys.push([8,13,14,15]),O=h(i),N=O.next(),G.label=9;case 9:return N.done?[3,12]:(S=N.value,P=d.resolve(S,t,g),!l||this.contains(S,P)?[4,P]:[3,11]);case 10:G.sent(),G.label=11;case 11:return N=O.next(),[3,9];case 12:return[3,15];case 13:return A=G.sent(),xe={error:A},[3,15];case 14:try{N&&!N.done&&(tt=O.return)&&tt.call(O)}finally{if(xe)throw xe.error}return[7];case 15:return d.fallback===void 0?[3,17]:(U=d.fallback(t),U===void 0?[3,17]:[4,U]);case 16:G.sent(),G.label=17;case 17:return[2]}})},e.prototype.dirname=function(t){var i=this.options.fs;return W(i.dirname,"`fs.dirname` is required for relative reference"),i.dirname(t)},e.prototype.lookupError=function(t,i){var o=new Error("ENOENT");return o.message='ENOENT: Failed to lookup "'.concat(t,'" in "').concat(i,'"'),o.code="ENOENT",o},e}(),Xp=function(){function e(){this.buffer=""}return e.prototype.write=function(t){this.buffer+=_(t)},e}(),Zp=function(){function e(){throw this.buffer="",this.stream=null,new Error("streaming not supported in browser")}return e}(),ed=function(){function e(){this.buffer=""}return e.prototype.write=function(t){t=M(t),typeof t!="string"&&this.buffer===""?this.buffer=t:this.buffer=_(this.buffer)+_(t)},e}(),td=function(){function e(){}return e.prototype.renderTemplatesToNodeStream=function(t,i){var o=this,l=new Zp;return Promise.resolve().then(function(){return be(o.renderTemplates(t,i,l))}).then(function(){return l.end()},function(f){return l.error(f)}),l.stream},e.prototype.renderTemplates=function(t,i,o){var l,f,d,g,y,v,b,O,N;return c(this,function(S){switch(S.label){case 0:o||(o=i.opts.keepOutputType?new ed:new Xp),S.label=1;case 1:S.trys.push([1,8,9,10]),l=h(t),f=l.next(),S.label=2;case 2:if(f.done)return[3,7];d=f.value,S.label=3;case 3:return S.trys.push([3,5,,6]),[4,d.render(i,o)];case 4:return g=S.sent(),g&&o.write(g),o.break||o.continue?[3,7]:[3,6];case 5:throw y=S.sent(),v=kr.is(y)?y:new kr(y,d),v;case 6:return f=l.next(),[3,2];case 7:return[3,10];case 8:return b=S.sent(),O={error:b},[3,10];case 9:try{f&&!f.done&&(N=l.return)&&N.call(l)}finally{if(O)throw O.error}return[7];case 10:return[2,o.buffer]}})},e}(),Pr=function(){function e(t){this.token=t}return e}(),rd=function(e){s(t,e);function t(i,o,l){var f=e.call(this,i)||this;f.name=i.name;var d=l.tags.get(i.name);return f.impl=Object.create(d),f.impl.liquid=l,f.impl.parse&&f.impl.parse(i,o),f}return t.prototype.render=function(i,o){var l,f;return c(this,function(d){switch(d.label){case 0:return[4,new je(this.token.args).render(i)];case 1:return l=d.sent(),f=this.impl,z(f.render)?[4,f.render(i,o,l)]:[3,3];case 2:return[2,d.sent()];case 3:return[2]}})},t}(Pr),nd=function(e){s(t,e);function t(i,o){var l=e.call(this,i)||this;l.value=new me(i.content,o);var f=l.value.filters,d=o.options.outputEscape;return f.length&&f[f.length-1].name==="raw"?f.pop():d&&f.push(new Ar(toString.call(d),d,[],o)),l}return t.prototype.render=function(i,o){var l;return c(this,function(f){switch(f.label){case 0:return[4,this.value.value(i,!1)];case 1:return l=f.sent(),o.write(l),[2]}})},t}(Pr),id=function(e){s(t,e);function t(i){var o=e.call(this,i)||this;return o.str=i.getContent(),o}return t.prototype.render=function(i,o){return c(this,function(l){return o.write(this.str),[2]})},t}(Pr),sd=function(){function e(t){this.liquid=t,this.cache=this.liquid.options.cache,this.fs=this.liquid.options.fs,this.parseFile=this.cache?this._parseFileCached:this._parseFile,this.loader=new Qp(this.liquid.options)}return e.prototype.parse=function(t,i){var o=new X(t,this.liquid.options.operatorsTrie,i),l=o.readTopLevelTokens(this.liquid.options);return this.parseTokens(l)},e.prototype.parseTokens=function(t){for(var i,o=[];i=t.shift();)o.push(this.parseToken(i,t));return o},e.prototype.parseToken=function(t,i){try{return Ot(t)?new rd(t,i,this.liquid):li(t)?new nd(t,this.liquid):new id(t)}catch(o){throw new si(o,t)}},e.prototype.parseStream=function(t){var i=this;return new xi(t,function(o,l){return i.parseToken(o,l)})},e.prototype._parseFileCached=function(t,i,o,l){var f,d,g,y,v,b,O;return o===void 0&&(o=Ve.Root),c(this,function(N){switch(N.label){case 0:return f=this.cache,d=this.loader.shouldLoadRelative(t)?l+","+t:o+":"+t,[4,f.read(d)];case 1:return g=N.sent(),g?[2,g]:(y=this._parseFile(t,i,o,l),i?[4,y]:[3,3]);case 2:return b=N.sent(),[3,4];case 3:b=be(y),N.label=4;case 4:v=b,f.write(d,v),N.label=5;case 5:return N.trys.push([5,7,,8]),[4,v];case 6:return[2,N.sent()];case 7:throw O=N.sent(),f.remove(d),O;case 8:return[2]}})},e.prototype._parseFile=function(t,i,o,l){var f,d,g,y;return o===void 0&&(o=Ve.Root),c(this,function(v){switch(v.label){case 0:return[4,this.loader.lookup(t,o,i,l)];case 1:return f=v.sent(),g=(d=this.liquid).parse,i?(y=this.fs.readFileSync(f),[3,4]):[3,2];case 2:return[4,this.fs.readFile(f)];case 3:y=v.sent(),v.label=4;case 4:return[2,g.apply(d,[y,f])]}})},e}(),od=function(){function e(){this.impls={}}return e.prototype.get=function(t){var i=this.impls[t];return W(i,function(){return'tag "'.concat(t,'" not found')}),i},e.prototype.set=function(t,i){this.impls[t]=i},e}(),ud=function(){function e(t,i){this.strictFilters=t,this.liquid=i,this.impls={}}return e.prototype.get=function(t){var i=this.impls[t];return W(i||!this.strictFilters,function(){return"undefined filter: ".concat(t)}),i},e.prototype.set=function(t,i){this.impls[t]=i},e.prototype.create=function(t,i){return new Ar(t,this.get(t),i,this.liquid)},e}(),ad="9.42.0",cd=function(){function e(t){var i=this;t===void 0&&(t={}),this.options=Jp(t),this.parser=new sd(this),this.renderer=new td,this.filters=new ud(this.options.strictFilters,this),this.tags=new od,mr(Di,function(o,l){return i.registerTag(vr(l),o)}),mr(xr,function(o,l){return i.registerFilter(vr(l),o)})}return e.prototype.parse=function(t,i){return this.parser.parse(t,i)},e.prototype._render=function(t,i,o){var l=new $e(i,this.options,o);return this.renderer.renderTemplates(t,l)},e.prototype.render=function(t,i,o){return a(this,void 0,void 0,function(){return c(this,function(l){return[2,be(this._render(t,i,u(u({},o),{sync:!1})))]})})},e.prototype.renderSync=function(t,i,o){return Te(this._render(t,i,u(u({},o),{sync:!0})))},e.prototype.renderToNodeStream=function(t,i,o){o===void 0&&(o={});var l=new $e(i,this.options,o);return this.renderer.renderTemplatesToNodeStream(t,l)},e.prototype._parseAndRender=function(t,i,o){var l=this.parse(t);return this._render(l,i,o)},e.prototype.parseAndRender=function(t,i,o){return a(this,void 0,void 0,function(){return c(this,function(l){return[2,be(this._parseAndRender(t,i,u(u({},o),{sync:!1})))]})})},e.prototype.parseAndRenderSync=function(t,i,o){return Te(this._parseAndRender(t,i,u(u({},o),{sync:!0})))},e.prototype._parsePartialFile=function(t,i,o){return this.parser.parseFile(t,i,Ve.Partials,o)},e.prototype._parseLayoutFile=function(t,i,o){return this.parser.parseFile(t,i,Ve.Layouts,o)},e.prototype.parseFile=function(t){return a(this,void 0,void 0,function(){return c(this,function(i){return[2,be(this.parser.parseFile(t,!1))]})})},e.prototype.parseFileSync=function(t){return Te(this.parser.parseFile(t,!0))},e.prototype.renderFile=function(t,i,o){return a(this,void 0,void 0,function(){var l;return c(this,function(f){switch(f.label){case 0:return[4,this.parseFile(t)];case 1:return l=f.sent(),[2,this.render(l,i,o)]}})})},e.prototype.renderFileSync=function(t,i,o){var l=this.parseFileSync(t);return this.renderSync(l,i,o)},e.prototype.renderFileToNodeStream=function(t,i,o){return a(this,void 0,void 0,function(){var l;return c(this,function(f){switch(f.label){case 0:return[4,this.parseFile(t)];case 1:return l=f.sent(),[2,this.renderToNodeStream(l,i,o)]}})})},e.prototype._evalValue=function(t,i){var o=new me(t,this),l=i instanceof $e?i:new $e(i,this.options);return o.value(l,!1)},e.prototype.evalValue=function(t,i){return a(this,void 0,void 0,function(){return c(this,function(o){return[2,be(this._evalValue(t,i))]})})},e.prototype.evalValueSync=function(t,i){return Te(this._evalValue(t,i))},e.prototype.registerFilter=function(t,i){this.filters.set(t,i)},e.prototype.registerTag=function(t,i){this.tags.set(t,i)},e.prototype.plugin=function(t){return t.call(this,e)},e.prototype.express=function(){var t=this,i=!0;return function(o,l,f){var d,g,y;if(i){i=!1;var v=Et(this.root);(d=t.options.root).unshift.apply(d,m([],p(v),!1)),(g=t.options.layouts).unshift.apply(g,m([],p(v),!1)),(y=t.options.partials).unshift.apply(y,m([],p(v),!1))}t.renderFile(o,l).then(function(b){return f(null,b)},f)}},e}();r.AssertionError=ai,r.Context=$e,r.Drop=q,r.Expression=Ni,r.Hash=je,r.InternalUndefinedVariableError=ui,r.Liquid=cd,r.LiquidError=Ze,r.ParseError=si,r.ParseStream=xi,r.RenderError=kr,r.TagToken=Dr,r.TimezoneDate=Tt,r.Token=le,r.TokenizationError=Nt,r.Tokenizer=X,r.TypeGuards=$h,r.UndefinedVariableError=oi,r.Value=me,r._evalToken=Q,r.assert=W,r.createTrie=Nr,r.defaultOperators=br,r.defaultOptions=ke,r.evalQuotedToken=kt,r.evalToken=Gh,r.filters=xr,r.isFalsy=wt,r.isTruthy=Oe,r.tags=Up,r.toPromise=be,r.toThenable=Kh,r.toValue=M,r.toValueSync=Te,r.version=ad,Object.defineProperty(r,"__esModule",{value:!0})})});var Cb=w((pS,Vn)=>{var{DataFrame:df,isArray:Ib,isUndefined:Lb,Series:Rb}=ff(),{Liquid:Pb}=pf(),mf=new Pb;String.prototype.replaceAll||(String.prototype.replaceAll=function(r,n){return this.split(r).join(n)});function jn(r){return r.split(/[^\s]/g)[0]}var Bn={date:{toGTDateObject(r){let n={year:r.getFullYear(),month:r.getMonth()+1,day:r.getDate(),hour:r.getHours(),minute:r.getMinutes()};return Bn.object.toAssociation(n)}},object:{toAssociation(r){function n(s){let u=typeof s;if(u==="string")return JSON.stringify(s);if(u==="number")return s;if(u==="boolean")return JSON.stringify(s.toString());if(u==="function")return JSON.stringify("<function>");if(u==="undefined")return JSON.stringify("undefined");if(s===null)return JSON.stringify("null");if(s instanceof Array)return"["+s.map(a=>n(a)).join(", ")+"]";{let a=[];return Object.keys(s).forEach(c=>{let h=n(s[c]);a.push('"'+c+'" -> '+h)}),"{ "+a.join(", ")+" }"}}return n(r)}},template:{registerLiquidFilter(r,n){mf.registerFilter(r,n)},async liquidBuild(r,n){return await mf.parseAndRender(r,n)}},program:{extractQuestions(r){let n=["after","answers","before","blank","confirm","countdown","date","default","max","min","multiple","question","save","shuffle","tags","throwaway","time","tip","type"],s=r.split(`
`),u=[];if(s.forEach((c,h)=>{let p=/^\s* \s*[^\s]/g;if(c.match(p))throw new Error(`GT programs must be indented with spaces only! The indentation of line ${h+1} in your program includes spaces!`);if(c.trim().startsWith("*question:")){let m={question:c.replace("*question: ","").trim()},q=jn(c),T=(()=>{let E=s.findIndex((L,z)=>z>h&&jn(L).length<=q.length&&L.trim().length>0);return E<0?s.length:E})(),x=s.slice(h+1,T).filter(E=>jn(E)===q+"	");x.length>0&&x.forEach(E=>{E=E.trim();let L=!1;n.forEach(z=>{if(!L&&E.startsWith("*"+z)){L=!0;let V=(()=>{if(E.includes(":")){let ue=E.split(":").slice(1).join(":").trim();try{return JSON.parse(ue)}catch{return ue}}else return!0})();m[z]=V}}),L||(m.answers||(m.answers=[]),m.answers instanceof Array&&m.answers.push(E))}),Lb(m.type)&&(m.answers?m.type="choice":m.type="text"),u.push(m)}}),u.length===0){let c=new df([n.map(()=>{})]);return c.columns=n,c}let a=new df(u.map(c=>n.map(h=>{let p=c[h];return Ib(p)?JSON.stringify(p):p})));return a.columns=n,a=a.get(null,["question"].concat(n.filter(c=>c!=="question"))),a instanceof Rb?a.toDataFrame().transpose():a}}};typeof Vn<"u"&&(Vn.exports=Bn);typeof window<"u"&&(window.gt=Bn)});Cb();})();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
