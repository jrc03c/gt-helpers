(()=>{var is=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(i,s)=>(typeof require<"u"?require:i)[s]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var q=(t,i)=>()=>(i||t((i={exports:{}}).exports,i),i.exports);var We=q((Zb,ss)=>{var Fd=new Function(`
  try {
    return this === window
  } catch(e) {}

  try {
    return typeof importScripts !== "undefined"
  } catch(e) {}

  return false
`),Ar=class extends Error{constructor(i){Fd()?super(i):super(`

\x1B[31m`+i+`
\x1B[0m`)}};ss.exports=Ar});var k=q((eT,os)=>{var Ed=We();os.exports=function(t,i){if(!t)throw new Ed(i)}});var F=q((tT,us)=>{function xd(t){try{return t instanceof Array||typeof t.constructor<"u"&&t.constructor.name==="Array"}catch{return!1}}us.exports=xd});var z=q((rT,as)=>{function Ad(t){try{return!!t._symbol&&t._symbol===Symbol.for("@jrc03c/js-math-tools/dataframe")}catch{return!1}}as.exports=Ad});var ne=q((nT,cs)=>{function Id(t){return typeof t=="function"}cs.exports=Id});var A=q((iT,ls)=>{function zd(t){return typeof t=="number"&&!isNaN(t)}ls.exports=zd});var j=q((sT,fs)=>{function Rd(t){return t===null||typeof t>"u"}fs.exports=Rd});var ke=q((oT,hs)=>{var Ld=F(),Md=j();function jd(t){return typeof t=="object"&&!Md(t)&&!Ld(t)}hs.exports=jd});var I=q((uT,ps)=>{function Pd(t){try{return!!t._symbol&&t._symbol===Symbol.for("@jrc03c/js-math-tools/series")}catch{return!1}}ps.exports=Pd});var ut=q((aT,gs)=>{var Cd=k(),ds=F(),Bd=z(),Ud=ne(),Ir=A(),ms=ke(),Vd=I();function zr(t,i){if(Bd(t)){let f=zr(t.values,i);return f.length>0&&Ir(f[0])&&f[0]>=0&&f[0]<t.index.length&&(f[0]=t.index[f[0]]),f.length>1&&Ir(f[1])&&f[1]>=0&&f[1]<t.columns.length&&(f[1]=t.columns[f[1]]),f}if(Vd(t)){let f=zr(t.values,i);return f.length>0&&Ir(f[0])&&f[0]>=0&&f[0]<t.index.length&&(f[0]=t.index[f[0]]),f}if(Cd(ms(t)||ds(t),"You must pass (1) an object, array, Series, or DataFrame and (2) a function or value into the `indexOf` function!"),!Ud(i)){let f=i;i=p=>p===f}function s(f,p,d){if(d=d||[],d.indexOf(f)>-1)return null;if(ms(f)){d.push(f);let y=Object.keys(f);for(let w=0;w<y.length;w++){let b=y[w],E=f[b];if(p(E))return[b];let x=s(E,p,d);if(x&&x.length>0)return[b].concat(x)}}else if(ds(f)){d.push(f);for(let y=0;y<f.length;y++){let w=f[y];if(p(w))return[y];let b=s(w,p,d);if(b&&b.length>0)return[y].concat(b)}}else if(p(f))return[];return null}function u(f){try{return i(f)}catch{return!1}}let c=s(t,u);return c&&c.length>0?c:null}gs.exports=zr});var ye=q((cT,bs)=>{var $d=ut(),ys=F(),vs=z(),qs=I();function Ke(t){try{return structuredClone(t)}catch{if(typeof t=="object"){if(t===null)return null;if(ys(t))return t.map(u=>Ke(u));if(qs(t)){let u=t.copy();return u.values=Ke(u.values),u}if(vs(t)){let u=t.copy();return u.values=Ke(t.values),u}t=ws(t);let s={};return Object.keys(t).forEach(u=>{s[u]=Ke(t[u])}),s}else return t}}function ws(t){function i(c,f,p){if(f=f||[],p=p||"",f.indexOf(c)>-1){let d=p.split("/").slice(p.startsWith("/")?1:0);if(d.some((w,b)=>{let E=d.slice(0,d.length-b-1),x=s;return E.forEach($=>{x=x[$]}),x===c}))return`<reference to "${s===c?"/":"/"+$d(s,c).join("/")}">`}return typeof c=="object"?c===null?null:(f.push(c),ys(c)?c.map((d,y)=>i(d,f,p+"/"+y)):(Object.keys(c).forEach(d=>{c[d]=i(c[d],f,p+"/"+d)}),c)):c}let s=Ke(t),u=i(s);if(vs(t)){let c=t.copy();c._values=u.values,c._columns=u.columns,c._index=u.index,u=c}if(qs(t)){let c=t.copy();c.name=u.name,c._values=u.values,c._index=u.index,u=c}return u}bs.exports={copy:Ke,decycle:ws}});var Y=q((lT,Ss)=>{var{copy:Jd}=ye(),Hd=k(),Ts=F(),Yd=z(),Wd=I();function Ns(t){if(Yd(t)||Wd(t))return Ns(t.values);Hd(Ts(t),"The `flatten` function only works on arrays, Series, and DataFrames!");function i(s){let u=[];return Jd(s).forEach(c=>{Ts(c)?u=u.concat(i(c)):u.push(c)}),u}return i(t)}Ss.exports=Ns});var pe=q((fT,ks)=>{var{decycle:Os}=ye(),_s=F();function Kd(t,i){function s(u,c){let f=typeof u;if(f!==typeof c)return!1;if(f==="undefined")return!0;if(f==="boolean"||f==="symbol")return u===c;if(f==="number"||f==="bigint")return u.toString()==="NaN"&&c.toString()==="NaN"?!0:u===c;if(f==="string"||f==="function")return u===c;if(f==="object"){if(u===null||c===null)return u===null&&c===null;{if(_s(u)!==_s(c))return!1;let d=Object.keys(u),y=Object.keys(c);if(d.length!==y.length)return!1;for(let w=0;w<d.length;w++){let b=d[w];if(!s(u[b],c[b]))return!1}return!0}}}try{return t instanceof Date&&i instanceof Date?t.getTime()===i.getTime():s(t,i)}catch{return s(Os(t),Os(i))}}ks.exports=Kd});var de=q((hT,xs)=>{var Gd=k(),Qd=Y(),Xd=F(),Ds=z(),Zd=ne(),Fs=I(),em=j();function at(t){let i="abcdefg1234567890",s="";for(;s.length<t;)s+=i[parseInt(Math.random()*i.length)];return s}var tm=at(256),rm=at(256),nm=at(256),im=at(256),sm=at(256);function Es(t){if(Ds(t)||Fs(t))return Es(t.values);Gd(Xd(t),"The `set` function only works on arrays, Series, and DataFrames!");let i=[],s={};return Qd(t).forEach(u=>{let c=typeof u=="object"&&u===null?tm:em(u)?rm:Zd(u)?u.toString():typeof u=="symbol"?u.toString()+" - "+sm:u===1/0?nm:u===-1/0?im:Ds(u)?u.toJSONString():Fs(u)?JSON.stringify(u.toObject()):JSON.stringify(u);s[c]||i.push(u),s[c]=!0}),i}xs.exports=Es});var ct=q((pT,zs)=>{var om=k(),Rr=Y(),As=F(),um=z(),Is=pe(),am=ne(),cm=I(),lm=de();function Ft(t,i){if(um(t)||cm(t))return arguments.length>1?Ft(t.values,i):Ft(t.values,t.values);if(om(As(t),"The first argument to the `count` function must be an array, Series, or DataFrame!"),am(i))return Rr(t).filter(s=>i(s)).length;if(As(i)){let s=Rr(t);return lm(i).map(u=>({value:u,count:s.filter(c=>Is(c,u)).length}))}else return arguments.length>1?Rr(t).filter(s=>Is(s,i)).length:Ft(t,t)}zs.exports=Ft});var lt=q((dT,Ls)=>{var fm=k(),Rs=F(),hm=z(),pm=I();function Lr(t){if(hm(t)||pm(t))return Lr(t.values);fm(Rs(t),"The `isJagged` function only works on arrays, Series, and DataFrames!");let i=0,s=null;for(let u=0;u<t.length;u++)if(Rs(t[u])){if(i++,Lr(t[u]))return!0;if(s===null)s=t[u].length;else if(t[u].length!==s)return!0}return i>0&&i<t.length}Ls.exports=Lr});var Et=q((mT,Ps)=>{var dm=k(),Ms=F(),mm=z(),gm=I();function js(t){if(mm(t)||gm(t))return js(t.values);dm(Ms(t),"The `isNested` function only works on arrays, Series, and DataFrames!");for(let i=0;i<t.length;i++)if(Ms(t[i]))return!0;return!1}Ps.exports=js});var De=q((gT,Bs)=>{var Ue=k(),ym=F(),vm=Et(),qm=A(),wm=j(),Ge="You must pass a natural number or a one-dimensional array of natural numbers into the `ndarray` function!";function Cs(t){Ue(!wm(t),Ge),ym(t)||(t=[t]),Ue(!vm(t),Ge),Ue(t.length>0,Ge);let i=t[0];if(Ue(qm(i),Ge),Ue(parseInt(i)===i,Ge),Ue(i>=0,Ge),Ue(i!==1/0,"We can't create an array containing an infinite number of values!"),t.length===1){let s=[];for(let u=0;u<i;u++)s.push(void 0);return s}else{let s=[];for(let u=0;u<i;u++)s.push(Cs(t.slice(1)));return s}}Bs.exports=Cs});var ft=q((yT,Us)=>{var bm=k(),Tm=F(),Nm=z(),Sm=I();function Mr(t){if(Nm(t)||Sm(t)){let s=t.copy();return s.values=Mr(s.values),s.index=Mr(s.index),s}bm(Tm(t),"The `reverse` function only works on arrays, Series, and DataFrames!");let i=[];for(let s=t.length-1;s>=0;s--)i.push(t[s]);return i}Us.exports=Mr});var ue=q((vT,Vs)=>{var jr=k(),Pr=A(),Cr=j(),Om=ft();function _m(t,i,s=1){jr(!Cr(t)&&!Cr(i)&&!Cr(s),"You must pass two numbers and optionally a step value to the `range` function!"),jr(Pr(t)&&Pr(i)&&Pr(s),"You must pass two numbers and optionally a step value to the `range` function!"),jr(s>0,"The step value must be greater than 0! (NOTE: The step value is a magnitude; it does not indicate direction.)");let u=!1;if(t>i){u=!0;let f=t;t=i+s,i=f+s}let c=[];for(let f=t;f<i;f+=s)c.push(f);return u&&(c=Om(c)),c}Vs.exports=_m});var J=q((qT,Ys)=>{var km=k(),$s=F(),Dm=z(),Fm=pe(),Em=I(),xm=j();function Js(t){if(!$s(t))return;let i=[t.length],s=0,u=t.map(c=>{let f=Js(c);return xm(f)?f:(s++,f.length===1?f[0]:f)});return s>0?s===t.length&&u.slice(0,-1).every((f,p)=>Fm(f,u[p+1]))?i.concat(u[0]):(i.push(u),i):i}function Hs(t){return Dm(t)||Em(t)?Hs(t.values):(km($s(t),"The `shape` function only works on arrays, Series, and DataFrames!"),Js(t))}Ys.exports=Hs});var Zs=q((wT,Xs)=>{var Ws=k(),Am=F(),Im=z(),zm=lt(),Rm=I(),Lm=j(),Ks=We(),xt=De(),Gs=ue(),Mm=de(),jm=J();function Qs(t,i,s){if(Lm(s)&&(s=0),Ws(s===0||s===1||s==="vertical"||s==="horizontal",'The only valid axis values for use when appending data to a DataFrame are 0, 1, "vertical", and "horizontal". Note that 0 == "horizontal" and 1 == "vertical".'),Am(i)){Ws(!zm(i),"The array of data you're trying to append to this DataFrame is jagged!");let u=jm(i);if(u.length===1)if(s===0){let c=t.copy();c._values.push(i);let f=Math.max(t.shape[1],u[0]);for(c._values.forEach(p=>{for(;p.length<f;)p.push(void 0)});c._index.length<c._values.length;)c._index.push("row"+c._index.length);for(;c._columns.length<f;)c._columns.push("col"+c._columns.length);return c}else{let c=Math.max(t.shape[0],u[0]),f=t.copy();for(Gs(0,c).forEach(p=>{p>=f._values.length&&f._values.push(xt(t.shape[1])),f._values[p].push(i[p])});f._index.length<f._values.length;)f._index.push("row"+f._index.length);for(;f._columns.length<f._values[0].length;)f._columns.push("col"+f._columns.length);return f}else if(u.length===2)if(s===0){let c=Math.max(...i.map(p=>p.length).concat([t.shape[1]])),f=t.copy();for(f._values=f._values.concat(i).map(p=>{for(;p.length<c;)p.push(void 0);return p});f._index.length<f._values.length;)f._index.push("row"+f._index.length);for(;f._columns.length<c;)f._columns.push("col"+f._columns.length);return f}else{let c=Math.max(...i.map(d=>d.length))+t.shape[1],f=Math.max(t.shape[0],u[0]),p=t.copy();for(Gs(0,f).forEach(d=>{for(d>=p._values.length&&p._values.push(xt(t.shape[1])),p._values[d]=p._values[d].concat(i[d]);p._values[d].length<c;)p._values[d].push(void 0)});p._index.length<p._values.length;)p._index.push("row"+p._index.length);for(;p._columns.length<c;)p._columns.push("col"+p._columns.length);return p}else throw new Ks("Only 1- and 2-dimensional arrays can be appended to a DataFrame!")}else if(Rm(i)){let u=Qs(t,i.values,s);return s===0?u.index[u.index.length-1]=u.index.indexOf(i.name)>-1?i.name+" (2)":i.name:u.columns[u.columns.length-1]=u.columns.indexOf(i.name)>-1?i.name+" (2)":i.name,u}else if(Im(i))if(s===0){let u=t.copy(),c=Mm(u._columns.concat(i._columns)).length;for(u._values.forEach(f=>{for(;f.length<c;)f.push(void 0)}),i.apply(f=>{let p=f.copy(),d=[];u._columns.forEach(y=>{let w=p._index.indexOf(y);w>-1?(d.push(p._values[w]),p._values.splice(w,1),p._index.splice(w,1)):d.push(void 0)}),u._values.push(d.concat(p._values))},1),u._columns=u._columns.concat(i._columns.filter(f=>u._columns.indexOf(f)<0));u._index.length<u._values.length;){let f="row"+u._index.length;u._index.push(f+(t._index.indexOf(f)>-1?" (2)":""))}return u}else{let u=t.copy();return u._index.forEach((c,f)=>{let p=i._index.indexOf(c);p>-1?u._values[f]=u._values[f].concat(i._values[p]):u._values[f]=u._values[f].concat(xt(i.shape[1]))}),i._index.forEach((c,f)=>{u._index.indexOf(c)<0&&(u._index.push(c),u._values.push(xt(u._columns.length).concat(i._values[f])))}),u._columns=u._columns.concat(i._columns.map(c=>c+(u._columns.indexOf(c)>-1?" (2)":""))),u}else throw new Ks("Only 1- or 2-dimensional arrays, Series, and DataFrames can be appended to a DataFrame!")}Xs.exports=Qs});var io=q((bT,no)=>{var eo=k(),to=F(),Pm=ne(),ro=j();function Cm(t,i,s,u,c){if(c=c||0,eo(Pm(u),"The first parameter to the `apply` method must be a function."),eo(c===0||c===1,"The second parameter to the `apply` method (the `axis`) must be 0 or 1."),c===0){let f={},p;if(s.columns.forEach((d,y)=>{let w=new i(s.values.map(E=>E[y]));w.name=d,w.index=s.index;let b=u(w,y,s);b instanceof i?f[d]=b.values:f[d]=b,ro(p)&&(p=b instanceof i||to(b))}),p){let d=new t(f);return d.index=s.index,d}else{let d=new i(s.columns.map(y=>f[y]));return d.index=s.columns,d}}else if(c===1){let f,p=s.values.map((d,y)=>{let w=new i(d);w.name=s.index[y],w.index=s.columns;let b=u(w,y,s);return ro(f)&&(f=b instanceof i||to(b)),b instanceof i?b.values:b});if(f){let d=new t(p);return d.index=s.index,d.columns=s.columns,d}else{let d=new i(p);return d.index=s.index,d}}}no.exports=Cm});var ie=q((TT,so)=>{function Bm(t){return typeof t=="string"}so.exports=Bm});var ao=q((NT,uo)=>{var oo=k(),Um=F(),Vm=lt(),$m=ke(),Jm=ie(),Hm=j(),Ym=We(),Wm=J();function Km(t,i,s,u,c){let f=d=>d instanceof t,p=d=>d instanceof i;if(Hm(c)){if(f(u))return s.append(u,1);if(p(u))return s.append(u,1);if($m(u)){let d=Math.max(...Object.keys(u).map(y=>u[y].length));return Object.keys(u).forEach(y=>{for(;u[y].length<d;)u[y].push(void 0)}),s.append(new t(u),1)}else throw new Ym("You must pass a DataFrame, Series, or object into the `assign` method!")}else{oo(Jm(u),"If passing two arguments into the `assign` method, then the first argument must be a string name!"),oo(Um(c)&&!Vm(c)&&Wm(c).length===1,"If passing two arguments into the `assign` method, then the second argument must be a 1-dimensional array!");let d=s.append(c,1);return d.columns[d.columns.length-1]=u,d}}uo.exports=Km});var lo=q((ST,co)=>{var{copy:Gm}=ye();function Qm(t,i){if(i.isEmpty)return new t;let s=new t(Gm(i.values));return s.columns=i.columns.slice(),s.index=i.index.slice(),s}co.exports=Qm});var vo=q((OT,yo)=>{var At=k(),fo=F(),ho=A(),po=ie(),mo=j(),go=J();function Xm(t,i,s,u,c){mo(u)&&(u=[]),mo(c)&&(c=[]),(po(u)||ho(u))&&(u=[u]),(po(c)||ho(c))&&(c=[c]),At(fo(u),"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings."),At(fo(c),"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings."),At(go(u).length===1,"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings."),At(go(c).length===1,"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings.");let f,p;s.index.forEach((y,w)=>{u.indexOf(y)<0&&u.indexOf(w)<0&&(f||(f=[]),f.push(y))}),s.columns.forEach((y,w)=>{c.indexOf(y)<0&&c.indexOf(w)<0&&(p||(p=[]),p.push(y))});let d=s.get(f,p);if(d instanceof i){let y=new t;y=y.assign(d),s.index.indexOf(d.name)>-1&&(y=y.transpose()),d=y}return d}yo.exports=Xm});var ht=q((_T,qo)=>{var Zm=A();function eg(t){return Zm(t)&&parseInt(t)===t}function tg(t){return eg(t)&&t>=0}qo.exports=tg});var bo=q((kT,wo)=>{var Br=k(),rg=ie(),It=j(),ng=ht(),ig=J();function sg(t,i,s,u,c,f){u=u||0,Br(u===0||u===1,"The first parameter of the `dropMissing` method (the `axis`) must be 0 or 1."),f=f||0,Br(ng(f),"The third parameter of the `dropMissing` method (the `threshold`) should be a whole number (meaning that data should be dropped if it contains more than `threshold` null values)."),c=f>0?"none":c||"any",Br(c==="any"||c==="all"||c==="none","The second parameter of the `dropMissing` method (the `condition` parameter, which indicates the condition under which data should be dropped) should be 'any' or 'all' (meaning that if 'any' of the data contains null values, then it should be dropped; or that if 'all' of the data contains null values, then it should be dropped).");function p(w){if(f>0){let b=0;for(let E=0;E<w.length;E++){let x=w[E];if(It(x)&&b++,b>=f)return[]}}else if(c==="any")for(let b=0;b<w.length;b++){let E=w[b];if(It(E))return[]}else if(c==="all"){for(let b=0;b<w.length;b++){let E=w[b];if(!It(E))return w}return[]}return w}let d=s.copy(),y=Math.random().toString();if(u===0){d=d.assign(y,d.index);let w=d.values.map(p).filter(E=>E.length>0);if(ig(w).length<2)return new t;d.values=w;let b=d.get(null,y);if(It(b))return new t;rg(b)&&(b=[b]),b instanceof i&&(b=b.values),d.index=b,d=d.drop(null,y)}else if(u===1){let w={};if(d.columns.forEach((E,x)=>{let $=d.values.map(C=>C[x]),K=p($);K.length>0&&(w[E]=K)}),Object.keys(w).length===0)return new t;let b=new t(w);return b.index=d.index,b}return d}wo.exports=sg});var Ur=q((DT,No)=>{var og=k(),ug=F(),ag=z(),cg=A(),lg=I();function To(t){if(ag(t)||lg(t))return t.dropNaN(...Object.values(arguments).slice(1));og(ug(t),"The `dropNaN` function only works on arrays, Series, and DataFrames!");let i=[];return t.forEach(s=>{try{return i.push(To(s))}catch{if(cg(s))return i.push(s)}}),i}No.exports=To});var Oo=q((FT,So)=>{var Vr=k(),fg=Ur(),hg=ht();function pg(t,i,s,u,c){s=s||0,Vr(s===0||s===1,"The first parameter of the `dropNaN` method (the `axis`) must be 0 or 1."),c=c||0,Vr(hg(c),"The third parameter of the `dropNaN` method (the `threshold`) should be a whole number (meaning that data should be dropped if it contains more than `threshold` NaN values)."),u=c>0?"none":u||"any",Vr(u==="any"||u==="all"||u==="none","The second parameter of the `dropNaN` method (the `condition` parameter, which indicates the condition under which data should be dropped) should be 'any' or 'all' (meaning that if 'any' of the data contains NaN values, then it should be dropped; or that if 'all' of the data contains NaN values, then it should be dropped).");function f(d){let y=fg(d);return c>0?d.length-y.length<c:u==="any"?y.length===d.length:u==="all"?y.length>0:!0}let p=i.copy();if(s===0){let d=p.index.filter(y=>{let w=p.get(y,null).values;return f(w)});return d.length>0?p.get(d,null):new t}else if(s===1){let d=p.columns.filter(y=>{let w=p.get(null,y).values;return f(w)});return d.length>0?p.get(null,d):new t}return p}So.exports=pg});var Fo=q((ET,Do)=>{var _o=k(),pt=Y(),dg=ne(),mg=j();function ko(t){let i={};return pt(t).forEach((s,u)=>{i[s]=u}),i}function Qe(t){return Object.keys(t).sort((i,s)=>t[i]-t[s])}function gg(t,i,s,u,c){_o(dg(u),"The `filter` method takes a single parameter: a function that is used to filter the values."),mg(c)&&(c=0),_o(c===0||c===1,"The `axis` parameter to the `filter` method must be 0 or 1.");let f=s.copy();if(f.isEmpty)return f;let p=ko(f.index),d=ko(f.columns);if(c===0){let y=f.values.filter((w,b)=>{let E=new i(w);E.name=s.index[b],E.index=s.columns;let x=u(E,b,s);return x||delete p[f.index[b]],x});if(pt(y).length===0)return new t;if(y.length===1){let w=new i(pt(y));return w.name=Qe(p)[0],w.index=Qe(d),w}f.values=y,f.index=Qe(p)}else if(c===1){f=f.transpose();let y=f.values.filter((w,b)=>{let E=new i(w);E.name=s.columns[b],E.index=s.index;let x=u(E,b,s);return x||delete d[f.index[b]],x});if(pt(y).length===0)return new t;if(y.length===1){let w=new i(pt(y));return w.name=Qe(d)[0],w.index=Qe(p),w}f.values=y,f.index=Qe(d),f=f.transpose()}return f}Do.exports=gg});var Ao=q((xT,xo)=>{var ce=k(),zt=A(),Rt=ie(),Eo=j(),yg=de();function vg(t,i,s){(Rt(i)||zt(i))&&(i=[i]),(Rt(s)||zt(s))&&(s=[s]);let u=yg((i||[]).concat(s||[]).map(c=>typeof c));return ce(u.length<=2,"Only whole numbers and/or strings are allowed in `get` arrays!"),u.length===1&&ce(u[0]==="string"||u[0]==="number","Only whole numbers and/or strings are allowed in `get` arrays!"),u.length===2&&(ce(u.indexOf("string")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!"),ce(u.indexOf("number")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!")),Eo(i)||(i=i.map(c=>{if(Rt(c))return ce(t.index.indexOf(c)>-1,`Row "${c}" does not exist!`),c;if(zt(c))return ce(c>=0,`Index ${c} is out of bounds!`),ce(parseInt(c)===c,"Row numbers must be integers!"),ce(c<t.index.length,`Index ${c} is out of bounds!`),t.index[c]})),Eo(s)||(s=s.map(c=>{if(Rt(c))return ce(t.columns.indexOf(c)>-1,`Column "${c}" does not exist!`),c;if(zt(c))return ce(c>=0,`Column ${c} is out of bounds!`),ce(parseInt(c)===c,"Column numbers must be integers!"),ce(c<t.columns.length,`Column ${c} is out of bounds!`),t.columns[c]})),t.getSubsetByNames(i,s)}xo.exports=vg});var Fe=q((AT,zo)=>{var Io=k(),qg=F(),wg=z(),bg=ne(),Tg=I(),Ng=j();function Sg(t,i){try{return t<i?-1:t>i?1:0}catch{return t=typeof t=="object"&&t!==null?JSON.stringify(t):t.toString(),i=typeof i=="object"&&i!==null?JSON.stringify(i):i.toString(),t<i?-1:t>i?1:0}}function Og(t,i){if(Ng(i)&&(i=Sg),wg(t)||Tg(t))return t.sort(...Object.values(arguments).slice(1));Io(qg(t),"The `sort` function only works on arrays, Series, and DataFrames!"),Io(bg(i),"The second parameter of the `sort` function must be a comparison function!");let s=t.slice();return s.sort(i),s}zo.exports=Og});var jo=q((IT,Mo)=>{var Ro=k(),Lo=ie(),_g=j(),kg=de(),Dg=Fe();function Fg(t){let i=t.toLowerCase(),s="";for(let c=0;c<i.length;c++){let f=i[c];f.match(/[a-z0-9]/g)?s+=f:s+=" "}let u=s.split(" ").filter(c=>c.length>0);return u[0]+u.slice(1).map(c=>c[0].toUpperCase()+c.substring(1)).join("")}function Eg(t,i,s){_g(s)?s=i.columns:Lo(s)&&(s=[s]);let u={};s.forEach(f=>{Ro(Lo(f),"You must pass either a string or a one-dimensional array of strings into the `getDummies` (AKA `oneHotEncode`) method!");let p=i.columns.indexOf(f);Ro(p>-1,`The given DataFrame does not have a column called "${f}"!`);let d=i.values.map(w=>w[p]),y=Dg(kg(d));d.forEach(w=>{y.forEach(b=>{let E=f+"_"+Fg(b.toString());u[E]||(u[E]=[]),w===b?u[E].push(1):u[E].push(0)})})});let c=new t(u);return c.index=i.index,c}Mo.exports=Eg});var Ho=q((zT,Jo)=>{var Ee=k(),Po=F(),Co=A(),Bo=j(),Uo=ht(),Vo=ue(),$o=J();function xg(t,i,s){let u=t.shape;Bo(i)&&(i=Vo(0,u[0])),Bo(s)&&(s=Vo(0,u[1])),Co(i)&&(i=[i]),Co(s)&&(s=[s]),Ee(Po(i)&&Po(s),"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),Ee($o(i).length===1&&$o(s).length===1,"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),Ee(i.length>0,"The `rowIndices` array must contain at least one index."),Ee(s.length>0,"The `colIndices` array must contain at least one index."),i.forEach(p=>{Ee(Uo(p),"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),Ee(p<t.index.length,`The row index ${p} is out of bounds.`)}),s.forEach(p=>{Ee(Uo(p),"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),Ee(p<t.columns.length,`The column index ${p} is out of bounds.`)});let c=i.map(p=>t.index[p]),f=s.map(p=>t.columns[p]);return t.getSubsetByNames(c,f)}Jo.exports=xg});var Qo=q((RT,Go)=>{var xe=k(),$r=Y(),Yo=F(),Lt=ie(),Wo=j(),Ko=J();function Ag(t,i,s,u,c){Wo(u)&&(u=s.index),Wo(c)&&(c=s.columns),Lt(u)&&(u=[u]),Lt(c)&&(c=[c]),xe(Yo(u)&&Yo(c),"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),xe(Ko(u).length===1&&Ko(c).length===1,"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),xe(u.length>0,"The `rows` array must contain at least one row name."),xe(c.length>0,"The `cols` array must contain at least one column name."),u.forEach(d=>{xe(Lt(d),"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),xe(s.index.indexOf(d)>-1,`The row name "${d}" does not exist in the list of rows.`)}),c.forEach(d=>{xe(Lt(d),"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),xe(s.columns.indexOf(d)>-1,`The column name "${d}" does not exist in the list of columns.`)});let f=u.map(d=>c.map(y=>s.values[s.index.indexOf(d)][s.columns.indexOf(y)]));if(u.length===1&&c.length===1)return $r(f)[0];if(u.length===1){let d=new i($r(f));return d.name=u[0],d.index=c,d}if(c.length===1){let d=new i($r(f));return d.name=c[0],d.index=u,d}let p=new t(f);return p.columns=c,p.index=u,p}Go.exports=Ag});var Zo=q((LT,Xo)=>{var Ig=ie(),dt=ue();function zg(t,i,s){function u(x,$){return Ig(x)&&x.length>$?x.substring(0,$-3)+"...":x}if(s.isEmpty)return console.table({}),console.log("Shape:",[0,0],`
`),s;let c=typeof window>"u"?20:10,f=parseInt(c/2),p=typeof process>"u"?10:Math.floor(process.stdout.columns/24)-1,d=parseInt(p/2),y=c>s.index.length?null:dt(0,f).concat(dt(s.index.length-f,s.index.length)),w=p>s.columns.length?null:dt(0,d).concat(dt(s.columns.length-d,s.columns.length)),b=s.get(y,w);b instanceof i&&(s.shape[0]===1?(b=new t([b.values]),b.index=s.index,b.columns=new i(s.columns).get(w).values):s.shape[1]===1&&(b=new t([b.values]).transpose(),b.index=new i(s.index).get(y).values,b.columns=s.columns)),c<=s.index.length&&(b._index.splice(f,0,"..."),b._values.splice(f,0,dt(0,b.columns.length).map(()=>"..."))),p<=s.columns.length&&(b._columns.splice(d,0,"..."),b._values=b._values.map(x=>(x.splice(d,0,"..."),x)));let E=28;return b instanceof i?(b.values=b.values.map(x=>u(x,E)),b.name=u(b.name,E),b.index=b.index.map(x=>u(x,E))):(b.values=b.values.map(x=>x.map($=>u($,E))),b.columns=b.columns.map(x=>u(x,E)),b.index=b.index.map(x=>u(x,E))),console.table(b.toObject()),console.log("Shape:",s.shape,`
`),s}Xo.exports=zg});var Mt=q((MT,eu)=>{var Rg=k(),Lg=A();function Mg(t,i){Rg(Lg(t),"The `leftPad` function only works on numbers!");let s=t.toString();for(;s.length<i;)s="0"+s;return s}eu.exports=Mg});var ru=q((jT,tu)=>{var jg=Mt(),Pg=ue();function Cg(t,i){let s=i?t:t.copy();return s.index=Pg(0,t.shape[0]).map(u=>"row"+jg(u,(s.index.length-1).toString().length)),s}tu.exports=Cg});var mt=q((PT,iu)=>{var Bg=k(),Ug=Y(),Vg=F(),$g=z(),Jg=I();function nu(t){if($g(t)||Jg(t))return nu(t.values);Bg(Vg(t),"The `product` function only works on arrays, Series, and DataFrames!");try{return t.length===0?NaN:Ug(t).reduce((i,s)=>i*s,1)}catch{return NaN}}iu.exports=nu});var jt=q((CT,au)=>{var gt=k(),su=Y(),ou=F(),Hg=z(),uu=A(),Yg=I(),Wg=mt(),Kg=J();function Jr(t,i){if(Hg(t)||Yg(t))return Jr(t.values,i);if(gt(ou(t),"The first argument passed into the `reshape` function must be an array!"),uu(i)&&(i=[i]),gt(ou(i),"The second argument passed into the `reshape` function must be a whole number or a one-dimensional array of whole numbers!"),gt(Kg(i).length===1,"The first argument passed into the `reshape` function must be a whole number or a one-dimensional array of whole numbers!"),i.forEach(f=>{gt(uu(f)&&parseInt(f)===f&&f>0,"The first argument passed into the `reshape` function must be a whole number or a one-dimensional array of whole numbers!")}),i.length===0)return su(t);let s=su(t);if(i.length===1&&i[0]===s.length)return s;gt(Wg(i)===s.length,"The new shape doesn't match the number of values available in `x` (the first argument passed into the `reshape` function)!");let u=[],c=parseInt(s.length/i[0]);for(let f=0;f<i[0];f++){let p=s.slice(f*c,(f+1)*c);u.push(Jr(p,i.slice(1)))}return u}au.exports=Jr});var Xe=q((BT,mu)=>{var{copy:fu}=ye(),Gg=k(),Qg=F(),Xg=A(),hu=j(),Zg=De(),ey=mt(),ty=jt(),pu=Math.pow(2,64),H=[];du(parseInt(Math.random()*pu));function ry(t,i){t=re(t);function s(){t+=re("0x9e3779b97f4a7c15");let c=fu(t);return c=(c^c>>BigInt(30))*re("0xbf58476d1ce4e5b9"),c=(c^c>>BigInt(27))*re("0x94d049bb133111eb"),c^c>>BigInt(31)}let u=[];for(let c=0;c<i;c++)u.push(s());return u}function re(t){return BigInt.asUintN(64,BigInt(t))}function cu(t,i){return t=re(t),i=BigInt(i),re(re(t<<i)|re(t>>re(BigInt(64)-i)))}function du(t){if(hu(t))return fu(H);{Gg(Xg(t),"If passing a value into the `seed` function, then that value must be an integer!");let i=ry(parseInt(t),4);H[0]=i[0],H[1]=i[1],H[2]=i[2],H[3]=i[3]}}function lu(){let t=re(cu(H[0]+H[3],23)+H[0]),i=re(H[1]<<BigInt(17));return H[2]=re(H[2]^H[0]),H[3]=re(H[3]^H[1]),H[1]=re(H[1]^H[2]),H[0]=re(H[0]^H[3]),H[2]=re(H[2]^i),H[3]=cu(H[3],45),parseInt(t)/pu}function ny(t){return hu(t)?lu():(Qg(t)||(t=[t]),ty(Zg(ey(t)).map(lu),t))}mu.exports={random:ny,seed:du}});var Pt=q((UT,gu)=>{var{random:iy}=Xe(),sy=k(),oy=F(),uy=z(),ay=I();function cy(t){if(uy(t)||ay(t))return t.shuffle(...Object.values(arguments).slice(1));sy(oy(t),"The `shuffle` function only works on arrays, Series, and DataFrames!");let i=[],s=t.slice();for(let u=0;u<t.length;u++){let c=parseInt(iy()*s.length);i.push(s.splice(c,1)[0])}return i}gu.exports=cy});var qu=q((VT,vu)=>{var ly=k(),fy=j(),yu=Pt();function hy(t,i){return fy(i)&&(i=0),ly(i===0||i===1,"The `axis` parameter to the `shuffle` must be 0, 1, or undefined."),t.get(i===0?yu(t.index):null,i===1?yu(t.columns):null)}vu.exports=hy});var Ct=q(($T,wu)=>{function py(t){return typeof t=="boolean"}wu.exports=py});var Ou=q((JT,Su)=>{var{random:dy}=Xe(),se=k(),my=Y(),bu=F(),Hr=Ct(),Nu=ne(),Bt=A(),Ze=ie(),Yr=j(),gy=ue(),Tu=J(),Wr=Fe();function yy(t,i,s){return Nu(i)?vy(t,i,s):qy(t,i,s)}function vy(t,i,s){if(s=Yr(s)?0:s,se(Nu(i),"When sorting a DataFrame using a function, the first argument to the `sort` method must be a function!"),se(Bt(s),"When sorting a DataFrame using a function, the second argument to the `sort` method must be null, undefined, 0, or 1 to indicate the axis along which the data should be sorted! An axis of 0 means that the rows will be sorted relative to each other, whereas an axis of 1 means that the columns will be sorted relative to each other."),s===0){let u=Wr(t.index,(c,f)=>i(t.get(c,null),t.get(f,null)));return t.get(u,null)}else{let u=Wr(t.columns,(c,f)=>i(t.get(null,c),t.get(null,f)));return t.get(null,u)}}function qy(t,i,s){let u=t.copy(),c=dy().toString();return u=u.assign(c,u.index),Yr(i)&&(i=[c],s=[!0]),(Bt(i)||Ze(i))&&(i=[i],(Hr(s)||Ze(s))&&(s=[s])),se(bu(i),"The first parameter of the `sort` method must be (1) a string or index representing a column name or index, respectively; (2) a 1-dimensional array of strings and/or indices; or (3) null."),se(Tu(i).length===1,"The first parameter of the `sort` method must be (1) a string or index representing a column name or index, respectively; (2) a 1-dimensional array of strings and/or indices; or (3) null."),Yr(s)&&(s=gy(0,i.length).map(()=>!0)),se(bu(s),"The second parameter of the `sort` method must be (1) a string or boolean representing the sort direction ('ascending' / 'descending', or true / false); (2) a 1-dimensional array of strings and/or booleans; or (3) null."),se(Tu(s).length===1,"The second parameter of the `sort` method must be (1) a string or boolean representing the sort direction ('ascending' / 'descending', or true / false); (2) a 1-dimensional array of strings and/or booleans; or (3) null."),se(i.length===s.length,"The arrays passed into the `sort` method must be equal in length."),i=i.map(f=>{if(se(Ze(f)||Bt(f),"Column references can either be column names (as strings) or column indices (as whole numbers)."),Ze(f)){let p=u.columns.indexOf(f);return se(p>-1,`The column "${f}" does not exist!`),p}if(Bt(f))return se(parseInt(f)===f,"Column indices must be whole numbers!"),se(f>=0,`The column index ${f} is out of bounds!`),se(f<u.columns.length,`The index ${f} is out of bounds!`),f}),s=s.map(f=>{if(se(Ze(f)||Hr(f),"Direction references can either be strings ('ascending' or 'descending') or booleans (true or false)."),Ze(f)){let p=f.trim().toLowerCase();return se(p==="ascending"||p==="descending","Direction references can either be strings ('ascending' or 'descending') or booleans (true or false)."),p==="ascending"}if(Hr(f))return f}),u.values=Wr(u.values,(f,p)=>{let d=0;for(;f[i[d]]===p[i[d]]&&d<i.length;)d++;let y=s[d];if(f[i[d]]===p[i[d]])return 0;if(f[i[d]]<p[i[d]])return y?-1:1;if(f[i[d]]>p[i[d]])return y?1:-1}),u.index=my(u.get(null,c).values),u=u.dropColumns(c),u}Su.exports=yy});var Kr=q((HT,_u)=>{function wy(t,i){return JSON.stringify(t.toObject(i))}_u.exports=wy});var ku=q((YT,Qr)=>{var Gr=We(),by=Kr();function Ty(t,i,s){let u=by(t,s),c=!1,f=!1,p,d;try{let y=i;if(i.includes("/")){let b=i.split("/");y=b[b.length-1]}let w=document.createElement("a");w.href=`data:application/json;charset=utf-8,${encodeURIComponent(u)}`,w.download=y,w.dispatchEvent(new MouseEvent("click")),c=!0}catch(y){p=y}try{let y=is("fs"),w=is("path");y.writeFileSync(w.resolve(i),u,"utf8"),f=!0}catch(y){d=y}if(!c&&!f)throw typeof window<"u"?new Gr(p):typeof Qr<"u"?new Gr(d):new Gr("I don't know what's going wrong, but it doesn't seem like you're in Node or the browser, and we couldn't download and/or write the file to disk!");return t}Qr.exports=Ty});var Fu=q((WT,Du)=>{var Ny=k(),Sy=j();function Oy(t,i){Sy(i)?i=0:Ny(i===0||i===1,"The axis parameter of the `toObject` method must be undefined, 0, or 1. An axis of 0 indicates that the returned object should be organized first by rows and then by columns. An axis of 1 indicates that the returned object should be organized first by columns and then by rows.");let s={};return i===0?t.index.forEach((u,c)=>{let f={};t.columns.forEach((p,d)=>{f[p]=t.values[c][d]}),s[u]=f}):t.columns.forEach((u,c)=>{let f={};t.index.forEach((p,d)=>{f[p]=t.values[d][c]}),s[u]=f}),s}Du.exports=Oy});var Ve=q((KT,Au)=>{var Eu=k(),_y=F(),ky=z(),Dy=I(),Fy=De(),xu=ft(),Ey=J();function xy(t){if(ky(t)||Dy(t))return t.transpose();Eu(_y(t),"The `transpose` function only works on arrays, Series, and DataFrames!");let i=Ey(t);if(Eu(i.length<=2,"I'm not smart enough to know how to transpose arrays that have more than 2 dimensions. Sorry for the inconvenience! Please only pass 1- or 2-dimensional arrays into the `transpose` function!"),i.length===1)return xu(t);if(i.length===2){let s=Fy(xu(i));for(let u=0;u<i[0];u++)for(let c=0;c<i[1];c++)s[c][u]=t[u][c];return s}}Au.exports=xy});var Lu=q((GT,Ru)=>{var Iu=k(),Ay=F(),Iy=z(),zy=Et(),Ry=I(),Ly=J();function zu(t,i,s){if(Ry(s))return new t(i.values.concat(s.values));if(Ay(s)){let u=Ly(s);Iu(u.length===1&&!zy(u),"Only vectors can be appended to Series!");let c=i.copy();return s.forEach((f,p)=>{c._values.push(f),c._index.push("item"+(i.values.length+p))}),c}return Iu(!Iy(s),"DataFrames cannot be appended to Series!"),zu(i,[s])}Ru.exports=zu});var ju=q((QT,Mu)=>{var My=k(),jy=ne();function Py(t,i){My(jy(i),"The parameter to the `apply` method must be a function.");let s=t.copy();return s._values=s._values.map((u,c)=>i(u,c)),s}Mu.exports=Py});var Cu=q((XT,Pu)=>{var Cy=j();function By(t){let i=t.copy(),s=[];return i._values=i.values.filter((u,c)=>Cy(u)?!1:(s.push(i.index[c]),!0)),i._index=s,i}Pu.exports=By});var Uu=q((ZT,Bu)=>{var Uy=A();function Vy(t,i){let s=[],u=[];i.values.forEach((f,p)=>{Uy(f)&&(u.push(f),s.push(i.index[p]))});let c=new t(u);return c.name=i.name,c.index=s,c}Bu.exports=Vy});var $u=q((eN,Vu)=>{var{copy:$y}=ye();function Jy(t,i,s){let u=i.copy(),c=$y(u.index),f=[],p=u.values.filter((d,y)=>{let w=s(d,y,u.values);return w||f.push(u.index[y]),w});return f.forEach(d=>{c.splice(c.indexOf(d),1)}),p.length===0?(u=new t,u.name=i.name,u):(u.values=p,u.index=c,u)}Vu.exports=Jy});var Hu=q((tN,Ju)=>{var Ae=k(),Hy=A(),Yy=ie(),Wy=j(),Ky=de();function Gy(t,i){(Yy(i)||Hy(i))&&(i=[i]);let s=Ky((i||[]).map(u=>typeof u));return Ae(s.length<=2,"Only whole numbers and/or strings are allowed in `get` arrays!"),s.length===1&&Ae(s[0]==="string"||s[0]==="number","Only whole numbers and/or strings are allowed in `get` arrays!"),s.length===2&&(Ae(s.indexOf("string")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!"),Ae(s.indexOf("number")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!")),Wy(i)||(i=i.map(u=>{if(typeof u=="string")return Ae(t.index.indexOf(u)>-1,`Index "${u}" does not exist!`),u;if(typeof u=="number")return Ae(u>=0,`Index ${u} is out of bounds!`),Ae(parseInt(u)===u,"Indices must be integers!"),Ae(u<t.index.length,`Index ${u} is out of bounds!`),t.index[u]})),t.getSubsetByNames(i)}Ju.exports=Gy});var Wu=q((rN,Yu)=>{var yt=k(),Qy=F(),Xy=j(),Zy=ht(),ev=ue(),tv=J();function rv(t,i){let s=t.shape;Xy(i)&&(i=ev(0,s[0])),yt(Qy(i),"The `indices` array must be 1-dimensional array of whole numbers."),yt(tv(i).length===1,"The `indices` array must be a 1-dimensional array of whole numbers."),yt(i.length>0,"The `indices` array must contain at least one index."),i.forEach(c=>{yt(Zy(c),"The `indices` array must be a 1-dimensional array of whole numbers."),yt(c<t.index.length,`The row index ${c} is out of bounds.`)});let u=i.map(c=>t.index[c]);return t.getSubsetByNames(u)}Yu.exports=rv});var Gu=q((nN,Ku)=>{var vt=k(),nv=F(),iv=ie(),sv=j(),ov=J();function uv(t,i,s){sv(s)&&(s=i.index),vt(nv(s),"The `indices` array must be a 1-dimensional array of strings."),vt(ov(s).length===1,"The `indices` array must be a 1-dimensional array of strings."),vt(s.length>0,"The `indices` array must contain at least one index name."),s.forEach(f=>{vt(iv(f),"The `indices` array must contain only strings."),vt(i.index.indexOf(f)>-1,`The name "${f}" does not exist in the index.`)});let u=s.map(f=>i.values[i.index.indexOf(f)]);if(u.length===1)return u[0];let c=new t(u);return c.index=s,c.name=i.name,c}Ku.exports=uv});var Zu=q((iN,Xu)=>{var{copy:av}=ye(),Qu=ue();function cv(t){let i=t.copy(),s=typeof window>"u"?20:10;if(i.index.length>s){i=i.get(Qu(0,s/2).concat(Qu(i.index.length-s/2,i.index.length)));let c=av(i.index);c.splice(parseInt(c.length/2),0,"..."),i.values.push("..."),i.index.push("..."),i=i.get(c)}let u={};return i.values.forEach((c,f)=>{let p={};p[i.name]=c,u[i.index[f]]=p}),console.table(u),console.log("Shape:",t.shape,`
`),t}Xu.exports=cv});var ta=q((sN,ea)=>{var lv=Pt();function fv(t){let i=t.copy();return i.get(lv(i.index))}ea.exports=fv});var na=q((oN,ra)=>{var hv=k(),pv=ne(),dv=j(),mv=Fe(),gv=Ve();function yv(t,i,s){s=s||((y,w)=>y<w?-1:1),hv(dv(s)||pv(s),"You must pass undefined, null, or a comparison function as the second argument to the `sort` method!");let u=gv([i.values,i.index]),c=mv(u,(y,w)=>s(y[0],w[0])),f=[],p=[];c.forEach(y=>{f.push(y[0]),p.push(y[1])});let d=new t;return d._values=f,d._index=p,d.name=i.name,d}ra.exports=yv});var oa=q((uN,sa)=>{var vv=Fe(),ia=Ve();function qv(t,i){let s=ia([i.values,i.index]);s=ia(vv(s,(c,f)=>{if(c[1]===f[1])return 0;if(c[1]<f[1])return-1;if(c[1]>f[1])return 1}));let u=new t(s[0]);return u.index=s[1],u.name=i.name,u}sa.exports=qv});var aa=q((aN,ua)=>{function wv(t){let i={};return i[t.name]={},t.index.forEach((s,u)=>{i[t.name][s]=t.values[u]}),i}ua.exports=wv});var pa=q((cN,ha)=>{var{copy:Ut}=ye(),Te=k(),Xr=F(),bv=ie(),Tv=j(),ca=Mt(),la=ue(),Vt=ft(),Nv=Lu(),Sv=ju(),Ov=Cu(),_v=Uu(),kv=$u(),Dv=Hu(),Fv=Wu(),Ev=Gu(),xv=Zu(),Av=ta(),Iv=na(),zv=oa(),Rv=aa(),qt=J(),Lv=Ve(),fa=Symbol.for("@jrc03c/js-math-tools/series");ha.exports=function(t){class i{static[Symbol.hasInstance](u){try{return!!u._symbol&&u._symbol===fa}catch{return!1}}constructor(u){let c=this;if(c.name="data",Object.defineProperty(c,"_symbol",{configurable:!1,enumerable:!1,writable:!1,value:fa}),Object.defineProperty(c,"_values",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(c,"values",{configurable:!0,enumerable:!0,get(){return c._values},set(f){Te(Xr(f),"The new values must be a 1-dimensional array!");let p=qt(f);Te(p.length===1,"The new array of values must be 1-dimensional!"),p[0]<c._index.length?c._index=c._index.slice(0,p[0]):p[0]>c._index.length&&(c._index=c._index.concat(la(c._index.length,p[0]).map(d=>"item"+ca(d,(f.length-1).toString().length)))),c._values=f}}),Object.defineProperty(c,"_index",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(c,"index",{configurable:!0,enumerable:!0,get(){return c._index},set(f){Te(Xr(f),"The new index must be a 1-dimensional array of strings!"),Te(f.length===c.shape[0],"The new index must be the same length as the old index!"),Te(qt(f).length===1,"The new index must be a 1-dimensional array of strings!"),f.forEach(p=>{Te(bv(p),"All of the row names must be strings!")}),c._index=f}}),u){if(u instanceof i)c.name=u.name,c.values=Ut(u.values),c.index=Ut(u.index);else if(Xr(u)){let f=qt(u);Te(f.length===1,"When passing an array into the constructor of a Series, the array must be 1-dimensional!"),c.values=u}else if(u instanceof Object){let f=Object.keys(u);Te(f.length===1,"When passing an object into the constructor of a Series, the object must have only 1 key-value pair, where the key is the name of the data and the value is the 1-dimensional array of values!");let p=f[0],d=u[p];Te(qt(d).length===1,"When passing an object into the constructor of a Series, the object must have only 1 key-value pair, where the key is the name of the data and the value is the 1-dimensional array of values!"),c.name=p,c.values=d.slice()}}}get shape(){return qt(this.values)}get length(){return this.shape[0]}get isEmpty(){return this.values.filter(c=>!Tv(c)).length===0}clear(){let c=this.copy();return c.values.forEach((f,p)=>{c.values[p]=void 0}),c}get(u){return Dv(this,u)}getSubsetByNames(u){return Ev(i,this,u)}getSubsetByIndices(u){return Fv(this,u)}loc(u){return this.getSubsetByNames(u)}iloc(u){return this.getSubsetByIndices(u)}reverse(){let u=this,c=new i(Vt(u.values));return c.index=Vt(u.index),c.name=u.name,c}resetIndex(){let u=this,c=u.copy();return c.index=la(0,u.shape[0]).map(f=>"item"+ca(f,(c.index.length-1).toString().length)),c}copy(){let u=this,c=new i;return c._values=Ut(u.values),c._index=Ut(u.index),c.name=u.name,c}append(u){return Nv(i,this,u)}apply(u){return Sv(this,u)}concat(u){return this.append(u)}dropMissing(u,c){return Ov(this,u,c)}dropNaN(){return _v(i,this)}toObject(){return Rv(this)}print(){return xv(this)}shuffle(){return Av(this)}sort(u){return Iv(i,this,u)}sortByIndex(){return zv(i,this)}filter(u){return kv(i,this,u)}toDataFrame(){let u=this,c=new t(Lv([u.values]));return c.columns=[u.name],c.index=u.index,c}transpose(){let c=this.copy();return c.values=Vt(c.values),c.index=Vt(c.index),c}getDummies(){return this.toDataFrame().getDummies()}oneHotEncode(){return this.getDummies()}}return i}});var bt=q((lN,qa)=>{var{copy:Zr}=ye(),ve=k(),da=ct(),Mv=Zs(),jv=io(),Pv=ao(),Cv=lo(),Bv=vo(),Uv=bo(),Vv=Oo(),$v=Fo(),Jv=Ao(),ma=jo(),Hv=Ho(),Yv=Qo(),Wv=Zo(),Kv=ru(),Gv=qu(),Qv=Ou(),Xv=ku(),Zv=Kr(),e1=Fu(),t1=Y(),wt=F(),r1=ke(),ga=j(),en=Mt(),n1=De(),tn=ue(),et=J(),ya=Ve(),va=Symbol.for("@jrc03c/js-math-tools/dataframe");function $t(t){let i="abcdefghijklmnopqrstuvwxyz1234567890",s="";for(let u=0;u<t;u++)s+=i[parseInt(Math.random()*i.length)];return s}var Q=class{static[Symbol.hasInstance](i){try{return!!i._symbol&&i._symbol===va}catch{return!1}}constructor(i){let s=this;if(Object.defineProperty(s,"_symbol",{configurable:!1,enumerable:!1,writable:!1,value:va}),Object.defineProperty(s,"_values",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(s,"values",{configurable:!0,enumerable:!0,get(){return s._values.length===0||!ga(s._values[0])&&s._values[0].length===0?[[]]:s._values},set(u){ve(wt(u),"The new values must be a 2-dimensional array!");let c=et(u);ve(c.length===2,"The new array of values must be 2-dimensional!"),c[0]<s._index.length?s._index=s._index.slice(0,c[0]):c[0]>s._index.length&&(s._index=s._index.concat(tn(s._index.length,c[0]).map(f=>"row"+en(f,(c[0]-1).toString().length)))),c[1]<s._columns.length?s._columns=s._columns.slice(0,c[1]):c[1]>s._columns.length&&(s._columns=s._columns.concat(tn(s._columns.length,c[1]).map(f=>"col"+en(f,(c[1]-1).toString().length)))),s._values=u}}),Object.defineProperty(s,"_columns",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(s,"columns",{configurable:!0,enumerable:!0,get(){return s._columns},set(u){ve(wt(u),"The new columns list must be a 1-dimensional array of strings!"),ve(s.isEmpty||u.length===s.shape[1],"The new columns list must be the same length as the old columns list!"),ve(et(u).length===1,"The new columns list must be a 1-dimensional array of strings!"),u=u.map(f=>(typeof f!="string"&&(f=JSON.stringify(f)||f.toString()),f.trim().length===0?"untitled_"+$t(8):f.trim()));let c=(()=>{let f=da(u),p={};return f.forEach(d=>{p[d.value]=d.count}),p})();u=u.map(f=>c[f]>1?f+"_"+$t(8):f),s._columns=u}}),Object.defineProperty(s,"_index",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(s,"index",{configurable:!0,enumerable:!0,get(){return s._index},set(u){ve(wt(u),"The new index must be a 1-dimensional array of strings!"),ve(s.isEmpty||u.length===s.shape[0],"The new index must be the same length as the old index!"),ve(et(u).length===1,"The new index must be a 1-dimensional array of strings!"),u=u.map(f=>(typeof f!="string"&&(f=JSON.stringify(f)||f.toString()),f.trim().length===0?"untitled_"+$t(8):f.trim()));let c=(()=>{let f=da(u),p={};return f.forEach(d=>{p[d.value]=d.count}),p})();u=u.map(f=>c[f]>1?f+"_"+$t(8):f),s._index=u}}),ve(ga(i)||r1(i)||wt(i),"The `data` passed into the constructor of a DataFrame must be either (1) an object where the key-value pairs are (respectively) column names and 1-dimensional arrays of values, or (2) a 2-dimensional array of values."),i)if(i instanceof Q)s.values=Zr(i.values),s.columns=Zr(i.columns),s.index=Zr(i.index);else if(wt(i)){let u=et(i);ve(u.length===2,"The `data` array passed into the constructor of a DataFrame must be 2-dimensional!"),s.values=i}else{s._columns=Object.keys(i);let u=[];s._columns.forEach(f=>{let p=i[f];u.push(p)}),s._values=ya(u);let c=et(s.values);s._index=tn(0,c[0]).map(f=>"row"+en(f,(c[0]-1).toString().length))}}get shape(){return et(this.values)}get length(){return this.shape[0]}get width(){return this.shape[1]}get rows(){return this.index}set rows(i){let s=this;s.index=i}get isEmpty(){return t1(this.values).length===0}clear(){let i=this,s=new Q(n1(i.shape));return s.columns=i.columns.slice(),s.index=i.index.slice(),s}get(i,s){let u=this;if(arguments.length===0)return u;if(arguments.length===1)try{return u.get(null,i)}catch{return u.get(i,null)}return Jv(u,i,s)}getSubsetByNames(i,s){return Yv(Q,Ie,this,i,s)}getSubsetByIndices(i,s){return Hv(this,i,s)}getDummies(i){return ma(Q,this,i)}oneHotEncode(i){return ma(Q,this,i)}transpose(){let i=this,s=new Q(ya(i.values));return s.columns=i.index.slice(),s.index=i.columns.slice(),s}get T(){return this.transpose()}resetIndex(i){return Kv(this,i)}copy(){return Cv(Q,this)}assign(i,s){return Pv(Q,Ie,this,i,s)}apply(i,s){return jv(Q,Ie,this,i,s)}dropMissing(i,s,u){return Uv(Q,Ie,this,i,s,u)}dropNaN(i,s,u){return Vv(Q,this,i,s,u)}drop(i,s){return Bv(Q,Ie,this,i,s)}dropColumns(i){return this.drop(null,i)}dropRows(i){return this.drop(i,null)}toObject(i){return e1(this,i)}toJSONString(i){return Zv(this,i)}saveAsJSON(i,s){return Xv(this,i,s)}print(){return Wv(Q,Ie,this)}sort(i,s){return Qv(this,i,s)}sortByIndex(){return this.sort()}filter(i,s){return $v(Q,Ie,this,i,s)}shuffle(i){return Gv(this,i)}append(i,s){return Mv(this,i,s)}concat(i,s){return this.append(i,s)}join(i,s){return this.append(i,s)}toString(){return JSON.stringify(this)}},Ie=pa()(Q);qa.exports={DataFrame:Q,Series:Ie}});var tt=q((fN,ba)=>{var i1=k(),s1=Y(),o1=F(),u1=z(),a1=I();function wa(t){if(u1(t)||a1(t))return wa(t.values);i1(o1(t),"The `max` function only works on arrays, Series, and DataFrames!");try{return Math.max(...s1(t))}catch{return NaN}}ba.exports=wa});var V=q((hN,_a)=>{var{DataFrame:Ta,Series:Na}=bt(),Sa=k(),Tt=F(),rn=z(),Oa=pe(),c1=ne(),nn=I(),l1=tt(),f1=ue(),Jt=J();function h1(t){return Tt(t)||nn(t)||rn(t)}function p1(t){return Sa(c1(t),"You must pass a function into the `vectorize` function!"),function i(){let s,u,c=[],f=[],p=Object.keys(arguments).filter(d=>{let y=arguments[d];return Tt(y)?!0:nn(y)?(s=!0,c.push(y),!0):rn(y)?(u=!0,f.push(y),!0):!1}).map(d=>arguments[d]);if(p.slice(0,-1).forEach((d,y)=>{Sa(Oa(Tt(d)?Jt(d):d.shape,Tt(p[y+1])?Jt(p[y+1]):p[y+1].shape),`When passing multiple arrays into the \`${t.name}\` function, all of the arrays must have the same shape!`)}),p.length>0){let d=l1(p.map(w=>w.length?w.length:w.values.length)),y=f1(0,d).map(w=>{let b=Object.keys(arguments).map(E=>{if(h1(arguments[E])){if(Tt(arguments[E]))return arguments[E][w];if(nn(arguments[E]))return arguments[E].values[w];if(rn(arguments[E]))return arguments[E].values[w]}else return arguments[E]});return i(...b)});if(u)try{if(f.length===1&&Oa(Jt(f[0]),Jt(y))){let w=new Ta(y);return w.index=f[0].index.slice(),w.columns=f[0].columns.slice(),w}else return new Ta(y)}catch{return y}if(s)try{if(c.length===1&&c[0].length===y.length){let w=new Na(y);return w.name=c[0].name,w.index=c[0].index.slice(),w}else return new Na(y)}catch{return y}return y}else return t(...arguments)}}_a.exports=p1});var Ht=q((pN,ka)=>{var d1=A(),m1=V();function g1(t){try{return d1(t)?Math.abs(t):NaN}catch{return NaN}}ka.exports=m1(g1)});var Yt=q((dN,Da)=>{var y1=A(),v1=V();function q1(){try{let t=0,i=Object.values(arguments);for(let s=0;s<i.length;s++){if(!y1(i[s]))return NaN;t+=i[s]}return t}catch{return NaN}}Da.exports=v1(q1)});var Nt=q((mN,Fa)=>{var w1=V();function b1(t,i){try{return i(t)}catch{return NaN}}Fa.exports=w1(b1)});var xa=q((gN,Ea)=>{var T1=A(),N1=V();function S1(t){try{return T1(t)?Math.acos(t):NaN}catch{return NaN}}Ea.exports=N1(S1)});var Ia=q((yN,Aa)=>{var O1=A(),_1=V();function k1(t){try{return O1(t)?Math.asin(t):NaN}catch{return NaN}}Aa.exports=_1(k1)});var Ra=q((vN,za)=>{var D1=A(),F1=V();function E1(t){try{return D1(t)?Math.atan(t):NaN}catch{return NaN}}za.exports=F1(E1)});var Ma=q((qN,La)=>{var x1=k(),A1=ut(),I1=F(),z1=z(),R1=I(),L1=tt();function sn(t){if(z1(t)){let i=sn(t.values);return[t.index[i[0]],t.columns[i[1]]]}if(R1(t)){let i=sn(t.values);return[t.index[i]]}x1(I1(t),"The `argmax` function only works on arrays, Series, and DataFrames!");try{let i=A1(t,L1(t));return i?i.length===0?void 0:i.length===1?i[0]:i:void 0}catch{return}}La.exports=sn});var Wt=q((wN,Pa)=>{var M1=k(),j1=Y(),P1=F(),C1=z(),B1=I();function ja(t){if(C1(t)||B1(t))return ja(t.values);M1(P1(t),"The `min` function only works on arrays, Series, and DataFrames!");try{return Math.min(...j1(t))}catch{return NaN}}Pa.exports=ja});var Ba=q((bN,Ca)=>{var U1=k(),V1=ut(),$1=F(),J1=z(),H1=I(),Y1=Wt();function on(t){if(J1(t)){let i=on(t.values);return[t.index[i[0]],t.columns[i[1]]]}if(H1(t)){let i=on(t.values);return[t.index[i]]}U1($1(t),"The `argmin` function only works on arrays, Series, and DataFrames!");try{let i=V1(t,Y1(t));return i?i.length===0?void 0:i.length===1?i[0]:i:void 0}catch{return}}Ca.exports=on});var cn=q((TN,$a)=>{var Ua=F(),un=Ct(),W1=z(),K1=pe(),Va=A(),G1=ke(),Q1=I(),an=j();function Ne(t,i){if(W1(t)||Q1(t))return t.apply(s=>Ne(s,i));if(Ua(t))return t.map(s=>Ne(s,i));if(i==="null")return null;if(i==="number"){if(an(t))return NaN;let s=Ne(t,"boolean");if(un(s))return s?1:0;try{JSON.parse(t)}catch{let f=Ne(t,"date");if(f instanceof Date)return f.getTime()}let u=parseFloat(t);return isNaN(u)?NaN:u}if(i==="boolean"){if(un(t))return t;if(Va(t))return t===0?!1:t===1?!0:null;try{let s=(typeof t=="object"?t.toString()==="null"?"false":JSON.stringify(t):t.toString()).trim().toLowerCase();return s==="true"||s==="yes"||s==="y"?!0:s==="false"||s==="no"||s==="n"?!1:null}catch{return null}}if(i==="date"){if(t instanceof Date)return t;if(an(t))return null;let s=parseFloat(t);if(!isNaN(s)){let c=new Date(t);return c.toString()==="Invalid Date"?null:c}let u=Date.parse(t);return isNaN(u)?null:new Date(u)}if(i==="object"){if(G1(t))return t;let s=Ne(t,"boolean");if(un(s))return null;try{let c=Ne(t,"number");if(Va(c))return JSON.parse(t),null}catch{}let u=Ne(t,"date");if(u)return u;try{let c=JSON.parse(t);return Ua(c)?c.map(f=>Ne(f,i)):c}catch{return null}}if(i==="string")return an(t)?K1(t,void 0)?"undefined":"null":t instanceof Date?t.toJSON():(()=>typeof t=="object"?t===null?"null":JSON.stringify(t):t.toString())()}$a.exports=Ne});var Ha=q((NN,Ja)=>{var X1=A(),Z1=V();function eq(t){try{return X1(t)?Math.ceil(t):NaN}catch{return NaN}}Ja.exports=Z1(eq)});var Ka=q((SN,Wa)=>{var tq=Ht(),Ya=A(),rq=j(),nq=V();function iq(t,i){try{if(!Ya(t))return NaN;if(rq(i))i=1e-10;else if(!Ya(i))return NaN;return tq(t)<i?0:t}catch{return NaN}}Wa.exports=nq(iq)});var Qa=q((ON,Ga)=>{var ln=A(),sq=V();function oq(t,i,s){try{return ln(t)?ln(i)?ln(s)?t<i?i:t>s?s:t:NaN:NaN:NaN}catch{return NaN}}Ga.exports=sq(oq)});var Za=q((_N,Xa)=>{var fn=k(),uq=Y(),aq=F(),cq=z(),lq=A(),fq=I();function hn(t,i){if(cq(t)||fq(t))return hn(t.values,i);if(fn(aq(t),"The `combinations` function only works on arrays, Series, and DataFrames!"),fn(lq(i),"`r` must be a whole number!"),t=uq(t),i>t.length)return[t];if(i<=0)return[[]];if(fn(i===parseInt(i),"`r` must be a whole number!"),t.length<2)return t;let s=[];return t.forEach((u,c)=>{let f=t.slice(c+1);if(f.length<i-1)return;hn(f,i-1).forEach(d=>{s.push([u].concat(d))})}),s}Xa.exports=hn});var Kt=q((kN,tc)=>{var hq=k(),pq=Y(),dq=F(),mq=z(),gq=I();function ec(t){if(mq(t)||gq(t))return ec(t.values);hq(dq(t),"The `mean` function only works on arrays, Series, and DataFrames!");try{let i=pq(t),s=0;return i.forEach(u=>{s+=u}),s/i.length}catch{return NaN}}tc.exports=ec});var dn=q((DN,uc)=>{var rc=k(),nc=F(),Gt=A(),ic=I(),sc=Kt(),oc=J();function pn(t,i){if(ic(t))return pn(t.values,i);if(ic(i))return pn(t,i.values);rc(nc(t)&&nc(i)&&oc(t).length===1&&oc(i).length===1,"The `covariance` function only works on 1-dimensional arrays and Series!"),rc(t.length===i.length,"The two arrays or Series passed into the `covariance` function must have the same length!");try{let s=sc(t),u=sc(i);if(!Gt(s)||!Gt(u))return NaN;let c=Math.max(t.length,i.length),f=0;for(let p=0;p<c;p++){if(!Gt(t[p]))return NaN;if(!Gt(i[p]))return NaN;f+=(t[p]-s)*(i[p]-u)}return f/t.length}catch{return NaN}}uc.exports=pn});var Qt=q((FN,ac)=>{var yq=A(),vq=V();function qq(t){try{return yq(t)?Math.sqrt(t):NaN}catch{return NaN}}ac.exports=vq(qq)});var mn=q((EN,lc)=>{var wq=k(),bq=Y(),Tq=F(),Nq=z(),Sq=A(),Oq=I(),_q=Kt();function cc(t){if(Nq(t)||Oq(t))return cc(t.values);wq(Tq(t),"The `variance` function only works on arrays, Series, and DataFrames!");try{let i=bq(t),s=_q(i),u=0;for(let c=0;c<i.length;c++){if(!Sq(i[c]))return NaN;u+=(i[c]-s)*(i[c]-s)}return u/i.length}catch{return NaN}}lc.exports=cc});var Xt=q((xN,hc)=>{var kq=k(),Dq=F(),Fq=z(),Eq=I(),xq=Qt(),Aq=mn();function fc(t){if(Fq(t)||Eq(t))return fc(t.values);kq(Dq(t),"The `std` function only works on arrays, Series, and DataFrames!");try{return xq(Aq(t))}catch{return NaN}}hc.exports=fc});var qc=q((AN,vc)=>{var pc=k(),Iq=dn(),dc=F(),mc=I(),gc=J(),yc=Xt();function gn(t,i){if(mc(t))return gn(t.values,i);if(mc(i))return gn(t,i.values);pc(dc(t)&&dc(i)&&gc(t).length===1&&gc(i).length===1,"The `correl` function only works on 1-dimensional arrays and Series!"),pc(t.length===i.length,"The two arrays or Series passed into the `correl` function must have the same length!");try{return Iq(t,i)/(yc(t)*yc(i))}catch{return NaN}}vc.exports=gn});var bc=q((IN,wc)=>{var zq=A(),Rq=V();function Lq(t){try{return zq(t)?Math.cos(t):NaN}catch{return NaN}}wc.exports=Rq(Lq)});var Nc=q((zN,Tc)=>{Tc.exports=Object.freeze({boolean:"boolean",date:"date",null:"null",number:"number",object:"object",string:"string"})});var Fc=q((RN,Dc)=>{var Mq=k(),Sc=F(),Oc=z(),jq=pe(),_c=I(),kc=de();function yn(t,i){if(Oc(t)||_c(t))return yn(t.values,i);if(Oc(i)||_c(i))return yn(t,i.values);Mq(Sc(t)&&Sc(i),"The `diff` function only works on arrays, Series, and DataFrames!");let s=kc(t),u=kc(i),c=[];return s.forEach(f=>{u.findIndex(p=>jq(p,f))<0&&c.push(f)}),c}Dc.exports=yn});var Zt=q((LN,xc)=>{var Ec=A(),Pq=V();function Cq(t,i){try{return Ec(t)?Ec(i)?Math.pow(t,i):NaN:NaN}catch{return NaN}}xc.exports=Pq(Cq)});var vn=q((MN,Ac)=>{var Bq=A(),Uq=V();function Vq(){try{let t=Object.values(arguments);if(t.length===0)return NaN;let i=1;for(let s=0;s<t.length;s++){if(!Bq(t[s]))return NaN;i*=t[s]}return i}catch{return NaN}}Ac.exports=Uq(Vq)});var rt=q((jN,Ic)=>{var $q=vn();function Jq(){return $q(...arguments)}Ic.exports=Jq});var qn=q((PN,zc)=>{var Hq=Yt(),Yq=rt();function Wq(t,i){return Hq(t,Yq(i,-1))}zc.exports=Wq});var er=q((CN,Lc)=>{var Kq=k(),Gq=Y(),Qq=F(),Xq=z(),Zq=I();function Rc(t){if(Xq(t)||Zq(t))return Rc(t.values);Kq(Qq(t),"The `sum` function only works on arrays, Series, and DataFrames!");try{return t.length===0?NaN:Gq(t).reduce((i,s)=>i+s,0)}catch{return NaN}}Lc.exports=Rc});var Vc=q((BN,Uc)=>{var e0=Ht(),t0=k(),Mc=F(),jc=z(),r0=pe(),Pc=A(),Cc=I(),n0=Zt(),Bc=J(),i0=Qt(),s0=qn(),o0=er();function wn(t,i){if(Pc(t)&&Pc(i))return e0(t-i);if(jc(t)||Cc(t))return wn(t.values,i);if(jc(i)||Cc(i))return wn(t,i.values);Mc(t)&&Mc(i)&&t0(r0(Bc(t),Bc(i)),"If passing two arrays, Series, or DataFrames into the `distance` function, then those objects must have the same shape!");try{return i0(o0(n0(s0(t,i),2)))}catch{return NaN}}Uc.exports=wn});var Jc=q((UN,$c)=>{var u0=Zt(),a0=rt();function c0(t,i){return a0(t,u0(i,-1))}$c.exports=c0});var Tn=q((VN,Qc)=>{var{DataFrame:Hc,Series:Yc}=bt(),tr=k(),Wc=Y(),Kc=F(),bn=z(),l0=A(),rr=I(),f0=rt(),nr=J(),h0=er(),Gc=Ve();function ze(t,i){if(bn(t)){let c=ze(t.values,i);if(nr(c).length===1){let f=new Yc(c);return f.name=rr(i)?i.name:f.name,f.index=t.index.slice(),f}else{let f=new Hc(c);return f.index=t.index.slice(),bn(i)&&(f.columns=i.columns.slice()),f}}if(bn(i)){let c=ze(t,i.values);if(nr(c).length===1){let f=new Yc(c);return f.name=rr(t)?t.name:f.name,f.index=i.columns.slice(),f}else{let f=new Hc(c);return f.columns=i.columns.slice(),f}}if(rr(t))return ze(t.values,i);if(rr(i))return ze(t,i.values);tr(Kc(t)&&Kc(i),"The `dot` function only works on arrays, Series, and DataFrames!"),Wc(t).concat(Wc(i)).forEach(c=>{tr(l0(c),"One of the arrays you passed into the `dot` function contains non-numerical values!")});let s=nr(t),u=nr(i);if(tr(s.length<=2&&u.length<=2,"I'm not smart enough to know how to get the dot-product of arrays that have more than 2 dimensions. Sorry for the inconvenience! Please only pass 1- or 2-dimensional arrays into the `dot` function!"),tr(s[s.length-1]===u[0],`There's a dimension misalignment in the two arrays you passed into the \`dot\` function. (${s[s.length-1]} !== ${u[0]})`),s.length===1&&u.length===1)return h0(f0(t,i));if(s.length===1&&u.length===2)return Gc(i).map(c=>ze(t,c));if(s.length===2&&u.length===1)return t.map(c=>ze(c,i));if(s.length===2&&u.length===2){let c=Gc(i),f=[];for(let p=0;p<t.length;p++){let d=[];for(let y=0;y<c.length;y++)d.push(ze(t[p],c[y]));f.push(d)}return f}}Qc.exports=ze});var Nn=q(($N,Zc)=>{var p0=k(),d0=F(),m0=z(),g0=I(),y0=j();function Xc(t){if(m0(t)||g0(t))return t.dropMissing(...Object.values(arguments).slice(1));p0(d0(t),"The `dropMissing` function only works on arrays, Series, and DataFrames!");let i=[];return t.forEach(s=>{try{return i.push(Xc(s))}catch{y0(s)||i.push(s)}}),i}Zc.exports=Xc});var ul=q((JN,ol)=>{var el=k(),tl=F(),rl=z(),v0=pe(),nl=I(),il=j(),sl=J();function ir(t,i){if(rl(t)||nl(t))return ir(t.values,i);if(rl(i)||nl(i))return ir(t,i.values);el(tl(t)&&tl(i),"The `dropMissingPairwise` function only works on arrays, Series, and DataFrames!"),el(v0(sl(t),sl(i)),"The two arrays, Series, and/or DataFrames passed into the `dropMissingPairwise` function must have the same shape!");let s=[],u=[];for(let c=0;c<t.length;c++)try{let[f,p]=ir(t[c],i[c]);s.push(f),u.push(p)}catch{!il(t[c])&&!il(i[c])&&(s.push(t[c]),u.push(i[c]))}return[s,u]}ol.exports=ir});var ml=q((HN,dl)=>{var al=k(),cl=F(),ll=z(),q0=pe(),fl=A(),hl=I(),pl=J();function sr(t,i){if(ll(t)||hl(t))return sr(t.values,i);if(ll(i)||hl(i))return sr(t,i.values);al(cl(t)&&cl(i),"The `dropNaNPairwise` only works on arrays, Series, and DataFrames!"),al(q0(pl(t),pl(i)),"The two arrays, Series, and/or DataFrames passed into the `dropNaNPairwise` must have the same shape!");let s=[],u=[];for(let c=0;c<t.length;c++)try{let[f,p]=sr(t[c],i[c]);s.push(f),u.push(p)}catch{fl(t[c])&&fl(i[c])&&(s.push(t[c]),u.push(i[c]))}return[s,u]}dl.exports=sr});var yl=q((YN,gl)=>{var w0=Nn();function b0(t){return w0(t)}gl.exports=b0});var ql=q((WN,vl)=>{var T0=A(),N0=V();function S0(t){try{return T0(t)?Math.exp(t):NaN}catch{return NaN}}vl.exports=N0(S0)});var Tl=q((KN,bl)=>{var O0=V();function wl(t){try{return t!==parseInt(t)?NaN:t<=1?1:t*wl(t-1)}catch{return NaN}}bl.exports=O0(wl)});var _l=q((GN,Ol)=>{var _0=k(),k0=Y(),Nl=F(),D0=z(),F0=ne(),Sl=ke(),E0=I();function Sn(t,i){if(D0(t))return Sn(k0(t.values),i);if(E0(t))return Sn(t.values,i);if(_0(Sl(t)||Nl(t),"You must pass (1) an object, array, Series, or DataFrame and (2) a function or value into the `find` function!"),!F0(i)){let c=i;i=f=>f===c}function s(c,f,p){if(p=p||[],p.indexOf(c)>-1)return null;if(Sl(c)){p.push(c);let d=Object.keys(c);for(let y=0;y<d.length;y++){let w=d[y],b=c[w];if(f(b))return b;let E=s(b,f,p);if(E)return E}}else if(Nl(c)){p.push(c);for(let d=0;d<c.length;d++){let y=c[d];if(f(y))return y;let w=s(y,f,p);if(w)return w}}else if(f(c))return c;return null}function u(c){try{return i(c)}catch{return!1}}return s(t,u)}Ol.exports=Sn});var El=q((QN,Fl)=>{var x0=k(),A0=Y(),kl=F(),I0=z(),z0=ne(),Dl=ke(),R0=I();function On(t,i){if(I0(t))return On(A0(t.values),i);if(R0(t))return On(t.values,i);if(x0(Dl(t)||kl(t),"You must pass (1) an object, array, Series, or DataFrame and (2) a function or value into the `findAll` function!"),!z0(i)){let f=i;i=p=>p===f}function s(f,p,d){if(d=d||[],d.indexOf(f)>-1)return null;if(Dl(f)){d.push(f);let y=Object.keys(f),w=[];for(let b=0;b<y.length;b++){let E=y[b],x=f[E],$=!1;p(x)&&(w.push(x),$=!0);let K=s(x,p,d);K&&K.length>0&&K.slice($?1:0).forEach(C=>w.push(C))}return w}else if(kl(f)){d.push(f);let y=[];for(let w=0;w<f.length;w++){let b=f[w],E=!1;p(b)&&(y.push(b),E=!0);let x=s(b,p,d);x&&x.length>0&&x.slice(E?1:0).forEach($=>y.push($))}return y}else if(p(f))return[f];return null}function u(f){try{return i(f)}catch{return!1}}let c=s(t,u);return c&&c.length>0?c:null}Fl.exports=On});var Al=q((XN,xl)=>{var L0=A(),M0=V();function j0(t){try{if(t==="Infinity")return 1/0;if(t==="-Infinity")return-1/0;let i=JSON.parse(t);return L0(i)?i:NaN}catch{return NaN}}xl.exports=M0(j0)});var zl=q((ZN,Il)=>{var P0=A(),C0=V();function B0(t){try{return P0(t)?Math.floor(t):NaN}catch{return NaN}}Il.exports=C0(B0)});var _n=q((eS,Rl)=>{var U0=A(),V0=mt(),$0=jt();function J0(t){U0(t)&&(t=[t]);let i=[],s=V0(t);for(let u=0;u<s;u++)i.push(0);return $0(i,t)}Rl.exports=J0});var Ml=q((tS,Ll)=>{var or=k(),H0=A(),Y0=j(),W0=_n();function K0(t){or(!Y0(t),"You must pass an integer greater than 0 (representing the size) into the `identity` function!"),or(H0(t),"You must pass an integer greater than 0 (representing the size) into the `identity` function!"),or(parseInt(t)===t,"You must pass an integer greater than 0 (representing the size) into the `identity` function!"),or(t>0,"You must pass an integer greater than 0 (representing the size) into the `identity` function!");let i=W0([t,t]);for(let s=0;s<t;s++)i[s][s]=1;return i}Ll.exports=K0});var Pl=q((rS,jl)=>{jl.exports=["true","false","yes","no"]});var Bl=q((nS,Cl)=>{Cl.exports=["null","none","nan","na","n/a","","undefined"]});var Jl=q((iS,$l)=>{var G0=Nt(),Q0=k(),X0=Pl(),Z0=cn(),ew=ct(),Ul=Y(),kn=F(),tw=z(),Vl=A(),rw=I(),nw=ie(),iw=Bl();function ur(t){return t.type==="number"&&(typeof t.value<"u"?t.isInteger=parseInt(t.value)===t.value:t.isInteger=Ul(t.values).every(i=>Vl(i)?parseInt(i)===i:!0)),t}function ar(t){if(tw(t)){let c=t.copy(),f=ar(t.values);return c.values=f.values,ur({type:f.type,values:c})}if(rw(t)){let c=t.copy(),f=ar(t.values);return c.values=f.values,ur({type:f.type,values:c})}if(!kn(t)){let c=ar([t]);return c.value=c.values[0],delete c.values,ur(c)}Q0(kn(t),"The `inferType` function only works on arrays, Series, and DataFrames!");let i=Ul(t).map(c=>{if(c===void 0)return"null";try{if(typeof c=="object"){let d=new Date(c.toString());if(d instanceof Date&&d.toString()!=="Invalid Date")return"date"}}catch{}nw(c)||(c=JSON.stringify(c));let p=c.toLowerCase().trim();if(iw.indexOf(p)>-1)return"null";if(X0.indexOf(p)>-1)return"boolean";try{let d=JSON.parse(c);return Vl(d)?"number":typeof d=="object"?kn(d)?"string":"object":"string"}catch{return new Date(c).toString()!=="Invalid Date"?"date":"string"}}),u=ew(i).sort((c,f)=>f.count-c.count)[0].value;return ur({type:u,values:G0(t,c=>Z0(c,u))})}$l.exports=ar});var Yl=q((sS,Hl)=>{var sw=A(),ow=V();function uw(t){try{let i=JSON.parse(t);return sw(i)?parseInt(i):NaN}catch{return NaN}}Hl.exports=ow(uw)});var Kl=q((oS,Wl)=>{var aw=k(),cw=F(),lw=z(),fw=pe(),hw=I(),Dn=de();function pw(){let t=Object.values(arguments).map(s=>lw(s)||hw(s)?Dn(s.values):(aw(cw(s),"The `intersect` function only works on arrays, Series, and DataFrames!"),Dn(s)));return Dn(t).filter(s=>t.every(u=>u.findIndex(c=>fw(c,s))>-1))}Wl.exports=pw});var Zl=q((uS,Xl)=>{var Gl=Yt(),Re=k(),dw=Tn(),mw=Y(),gw=F(),yw=z(),Fn=A(),Ql=rt(),vw=J();function cr(t){if(yw(t)){let s=t.copy();return s.values=cr(s.values),s}Re(gw(t),"The `inverse` function only works on square 2-dimensional arrays or DataFrames!"),mw(t).forEach(s=>Re(Fn(s),"The array passed into the `inverse` function must contain only numbers!"));let i=vw(t);if(Re(i.length===2,"The array passed into the `inverse` function must be exactly two-dimensional and square!"),Re(i[0]===i[1],"The array passed into the `inverse` function must be exactly two-dimensional and square!"),Re(i[0]>=0,"The array passed into the `inverse` function must be exactly two-dimensional and square!"),i[0]===0)return t;if(i[0]===1)return Re(t[0][0]!==0,"This matrix cannot be inverted!"),1/t[0][0];if(i[0]===2){let s=t[0][0],u=t[0][1],c=t[1][0],f=t[1][1],p=s*f-u*c;Re(p!==0,"This matrix cannot be inverted!");let d=[[f,-u],[-c,s]];return Ql(d,1/p)}else if(i[0]>1){let s=(u,c)=>Fn(u)||Fn(c)?Ql(u,c):dw(u,c);for(let u=1;u<i[0]-1;u++)try{let c=t.slice(0,u).map(C=>C.slice(0,u)),f=t.slice(0,u).map(C=>C.slice(u,i[0])),p=t.slice(u,i[0]).map(C=>C.slice(0,u)),d=t.slice(u,i[0]).map(C=>C.slice(u,i[0])),y=cr(c),w=cr(Gl(d,s(-1,s(s(p,y),f)))),b=Gl(y,s(s(s(s(y,f),w),p),y)),E=s(-1,s(s(y,f),w)),x=s(-1,s(s(w,p),y)),$=w;return b.map((C,$e)=>C.concat(E[$e])).concat(x.map((C,$e)=>C.concat($[$e])))}catch{}Re(!1,"This matrix cannot be inverted!")}}Xl.exports=cr});var tf=q((aS,ef)=>{var qw=new Function(`
    try {
      return this === window
    } catch(e) {}

    try {
      return !!importScripts
    } catch(e){}

    return false
  `);ef.exports=qw});var nf=q((cS,rf)=>{var En=A(),ww=V();function bw(t,i,s){try{return En(t)?En(i)?En(s)?s*(i-t)+t:NaN:NaN:NaN}catch{return NaN}}rf.exports=ww(bw)});var uf=q((lS,of)=>{var sf=A(),Tw=j(),Nw=V();function Sw(t,i){try{return i=Tw(i)?Math.E:i,sf(t)?sf(i)?Math.log(t)/Math.log(i):NaN:NaN}catch{return NaN}}of.exports=Nw(Sw)});var lf=q((fS,cf)=>{var Ow=k(),_w=Y(),kw=F(),Dw=z(),Fw=I(),Ew=Fe();function af(t){if(Dw(t)||Fw(t))return af(t.values);Ow(kw(t),"The `median` function only works on arrays, Series, and DataFrames!");try{let i=Ew(_w(t));return i.length===0?NaN:i.length%2===0?(i[i.length/2-1]+i[i.length/2])/2:i[parseInt(i.length/2)]}catch{return NaN}}cf.exports=af});var pf=q((hS,hf)=>{var ff=A(),xw=V();function Aw(t,i){try{return ff(t)?ff(i)?t%i:NaN:NaN}catch{return NaN}}hf.exports=xw(Aw)});var yf=q((pS,gf)=>{var Iw=k(),zw=ct(),Rw=Y(),Lw=F(),Mw=z(),jw=I(),Pw=de(),df=Fe();function mf(t){if(Mw(t)||jw(t))return mf(t.values);Iw(Lw(t),"The `mode` function only works on arrays, Series, and DataFrames!");try{if(t.length===0)return NaN;let i=Rw(t);if(i.length===0)return NaN;let s={},u=Pw(i);u.forEach(d=>{s[d]=zw(i,d)});let c=df(u,(d,y)=>s[y]-s[d]),f=c[0];return df(c.filter(d=>s[d]===s[f]))}catch{return NaN}}gf.exports=mf});var bf=q((dS,wf)=>{var{random:vf}=Xe(),Cw=Nt(),Bw=j(),Uw=De();function qf(){let t=vf(),i=vf();return Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*i)}function Vw(t){return Bw(t)?qf():Cw(Uw(t),qf)}wf.exports=Vw});var Nf=q((mS,Tf)=>{var $w=Nt(),Jw=De();function Hw(t){return $w(Jw(t),()=>1)}Tf.exports=Hw});var Of=q((gS,Sf)=>{var xn=k(),Yw=Y(),Ww=F(),Kw=z(),Gw=A(),Qw=I(),Xw=j();function lr(t,i){if(Kw(t)||Qw(t))return lr(t.values,i);if(xn(Ww(t),"The `permutations` function only works on arrays, Series, and DataFrames!"),Xw(i)&&(i=t.length),xn(Gw(i),"`r` must be a whole number!"),t=Yw(t),i>t.length)return lr(t);if(i<=0)return[[]];if(xn(i===parseInt(i),"`r` must be a whole number!"),t.length<2)return t;let s=[];return t.forEach((u,c)=>{let f=t.slice(0,c),p=t.slice(c+1),d=f.concat(p);lr(d,i-1).forEach(w=>{s.push([u].concat(w))})}),s}Sf.exports=lr});var kf=q((yS,_f)=>{var{DataFrame:Zw,Series:eb}=bt(),tb=F(),rb=z(),nb=lt(),ib=I(),sb=J();function ob(){Object.keys(arguments).forEach(t=>{let i=arguments[t];if(tb(i))if(nb(i))console.log(i);else{let s=sb(i);s.length===1?new eb(i).print():s.length==2?new Zw(i).print():console.log(i)}else rb(i)||ib(i)?i.print():console.log(i)})}_f.exports=ob});var Ef=q((vS,Ff)=>{var ub=F(),ab=A(),Df=j(),cb=tt(),lb=Wt(),fb=V(),hb=fb(function(t,i,s,u,c){try{return[t,i,s,u,c].every(f=>ab(f))?s-i===0?NaN:(c-u)*(t-i)/(s-i)+u:NaN}catch{return NaN}});function pb(t,i,s,u,c){return ub(t)&&Df(u)&&Df(c)&&(u=i,c=s,i=lb(t),s=cb(t)),hb(t,i,s,u,c)}Ff.exports=pb});var Af=q((qS,xf)=>{var db=A(),mb=V();function gb(t){try{return db(t)?Math.round(t):NaN}catch{return NaN}}xf.exports=mb(gb)});var zf=q((wS,If)=>{var yb=A(),vb=V();function qb(t){try{return yb(t)?t<0?-1:t>0?1:0:NaN}catch{return NaN}}If.exports=vb(qb)});var Lf=q((bS,Rf)=>{var wb=A(),bb=V();function Tb(t){try{return wb(t)?Math.sin(t):NaN}catch{return NaN}}Rf.exports=bb(Tb)});var jf=q((TS,Mf)=>{var Nb=Xt();function Sb(t){return Nb(t)}Mf.exports=Sb});var Cf=q((NS,Pf)=>{var Ob=A(),_b=V();function kb(t){try{return Ob(t)?Math.tan(t):NaN}catch{return NaN}}Pf.exports=_b(kb)});var fr=q((SS,Vf)=>{var Bf=k(),Uf=ne();function Db(t,i){Bf(Uf(t),"`fn` must be a function!");let s=new Date;return i?t(...i):t(),new Date-s}async function Fb(t,i){Bf(Uf(t),"`fn` must be a function!");let s=new Date;return i?await t(...i):await t(),new Date-s}Vf.exports={timeSync:Db,timeAsync:Fb}});var Jf=q((OS,$f)=>{var Eb=F(),xb=z(),Ab=I(),Ib=de();function zb(){return Ib([...arguments].map(t=>Eb(t)?t:xb(t)||Ab(t)?t.values:[t]))}$f.exports=zb});var Yf=q((_S,Hf)=>{var Rb=k(),Lb=F(),Mb=z(),jb=I(),Pb=j(),Cb=tt(),Bb=ue();function Ub(){let t=[],i=Object.values(arguments).map(s=>((Mb(s)||jb(s))&&(s=s.values),Rb(Lb(s),"The `zip` function only works on arrays, Series, and DataFrames!"),s));return Bb(0,Cb(i.map(s=>s.length))).forEach(s=>{let u=[];i.forEach(c=>{let f=c[s];u.push(Pb(f)?void 0:f)}),t.push(u)}),t}Hf.exports=Ub});var Wf=q((kS,An)=>{var{copy:Vb,decycle:$b}=ye(),{DataFrame:Jb,Series:Hb}=bt(),nt={abs:Ht(),add:Yt(),apply:Nt(),arccos:xa(),arcsin:Ia(),arctan:Ra(),argmax:Ma(),argmin:Ba(),assert:k(),cast:cn(),ceil:Ha(),chop:Ka(),clamp:Qa(),combinations:Za(),copy:Vb,correl:qc(),cos:bc(),count:ct(),covariance:dn(),DataFrame:Jb,dataTypes:Nc(),decycle:$b,diff:Fc(),distance:Vc(),divide:Jc(),dot:Tn(),dropMissing:Nn(),dropMissingPairwise:ul(),dropNaN:Ur(),dropNaNPairwise:ml(),dropUndefined:yl(),exp:ql(),factorial:Tl(),find:_l(),findAll:El(),flatten:Y(),float:Al(),floor:zl(),identity:Ml(),indexOf:ut(),inferType:Jl(),int:Yl(),intersect:Kl(),inverse:Zl(),isArray:F(),isBoolean:Ct(),isBrowser:tf(),isDataFrame:z(),isEqual:pe(),isFunction:ne(),isJagged:lt(),isNested:Et(),isNumber:A(),isObject:ke(),isSeries:I(),isString:ie(),isUndefined:j(),lerp:nf(),log:uf(),MathError:We(),max:tt(),mean:Kt(),median:lf(),min:Wt(),mod:pf(),mode:yf(),multiply:vn(),ndarray:De(),normal:bf(),ones:Nf(),permutations:Of(),pow:Zt(),print:kf(),product:mt(),random:Xe().random,range:ue(),remap:Ef(),reshape:jt(),reverse:ft(),round:Af(),scale:rt(),seed:Xe().seed,Series:Hb,set:de(),shape:J(),shuffle:Pt(),sign:zf(),sin:Lf(),sort:Fe(),sqrt:Qt(),std:Xt(),stdev:jf(),subtract:qn(),sum:er(),tan:Cf(),time:fr().timeSync,timeSync:fr().timeSync,timeAsync:fr().timeAsync,transpose:Ve(),union:Jf(),variance:mn(),vectorize:V(),zeros:_n(),zip:Yf(),dump:function(){let t=typeof global<"u"?global:window;if(!t)throw new nt.MathError("Cannot dump functions into global scope because neither `global` nor `window` exist in the current context!");Object.keys(nt).forEach(i=>{try{Object.defineProperty(t,i,{configurable:!1,enumerable:!0,writable:!1,value:nt[i]})}catch{t[i]=nt[i]}})}};typeof An<"u"&&(An.exports=nt);typeof window<"u"&&(window.JSMathTools=nt)});var Gf=q((hr,Kf)=>{(function(t,i){typeof hr=="object"&&typeof Kf<"u"?i(hr):typeof define=="function"&&define.amd?define(["exports"],i):(t=t||self,i(t.liquidjs={}))})(hr,function(t){"use strict";var i=function(e,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},i(e,r)};function s(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");i(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var u=function(){return u=Object.assign||function(r){for(var n,o=1,a=arguments.length;o<a;o++){n=arguments[o];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(r[l]=n[l])}return r},u.apply(this,arguments)};function c(e,r,n,o){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function m(T){try{v(o.next(T))}catch(N){h(N)}}function g(T){try{v(o.throw(T))}catch(N){h(N)}}function v(T){T.done?l(T.value):a(T.value).then(m,g)}v((o=o.apply(e,r||[])).next())})}function f(e,r){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,a,l,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(v){return function(T){return g([v,T])}}function g(v){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(n=0)),n;)try{if(o=1,a&&(l=v[0]&2?a.return:v[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,v[1])).done)return l;switch(a=0,l&&(v=[v[0]&2,l.value]),v[0]){case 0:case 1:l=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!l||v[1]>l[0]&&v[1]<l[3])){n.label=v[1];break}if(v[0]===6&&n.label<l[1]){n.label=l[1],l=v;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(v);break}l[2]&&n.ops.pop(),n.trys.pop();continue}v=r.call(e,n)}catch(T){v=[6,T],a=0}finally{o=l=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}function p(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var o=n.call(e),a,l=[],h;try{for(;(r===void 0||r-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(m){h={error:m}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(h)throw h.error}}return l}function y(e,r,n){if(n||arguments.length===2)for(var o=0,a=r.length,l;o<a;o++)(l||!(o in r))&&(l||(l=Array.prototype.slice.call(r,0,o)),l[o]=r[o]);return e.concat(l||Array.prototype.slice.call(r))}var w=function(){function e(r,n,o,a,l){this.kind=r,this.input=n,this.begin=o,this.end=a,this.file=l}return e.prototype.getText=function(){return this.input.slice(this.begin,this.end)},e.prototype.getPosition=function(){for(var r=d([1,1],2),n=r[0],o=r[1],a=0;a<this.begin;a++)this.input[a]===`
`?(n++,o=1):o++;return[n,o]},e.prototype.size=function(){return this.end-this.begin},e}(),b=function(){function e(){}return e.prototype.liquidMethodMissing=function(r){},e}(),E=Object.prototype.toString,x=String.prototype.toLowerCase,$=Object.hasOwnProperty;function K(e){return typeof e=="string"}function C(e){return typeof e=="function"}function $e(e){return e&&C(e.then)}function Le(e){return e&&C(e.next)&&C(e.throw)&&C(e.return)}function Ln(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function R(e){return e=L(e),K(e)?e:me(e)?"":X(e)?e.map(function(r){return R(r)}).join(""):String(e)}function L(e){return e instanceof b&&C(e.valueOf)?e.valueOf():e}function St(e){return typeof e=="number"}function Mn(e){return e&&C(e.toLiquid)?Mn(e.toLiquid()):e}function me(e){return e==null}function X(e){return E.call(e)==="[object Array]"}function Zf(e){return pr(e)&&Symbol.iterator in e}function jn(e,r){e=e||{};for(var n in e)if($.call(e,n)&&r(e[n],n,e)===!1)break;return e}function Pn(e){return e[e.length-1]}function pr(e){var r=typeof e;return e!==null&&(r==="object"||r==="function")}function Cn(e,r,n){n===void 0&&(n=1);for(var o=[],a=e;a<r;a+=n)o.push(a);return o}function it(e,r,n){return n===void 0&&(n=" "),Bn(e,r,n,function(o,a){return a+o})}function eh(e,r,n){return n===void 0&&(n=" "),Bn(e,r,n,function(o,a){return o+a})}function Bn(e,r,n,o){e=String(e);for(var a=r-e.length;a-- >0;)e=o(e,n);return e}function Un(e){return e}function th(e){var r=y([],d(e),!1).some(function(n){return n>="a"&&n<="z"});return r?e.toUpperCase():e.toLowerCase()}function rh(e,r){return e.length>r?e.slice(0,r-3)+"...":e}function Vn(e,r){return e==null&&r==null?0:e==null?1:r==null||(e=x.call(e),r=x.call(r),e<r)?-1:e>r?1:0}function oe(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.apply(void 0,y([],d(r.map(L)),!1))}}function dr(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var Je=function(e){s(r,e);function r(n,o){var a=e.call(this,typeof n=="string"?n:n.message)||this;return a.context="",typeof n!="string"&&Object.defineProperty(a,"originalError",{value:n,enumerable:!1}),Object.defineProperty(a,"token",{value:o,enumerable:!1}),a}return r.prototype.update=function(){Object.defineProperty(this,"context",{value:ih(this.token),enumerable:!1}),this.message=sh(this.message,this.token),this.stack=this.message+`
`+this.context+`
`+this.stack,this.originalError&&(this.stack+=`
From `+this.originalError.stack)},r}(Error),$n=function(e){s(r,e);function r(n,o){var a=e.call(this,n,o)||this;return a.name="TokenizationError",e.prototype.update.call(a),a}return r}(Je),Jn=function(e){s(r,e);function r(n,o){var a=e.call(this,n,o)||this;return a.name="ParseError",a.message=n.message,e.prototype.update.call(a),a}return r}(Je),mr=function(e){s(r,e);function r(n,o){var a=e.call(this,n,o.token)||this;return a.name="RenderError",a.message=n.message,e.prototype.update.call(a),a}return r.is=function(n){return n.name==="RenderError"},r}(Je),Hn=function(e){s(r,e);function r(n,o){var a=e.call(this,n,o)||this;return a.name="UndefinedVariableError",a.message=n.message,e.prototype.update.call(a),a}return r}(Je),nh=function(e){s(r,e);function r(n){var o=e.call(this,"undefined variable: ".concat(n))||this;return o.name="InternalUndefinedVariableError",o.variableName=n,o}return r}(Error),Yn=function(e){s(r,e);function r(n){var o=e.call(this,n)||this;return o.name="AssertionError",o.message=n+"",o}return r}(Error);function ih(e){var r=d(e.getPosition(),2),n=r[0],o=r[1],a=e.input.split(`
`),l=Math.max(n-2,1),h=Math.min(n+3,a.length),m=Cn(l,h+1).map(function(g){var v=g===n?">> ":"   ",T=it(String(g),String(h).length),N="".concat(v).concat(T,"| "),S=g===n?`
`+it("^",o+N.length):"";return N+=a[g-1],N+=S,N}).join(`
`);return m}function sh(e,r){r.file&&(e+=", file:".concat(r.file));var n=d(r.getPosition(),2),o=n[0],a=n[1];return e+=", line:".concat(o,", col:").concat(a),e}var U=[0,0,0,0,0,0,0,0,0,20,4,4,4,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,2,8,0,0,0,0,8,0,0,0,64,0,65,0,0,33,33,33,33,33,33,33,33,33,33,0,0,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],gr=1,He=4,Wn=8,Kn=16,oh=32,uh=64;U[160]=U[5760]=U[6158]=U[8192]=U[8193]=U[8194]=U[8195]=U[8196]=U[8197]=U[8198]=U[8199]=U[8200]=U[8201]=U[8202]=U[8232]=U[8233]=U[8239]=U[8287]=U[12288]=He;function ae(e,r){if(!e){var n=typeof r=="function"?r():r||"expect ".concat(e," to be true");throw new Yn(n)}}var ah=function(e){s(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.equals=function(n){return me(L(n))},r.prototype.gt=function(){return!1},r.prototype.geq=function(){return!1},r.prototype.lt=function(){return!1},r.prototype.leq=function(){return!1},r.prototype.valueOf=function(){return null},r}(b),Gn=function(e){s(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.equals=function(n){return n instanceof r?!1:(n=L(n),K(n)||X(n)?n.length===0:pr(n)?Object.keys(n).length===0:!1)},r.prototype.gt=function(){return!1},r.prototype.geq=function(){return!1},r.prototype.lt=function(){return!1},r.prototype.leq=function(){return!1},r.prototype.valueOf=function(){return""},r}(b),ch=function(e){s(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.equals=function(n){return n===!1||me(L(n))?!0:K(n)?/^\s*$/.test(n):e.prototype.equals.call(this,n)},r}(Gn),yr=function(e){s(r,e);function r(n,o,a){var l=e.call(this)||this;return l.i=0,l.length=n,l.name="".concat(a,"-").concat(o),l}return r.prototype.next=function(){this.i++},r.prototype.index0=function(){return this.i},r.prototype.index=function(){return this.i+1},r.prototype.first=function(){return this.i===0},r.prototype.last=function(){return this.i===this.length-1},r.prototype.rindex=function(){return this.length-this.i},r.prototype.rindex0=function(){return this.length-this.i-1},r.prototype.valueOf=function(){return JSON.stringify(this)},r}(b),Qn=function(e){s(r,e);function r(n){n===void 0&&(n=function(){return""});var o=e.call(this)||this;return o.superBlockRender=n,o}return r.prototype.super=function(){return this.superBlockRender()},r}(b);function le(e){return e&&C(e.equals)}var Xn=new ah,Zn={true:!0,false:!1,nil:Xn,null:Xn,empty:new Gn,blank:new ch};function ei(e){var r,n,o={};try{for(var a=p(Object.entries(e)),l=a.next();!l.done;l=a.next()){for(var h=d(l.value,2),m=h[0],g=h[1],v=o,T=0;T<m.length;T++){var N=m[T];v[N]=v[N]||{},T===m.length-1&&U[m.charCodeAt(T)]&gr&&(v[N].needBoundary=!0),v=v[N]}v.handler=g,v.end=!0}}catch(S){r={error:S}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}function qe(e){return c(this,void 0,void 0,function(){var r,n,o,a,l;return f(this,function(h){switch(h.label){case 0:if(!Le(e))return[2,e];n=!1,o="next",h.label=1;case 1:a=e[o](r),n=a.done,r=a.value,o="next",h.label=2;case 2:return h.trys.push([2,5,,6]),Le(r)&&(r=qe(r)),$e(r)?[4,r]:[3,4];case 3:r=h.sent(),h.label=4;case 4:return[3,6];case 5:return l=h.sent(),o="throw",r=l,[3,6];case 6:if(!n)return[3,1];h.label=7;case 7:return[2,r]}})})}function we(e){if(!Le(e))return e;var r,n=!1,o="next";do{var a=e[o](r);if(n=a.done,r=a.value,o="next",Le(r))try{r=we(r)}catch(l){o="throw",r=l}}while(!n);return r}function vr(e){return e=L(e),X(e)?e:K(e)&&e.length>0?[e]:Zf(e)?Array.from(e):pr(e)?Object.keys(e).map(function(r){return[r,e[r]]}):[]}function be(e){return me(e)?[]:X(e)?e:[e]}var lh=/%([-_0^#:]+)?(\d+)?([EO])?(.)/,ti=["January","February","March","April","May","June","July","August","September","October","November","December"],ri=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],fh=ti.map(ii),hh=ri.map(ii),ni={1:"st",2:"nd",3:"rd",default:"th"};function ii(e){return e.slice(0,3)}function ph(e){var r=dh(e)?29:28;return[31,r,31,30,31,30,31,31,30,31,30,31]}function si(e){for(var r=0,n=0;n<e.getMonth();++n)r+=ph(e)[n];return r+e.getDate()}function oi(e,r){var n=si(e)+(r-e.getDay()),o=new Date(e.getFullYear(),0,1),a=7-o.getDay()+r;return String(Math.floor((n-a)/7)+1)}function dh(e){var r=e.getFullYear();return!!(!(r&3)&&(r%100||r%400===0&&r))}function mh(e){var r=e.getDate().toString(),n=parseInt(r.slice(-1));return ni[n]||ni.default}function gh(e){return parseInt(e.getFullYear().toString().substring(0,2),10)}var yh={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},vh={a:" ",A:" ",b:" ",B:" ",c:" ",e:" ",k:" ",l:" ",p:" ",P:" "},qr={a:function(e){return hh[e.getDay()]},A:function(e){return ri[e.getDay()]},b:function(e){return fh[e.getMonth()]},B:function(e){return ti[e.getMonth()]},c:function(e){return e.toLocaleString()},C:function(e){return gh(e)},d:function(e){return e.getDate()},e:function(e){return e.getDate()},H:function(e){return e.getHours()},I:function(e){return String(e.getHours()%12||12)},j:function(e){return si(e)},k:function(e){return e.getHours()},l:function(e){return String(e.getHours()%12||12)},L:function(e){return e.getMilliseconds()},m:function(e){return e.getMonth()+1},M:function(e){return e.getMinutes()},N:function(e,r){var n=Number(r.width)||9,o=String(e.getMilliseconds()).slice(0,n);return eh(o,n,"0")},p:function(e){return e.getHours()<12?"AM":"PM"},P:function(e){return e.getHours()<12?"am":"pm"},q:function(e){return mh(e)},s:function(e){return Math.round(e.getTime()/1e3)},S:function(e){return e.getSeconds()},u:function(e){return e.getDay()||7},U:function(e){return oi(e,0)},w:function(e){return e.getDay()},W:function(e){return oi(e,1)},x:function(e){return e.toLocaleDateString()},X:function(e){return e.toLocaleTimeString()},y:function(e){return e.getFullYear().toString().slice(2,4)},Y:function(e){return e.getFullYear()},z:function(e,r){var n=Math.abs(e.getTimezoneOffset()),o=Math.floor(n/60),a=n%60;return(e.getTimezoneOffset()>0?"-":"+")+it(o,2,"0")+(r.flags[":"]?":":"")+it(a,2,"0")},t:function(){return"	"},n:function(){return`
`},"%":function(){return"%"}};qr.h=qr.b;function qh(e,r){for(var n="",o=r,a;a=lh.exec(o);)n+=o.slice(0,a.index),o=o.slice(a.index+a[0].length),n+=wh(e,a);return n+o}function wh(e,r){var n,o,a=d(r,5),l=a[0],h=a[1],m=h===void 0?"":h,g=a[2],v=a[3],T=a[4],N=qr[T];if(!N)return l;var S={};try{for(var O=p(m),_=O.next();!_.done;_=O.next()){var D=_.value;S[D]=!0}}catch(ee){n={error:ee}}finally{try{_&&!_.done&&(o=O.return)&&o.call(O)}finally{if(n)throw n.error}}var B=String(N(e,{flags:S,width:g,modifier:v})),M=vh[T]||"0",G=g||yh[T]||0;return S["^"]?B=B.toUpperCase():S["#"]&&(B=th(B)),S._?M=" ":S[0]&&(M="0"),S["-"]&&(G=0),it(B,G,M)}var bh=6e4,Th=/([zZ]|([+-])(\d{2}):(\d{2}))$/,Ye=function(){function e(r,n){this.date=r instanceof e?r.date:new Date(r),this.timezoneOffset=n;var o=(this.date.getTimezoneOffset()-this.timezoneOffset)*bh,a=this.date.getTime()+o;this.displayDate=new Date(a)}return e.prototype.getTime=function(){return this.displayDate.getTime()},e.prototype.getMilliseconds=function(){return this.displayDate.getMilliseconds()},e.prototype.getSeconds=function(){return this.displayDate.getSeconds()},e.prototype.getMinutes=function(){return this.displayDate.getMinutes()},e.prototype.getHours=function(){return this.displayDate.getHours()},e.prototype.getDay=function(){return this.displayDate.getDay()},e.prototype.getDate=function(){return this.displayDate.getDate()},e.prototype.getMonth=function(){return this.displayDate.getMonth()},e.prototype.getFullYear=function(){return this.displayDate.getFullYear()},e.prototype.toLocaleString=function(r,n){return n?.timeZone?this.date.toLocaleString(r,n):this.displayDate.toLocaleString(r,n)},e.prototype.toLocaleTimeString=function(r){return this.displayDate.toLocaleTimeString(r)},e.prototype.toLocaleDateString=function(r){return this.displayDate.toLocaleDateString(r)},e.prototype.getTimezoneOffset=function(){return this.timezoneOffset},e.createDateFixedToTimezone=function(r){var n=r.match(Th);if(n&&n[1]==="Z")return new e(+new Date(r),0);if(n&&n[2]&&n[3]&&n[4]){var o=d(n,5),a=o[2],l=o[3],h=o[4],m=(a==="+"?-1:1)*(parseInt(l,10)*60+parseInt(h,10));return new e(+new Date(r),m)}return new Date(r)},e}(),wr=function(e){s(r,e);function r(n,o,a,l,h,m,g,v){var T=d(o,2),N=T[0],S=T[1],O=e.call(this,n,a,l,h,v)||this;O.trimLeft=!1,O.trimRight=!1;for(var _=a[N]==="-",D=a[S-1]==="-",B=_?N+1:N,M=D?S-1:S;B<M&&U[a.charCodeAt(B)]&He;)B++;for(;M>B&&U[a.charCodeAt(M-1)]&He;)M--;return O.contentRange=[B,M],O.trimLeft=_||m,O.trimRight=D||g,O}return Object.defineProperty(r.prototype,"content",{get:function(){return this.input.slice(this.contentRange[0],this.contentRange[1])},enumerable:!1,configurable:!0}),r}(w),br=function(e){s(r,e);function r(n,o,a,l,h){var m=this,g=l.trimTagLeft,v=l.trimTagRight,T=l.tagDelimiterLeft,N=l.tagDelimiterRight,S=d([o+T.length,a-N.length],2),O=S[0],_=S[1];return m=e.call(this,t.TokenKind.Tag,[O,_],n,o,a,g,v,h)||this,m.tokenizer=new Me(n,l.operators,h,m.contentRange),m.name=m.tokenizer.readTagName(),m.tokenizer.assert(m.name,"illegal tag syntax, tag name expected"),m.tokenizer.skipBlank(),m}return Object.defineProperty(r.prototype,"args",{get:function(){return this.tokenizer.input.slice(this.tokenizer.p,this.contentRange[1])},enumerable:!1,configurable:!0}),r}(wr),Nh=function(e){s(r,e);function r(n,o,a,l,h){var m=l.trimOutputLeft,g=l.trimOutputRight,v=l.outputDelimiterLeft,T=l.outputDelimiterRight,N=[o+v.length,a-T.length];return e.call(this,t.TokenKind.Output,N,n,o,a,m,g,h)||this}return r}(wr),ui=function(e){s(r,e);function r(n,o,a,l){var h=e.call(this,t.TokenKind.HTML,n,o,a,l)||this;return h.input=n,h.begin=o,h.end=a,h.file=l,h.trimLeft=0,h.trimRight=0,h}return r.prototype.getContent=function(){return this.input.slice(this.begin+this.trimLeft,this.end-this.trimRight)},r}(w),Sh=function(e){s(r,e);function r(n,o){var a=e.call(this,t.TokenKind.Number,n.input,n.begin,o?o.end:n.end,n.file)||this;return a.whole=n,a.decimal=o,a}return r}(w),Ot=function(e){s(r,e);function r(n,o,a,l){var h=e.call(this,t.TokenKind.Word,n,o,a,l)||this;return h.input=n,h.begin=o,h.end=a,h.file=l,h.content=h.getText(),h}return r.prototype.isNumber=function(n){n===void 0&&(n=!1);for(var o=n&&U[this.input.charCodeAt(this.begin)]&uh?this.begin+1:this.begin,a=o;a<this.end;a++)if(!(U[this.input.charCodeAt(a)]&oh))return!1;return!0},r}(w),Oh=function(e){s(r,e);function r(n,o,a,l){var h=e.call(this,t.TokenKind.Literal,n,o,a,l)||this;return h.input=n,h.begin=o,h.end=a,h.file=l,h.literal=h.getText(),h}return r}(w),ai={"==":2,"!=":2,">":2,"<":2,">=":2,"<=":2,contains:2,not:1,and:0,or:0},_h={"==":0,"!=":0,">":0,"<":0,">=":0,"<=":0,contains:0,not:1,and:0,or:0},kh=function(e){s(r,e);function r(n,o,a,l){var h=e.call(this,t.TokenKind.Operator,n,o,a,l)||this;return h.input=n,h.begin=o,h.end=a,h.file=l,h.operator=h.getText(),h}return r.prototype.getPrecedence=function(){var n=this.getText();return n in ai?ai[n]:1},r}(w),ci=function(e){s(r,e);function r(n,o,a){var l=e.call(this,t.TokenKind.PropertyAccess,n.input,n.begin,a,n.file)||this;return l.variable=n,l.props=o,l.propertyName=l.variable instanceof Ot?l.variable.getText():wi(l.variable.getText()),l}return r}(w),Dh=function(e){s(r,e);function r(n,o,a,l,h,m){var g=e.call(this,t.TokenKind.Filter,a,l,h,m)||this;return g.name=n,g.args=o,g}return r}(w),Fh=function(e){s(r,e);function r(n,o,a,l,h,m){var g=e.call(this,t.TokenKind.Hash,n,o,a,m)||this;return g.input=n,g.begin=o,g.end=a,g.name=l,g.value=h,g.file=m,g}return r}(w),Eh=function(e){s(r,e);function r(n,o,a,l){var h=e.call(this,t.TokenKind.Quoted,n,o,a,l)||this;return h.input=n,h.begin=o,h.end=a,h.file=l,h}return r}(w),xh=function(e){s(r,e);function r(n,o,a,l,h,m){var g=e.call(this,t.TokenKind.Range,n,o,a,m)||this;return g.input=n,g.begin=o,g.end=a,g.lhs=l,g.rhs=h,g.file=m,g}return r}(w),Ah=function(e){s(r,e);function r(n,o,a,l,h){var m=e.call(this,t.TokenKind.Tag,[o,a],n,o,a,!1,!1,h)||this;return m.tokenizer=new Me(n,l.operators,h,m.contentRange),m.name=m.tokenizer.readTagName(),m.tokenizer.assert(m.name,"illegal liquid tag syntax"),m.tokenizer.skipBlank(),m.args=m.tokenizer.remaining(),m}return r}(wr),Ih=function(e){s(r,e);function r(n,o,a,l,h,m){var g=e.call(this,t.TokenKind.FilteredValue,a,l,h,m)||this;return g.initial=n,g.filters=o,g.input=a,g.begin=l,g.end=h,g.file=m,g}return r}(w),zh=function(){function e(){this.buffer=""}return e.prototype.write=function(r){this.buffer+=R(r)},e}(),Rh=function(){function e(){throw this.buffer="",this.stream=null,new Error("streaming not supported in browser")}return e}(),Lh=function(){function e(){this.buffer=""}return e.prototype.write=function(r){r=L(r),typeof r!="string"&&this.buffer===""?this.buffer=r:this.buffer=R(this.buffer)+R(r)},e}(),Mh=function(){function e(){}return e.prototype.renderTemplatesToNodeStream=function(r,n){var o=this,a=new Rh;return Promise.resolve().then(function(){return qe(o.renderTemplates(r,n,a))}).then(function(){return a.end()},function(l){return a.error(l)}),a.stream},e.prototype.renderTemplates=function(r,n,o){var a,l,h,m,g,v,T,N,S;return f(this,function(O){switch(O.label){case 0:o||(o=n.opts.keepOutputType?new Lh:new zh),O.label=1;case 1:O.trys.push([1,8,9,10]),a=p(r),l=a.next(),O.label=2;case 2:if(l.done)return[3,7];h=l.value,O.label=3;case 3:return O.trys.push([3,5,,6]),[4,h.render(n,o)];case 4:return m=O.sent(),m&&o.write(m),o.break||o.continue?[3,7]:[3,6];case 5:throw g=O.sent(),v=mr.is(g)?g:new mr(g,h),v;case 6:return l=a.next(),[3,2];case 7:return[3,10];case 8:return T=O.sent(),N={error:T},[3,10];case 9:try{l&&!l.done&&(S=a.return)&&S.call(a)}finally{if(N)throw N.error}return[7];case 10:return[2,o.buffer]}})},e}(),li=function(){function e(r){this.postfix=y([],d(Uh(r)),!1)}return e.prototype.evaluate=function(r,n){var o,a,l,h,m,g,v,T,N,S,O,_;return f(this,function(D){switch(D.label){case 0:ae(r,"unable to evaluate: context not defined"),o=[],D.label=1;case 1:D.trys.push([1,11,12,13]),a=p(this.postfix),l=a.next(),D.label=2;case 2:return l.done?[3,10]:(h=l.value,kr(h)?(m=o.pop(),g=void 0,_h[h.operator]!==1?[3,4]:[4,r.opts.operators[h.operator](m,r)]):[3,7]);case 3:return g=D.sent(),[3,6];case 4:return v=o.pop(),[4,r.opts.operators[h.operator](v,m,r)];case 5:g=D.sent(),D.label=6;case 6:return o.push(g),[3,9];case 7:return N=(T=o).push,[4,Z(h,r,n&&this.postfix.length===1)];case 8:N.apply(T,[D.sent()]),D.label=9;case 9:return l=a.next(),[3,2];case 10:return[3,13];case 11:return S=D.sent(),O={error:S},[3,13];case 12:try{l&&!l.done&&(_=a.return)&&_.call(a)}finally{if(O)throw O.error}return[7];case 13:return[2,o[0]]}})},e.prototype.valid=function(){return!!this.postfix.length},e}();function Z(e,r,n){return n===void 0&&(n=!1),f(this,function(o){switch(o.label){case 0:return Oi(e)?[4,jh(e,r,n)]:[3,2];case 1:return[2,o.sent()];case 2:return ki(e)?[4,Bh(e,r)]:[3,4];case 3:return[2,o.sent()];case 4:return Ni(e)?[2,Ch(e)]:Si(e)?[2,Ph(e)]:_i(e)?[2,e.getText()]:Dr(e)?[2,_t(e)]:[2]}})}function jh(e,r,n){var o,a,l,h,m,g,v,T,N,S;return f(this,function(O){switch(O.label){case 0:o=[],O.label=1;case 1:O.trys.push([1,6,7,8]),a=p(e.props),l=a.next(),O.label=2;case 2:return l.done?[3,5]:(h=l.value,g=(m=o).push,[4,Z(h,r,!1)]);case 3:g.apply(m,[O.sent()]),O.label=4;case 4:return l=a.next(),[3,2];case 5:return[3,8];case 6:return v=O.sent(),N={error:v},[3,8];case 7:try{l&&!l.done&&(S=a.return)&&S.call(a)}finally{if(N)throw N.error}return[7];case 8:return O.trys.push([8,10,,11]),[4,r._get(y([e.propertyName],d(o),!1))];case 9:return[2,O.sent()];case 10:if(T=O.sent(),n&&T.name==="InternalUndefinedVariableError")return[2,null];throw new Hn(T,e);case 11:return[2]}})}function Ph(e){var r=e.whole.content+"."+(e.decimal?e.decimal.content:"");return Number(r)}function _t(e){return wi(e.getText())}function Ch(e){return Zn[e.literal]}function Bh(e,r){var n,o;return f(this,function(a){switch(a.label){case 0:return[4,Z(e.lhs,r)];case 1:return n=a.sent(),[4,Z(e.rhs,r)];case 2:return o=a.sent(),[2,Cn(+n,+o+1)]}})}function Uh(e){var r,n,o,a,l,h,m;return f(this,function(g){switch(g.label){case 0:r=[],g.label=1;case 1:g.trys.push([1,10,11,12]),n=p(e),o=n.next(),g.label=2;case 2:if(o.done)return[3,9];if(a=o.value,!kr(a))return[3,6];g.label=3;case 3:return r.length&&r[r.length-1].getPrecedence()>a.getPrecedence()?[4,r.pop()]:[3,5];case 4:return g.sent(),[3,3];case 5:return r.push(a),[3,8];case 6:return[4,a];case 7:g.sent(),g.label=8;case 8:return o=n.next(),[3,2];case 9:return[3,12];case 10:return l=g.sent(),h={error:l},[3,12];case 11:try{o&&!o.done&&(m=n.return)&&m.call(n)}finally{if(h)throw h.error}return[7];case 12:return r.length?[4,r.pop()]:[3,14];case 13:return g.sent(),[3,12];case 14:return[2]}})}function Se(e,r){return!st(e,r)}function st(e,r){return r.opts.jsTruthy?!e:e===!1||e===void 0||e===null}var fi={"==":Tr,"!=":function(e,r){return!Tr(e,r)},">":function(e,r){return le(e)?e.gt(r):le(r)?r.lt(e):L(e)>L(r)},"<":function(e,r){return le(e)?e.lt(r):le(r)?r.gt(e):L(e)<L(r)},">=":function(e,r){return le(e)?e.geq(r):le(r)?r.leq(e):L(e)>=L(r)},"<=":function(e,r){return le(e)?e.leq(r):le(r)?r.geq(e):L(e)<=L(r)},contains:function(e,r){return e=L(e),r=L(r),e&&C(e.indexOf)?e.indexOf(r)>-1:!1},not:function(e,r){return st(L(e),r)},and:function(e,r,n){return Se(L(e),n)&&Se(L(r),n)},or:function(e,r,n){return Se(L(e),n)||Se(L(r),n)}};function Tr(e,r){return le(e)?e.equals(r):le(r)?r.equals(e):(e=L(e),r=L(r),X(e)?X(r)&&Vh(e,r):e===r)}function Vh(e,r){return e.length!==r.length?!1:!e.some(function(n,o){return!Tr(n,r[o])})}var Nr=function(){function e(r,n,o,a){this.key=r,this.value=n,this.next=o,this.prev=a}return e}(),hi=function(){function e(r,n){n===void 0&&(n=0),this.limit=r,this.size=n,this.cache={},this.head=new Nr("HEAD",null,null,null),this.tail=new Nr("TAIL",null,null,null),this.head.next=this.tail,this.tail.prev=this.head}return e.prototype.write=function(r,n){if(this.cache[r])this.cache[r].value=n;else{var o=new Nr(r,n,this.head.next,this.head);this.head.next.prev=o,this.head.next=o,this.cache[r]=o,this.size++,this.ensureLimit()}},e.prototype.read=function(r){if(this.cache[r]){var n=this.cache[r].value;return this.remove(r),this.write(r,n),n}},e.prototype.remove=function(r){var n=this.cache[r];n.prev.next=n.next,n.next.prev=n.prev,delete this.cache[r],this.size--},e.prototype.clear=function(){this.head.next=this.tail,this.tail.prev=this.head,this.size=0,this.cache={}},e.prototype.ensureLimit=function(){this.size>this.limit&&this.remove(this.tail.prev.key)},e}();function pi(e,r){var n=document.createElement("base");n.href=e;var o=document.getElementsByTagName("head")[0];o.insertBefore(n,o.firstChild);var a=document.createElement("a");a.href=r;var l=a.href;return o.removeChild(n),l}function $h(e,r,n){e.length&&Pn(e)!=="/"&&(e+="/");var o=pi(e,r);return o.replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,function(a,l,h){var m=h.split("/").pop();return/\.\w+$/.test(m)?a:l+h+n})}function Jh(e){return c(this,void 0,void 0,function(){return f(this,function(r){return[2,new Promise(function(n,o){var a=new XMLHttpRequest;a.onload=function(){a.status>=200&&a.status<300?n(a.responseText):o(new Error(a.statusText))},a.onerror=function(){o(new Error("An error occurred whilst receiving the response."))},a.open("GET",e),a.send()})]})})}function Hh(e){var r=new XMLHttpRequest;if(r.open("GET",e,!1),r.send(),r.status<200||r.status>=300)throw new Error(r.statusText);return r.responseText}function Yh(e){return c(this,void 0,void 0,function(){return f(this,function(r){return[2,!0]})})}function Wh(e){return!0}function Kh(e){return pi(e,".")}var Gh="/",Qh=Object.freeze({__proto__:null,resolve:$h,readFile:Jh,readFileSync:Hh,exists:Yh,existsSync:Wh,dirname:Kh,sep:Gh});function Xh(e,r){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return e=L(e),X(e)||K(e)?e.length?e:r:e===!1&&new Map(n).get("allow_false")?!1:st(e,this.context)?r:e}function di(e,r){return r===void 0&&(r=0),JSON.stringify(e,null,r)}var Zh={raw:!0,handler:Un},ep={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},tp={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function Sr(e){return R(e).replace(/&|<|>|"|'/g,function(r){return ep[r]})}function rp(e){return R(e).replace(/&(amp|lt|gt|#34|#39);/g,function(r){return tp[r]})}function np(e){return Sr(rp(R(e)))}function ip(e){return R(e).replace(/\n/g,`<br />
`)}function sp(e){return R(e).replace(/<script[\s\S]*?<\/script>|<style[\s\S]*?<\/style>|<.*?>|<!--[\s\S]*?-->/g,"")}var op=Object.freeze({__proto__:null,escape:Sr,escape_once:np,newline_to_br:ip,strip_html:sp}),Oe={root:["."],layouts:["."],partials:["."],relativeReference:!0,jekyllInclude:!1,cache:void 0,extname:"",fs:Qh,dynamicPartials:!0,jsTruthy:!1,dateFormat:"%A, %B %-e, %Y at %-l:%M %P %z",trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",preserveTimezones:!1,strictFilters:!1,strictVariables:!1,ownPropertyOnly:!0,lenientIf:!1,globals:{},keepOutputType:!1,operators:fi};function up(e){if(e.hasOwnProperty("root")&&(e.hasOwnProperty("partials")||(e.partials=e.root),e.hasOwnProperty("layouts")||(e.layouts=e.root)),e.hasOwnProperty("cache")){var r=void 0;typeof e.cache=="number"?r=e.cache>0?new hi(e.cache):void 0:typeof e.cache=="object"?r=e.cache:r=e.cache?new hi(1024):void 0,e.cache=r}return e=u(u(u({},Oe),e.jekyllInclude?{dynamicPartials:!1}:{}),e),(!e.fs.dirname||!e.fs.sep)&&e.relativeReference&&(console.warn("[LiquidJS] `fs.dirname` and `fs.sep` are required for relativeReference, set relativeReference to `false` to suppress this warning"),e.relativeReference=!1),e.root=kt(e.root),e.partials=kt(e.partials),e.layouts=kt(e.layouts),e.outputEscape=e.outputEscape&&ap(e.outputEscape),e}function ap(e){return e==="escape"?Sr:e==="json"?di:(ae(C(e),"`outputEscape` need to be of type string or function"),e)}function kt(e){var r=[];return X(e)&&(r=e),K(e)&&(r=[e]),r}function cp(e,r,n,o){o===void 0&&(o=e.length);for(var a=n,l=r,h;a[e[l]]&&l<o;)a=a[e[l++]],a.end&&(h=a);return!h||h.needBoundary&&U[e.charCodeAt(l)]&gr?-1:l}function lp(e,r){for(var n=!1,o=0;o<e.length;o++){var a=e[o];bi(a)&&(!n&&a.trimLeft&&fp(e[o-1],r.greedy),_e(a)&&(a.name==="raw"?n=!0:a.name==="endraw"&&(n=!1)),!n&&a.trimRight&&hp(e[o+1],r.greedy))}}function fp(e,r){if(!(!e||!Dt(e)))for(var n=r?He:Kn;U[e.input.charCodeAt(e.end-1-e.trimRight)]&n;)e.trimRight++}function hp(e,r){if(!(!e||!Dt(e))){for(var n=r?He:Kn;U[e.input.charCodeAt(e.begin+e.trimLeft)]&n;)e.trimLeft++;e.input.charAt(e.begin+e.trimLeft)===`
`&&e.trimLeft++}}var Me=function(){function e(r,n,o,a){n===void 0&&(n=Oe.operators),this.input=r,this.file=o,this.range=a,this.rawBeginAt=-1,this.p=a?a[0]:0,this.N=a?a[1]:r.length,this.opTrie=ei(n)}return e.prototype.readExpression=function(){return new li(this.readExpressionTokens())},e.prototype.readExpressionTokens=function(){var r,n;return f(this,function(o){switch(o.label){case 0:return this.p<this.N?(r=this.readOperator(),r?[4,r]:[3,2]):[3,5];case 1:return o.sent(),[3,0];case 2:return n=this.readValue(),n?[4,n]:[3,4];case 3:return o.sent(),[3,0];case 4:return[2];case 5:return[2]}})},e.prototype.readOperator=function(){this.skipBlank();var r=cp(this.input,this.p,this.opTrie);if(r!==-1)return new kh(this.input,this.p,this.p=r,this.file)},e.prototype.readFilteredValue=function(){var r=this.p,n=this.readExpression();this.assert(n.valid(),"invalid value expression: ".concat(this.snapshot()));var o=this.readFilters();return new Ih(n,o,this.input,r,this.p,this.file)},e.prototype.readFilters=function(){for(var r=[];;){var n=this.readFilter();if(!n)return r;r.push(n)}},e.prototype.readFilter=function(){var r=this;if(this.skipBlank(),this.end())return null;this.assert(this.peek()==="|",'expected "|" before filter'),this.p++;var n=this.p,o=this.readIdentifier();if(!o.size())return this.assert(this.end(),"expected filter name"),null;var a=[];if(this.skipBlank(),this.peek()===":")do{++this.p;var l=this.readFilterArg();l&&a.push(l),this.skipBlank(),this.assert(this.end()||this.peek()===","||this.peek()==="|",function(){return"unexpected character ".concat(r.snapshot())})}while(this.peek()===",");else if(!(this.peek()==="|"||this.end()))throw this.error('expected ":" after filter name');return new Dh(o.getText(),a,this.input,n,this.p,this.file)},e.prototype.readFilterArg=function(){var r=this.readValue();if(r){if(this.skipBlank(),this.peek()!==":")return r;++this.p;var n=this.readValue();return[r.getText(),n]}},e.prototype.readTopLevelTokens=function(r){r===void 0&&(r=Oe);for(var n=[];this.p<this.N;){var o=this.readTopLevelToken(r);n.push(o)}return lp(n,r),n},e.prototype.readTopLevelToken=function(r){var n=r.tagDelimiterLeft,o=r.outputDelimiterLeft;return this.rawBeginAt>-1?this.readEndrawOrRawContent(r):this.match(n)?this.readTagToken(r):this.match(o)?this.readOutputToken(r):this.readHTMLToken([n,o])},e.prototype.readHTMLToken=function(r){for(var n=this,o=this.p;this.p<this.N&&!r.some(function(a){return n.match(a)});)++this.p;return new ui(this.input,o,this.p,this.file)},e.prototype.readTagToken=function(r){r===void 0&&(r=Oe);var n=this,o=n.file,a=n.input,l=this.p;if(this.readToDelimiter(r.tagDelimiterRight)===-1)throw this.error("tag ".concat(this.snapshot(l)," not closed"),l);var h=new br(a,l,this.p,r,o);return h.name==="raw"&&(this.rawBeginAt=l),h},e.prototype.readToDelimiter=function(r){for(;this.p<this.N;){if(this.peekType()&Wn){this.readQuoted();continue}if(++this.p,this.rmatch(r))return this.p}return-1},e.prototype.readOutputToken=function(r){r===void 0&&(r=Oe);var n=this,o=n.file,a=n.input,l=r.outputDelimiterRight,h=this.p;if(this.readToDelimiter(l)===-1)throw this.error("output ".concat(this.snapshot(h)," not closed"),h);return new Nh(a,h,this.p,r,o)},e.prototype.readEndrawOrRawContent=function(r){for(var n=r.tagDelimiterLeft,o=r.tagDelimiterRight,a=this.p,l=this.readTo(n)-n.length;this.p<this.N;){if(this.readIdentifier().getText()!=="endraw"){l=this.readTo(n)-n.length;continue}for(;this.p<=this.N;){if(this.rmatch(o)){var h=this.p;return a===l?(this.rawBeginAt=-1,new br(this.input,a,h,r,this.file)):(this.p=l,new ui(this.input,a,l,this.file))}if(this.rmatch(n))break;this.p++}}throw this.error("raw ".concat(this.snapshot(this.rawBeginAt)," not closed"),a)},e.prototype.readLiquidTagTokens=function(r){r===void 0&&(r=Oe);for(var n=[];this.p<this.N;){var o=this.readLiquidTagToken(r);o&&n.push(o)}return n},e.prototype.readLiquidTagToken=function(r){if(this.skipBlank(),!this.end()){var n=this.p;this.readToDelimiter(`
`);var o=this.p;return new Ah(this.input,n,o,r,this.file)}},e.prototype.error=function(r,n){return n===void 0&&(n=this.p),new $n(r,new Ot(this.input,n,this.N,this.file))},e.prototype.assert=function(r,n,o){if(!r)throw this.error(typeof n=="function"?n():n,o)},e.prototype.snapshot=function(r){return r===void 0&&(r=this.p),JSON.stringify(rh(this.input.slice(r,this.N),32))},e.prototype.readWord=function(){return this.readIdentifier()},e.prototype.readIdentifier=function(){this.skipBlank();for(var r=this.p;!this.end()&&this.peekType()&gr;)++this.p;return new Ot(this.input,r,this.p,this.file)},e.prototype.readTagName=function(){return this.skipBlank(),this.input[this.p]==="#"?this.input.slice(this.p,++this.p):this.readIdentifier().getText()},e.prototype.readHashes=function(r){for(var n=[];;){var o=this.readHash(r);if(!o)return n;n.push(o)}},e.prototype.readHash=function(r){this.skipBlank(),this.peek()===","&&++this.p;var n=this.p,o=this.readIdentifier();if(o.size()){var a;this.skipBlank();var l=r?"=":":";return this.peek()===l&&(++this.p,a=this.readValue()),new Fh(this.input,n,this.p,o,a,this.file)}},e.prototype.remaining=function(){return this.input.slice(this.p,this.N)},e.prototype.advance=function(r){r===void 0&&(r=1),this.p+=r},e.prototype.end=function(){return this.p>=this.N},e.prototype.readTo=function(r){for(;this.p<this.N;)if(++this.p,this.rmatch(r))return this.p;return-1},e.prototype.readValue=function(){var r=this.readQuoted()||this.readRange();if(r)return r;if(this.peek()==="["){this.p++;var n=this.readQuoted();return!n||this.peek()!=="]"?void 0:(this.p++,new ci(n,[],this.p))}var o=this.readIdentifier();if(o.size()){for(var a=o.isNumber(!0),l=[];;)if(this.peek()==="["){a=!1,this.p++;var n=this.readValue()||new Ot(this.input,this.p,this.p,this.file);this.readTo("]"),l.push(n)}else if(this.peek()==="."&&this.peek(1)!=="."){this.p++;var n=this.readIdentifier();if(!n.size())break;n.isNumber()||(a=!1),l.push(n)}else break;return!l.length&&Zn.hasOwnProperty(o.content)?new Oh(this.input,o.begin,o.end,this.file):a?new Sh(o,l[0]):new ci(o,l,this.p)}},e.prototype.readRange=function(){this.skipBlank();var r=this.p;if(this.peek()==="("){++this.p;var n=this.readValueOrThrow();this.p+=2;var o=this.readValueOrThrow();return++this.p,new xh(this.input,r,this.p,n,o,this.file)}},e.prototype.readValueOrThrow=function(){var r=this,n=this.readValue();return this.assert(n,function(){return"unexpected token ".concat(r.snapshot(),", value expected")}),n},e.prototype.readQuoted=function(){this.skipBlank();var r=this.p;if(this.peekType()&Wn){++this.p;for(var n=!1;this.p<this.N&&(++this.p,!(this.input[this.p-1]===this.input[r]&&!n));)n?n=!1:this.input[this.p-1]==="\\"&&(n=!0);return new Eh(this.input,r,this.p,this.file)}},e.prototype.readFileNameTemplate=function(r){var n,o,a;return f(this,function(l){switch(l.label){case 0:n=r.outputDelimiterLeft,o=[","," ",n],a=new Set(o),l.label=1;case 1:return this.p<this.N&&!a.has(this.peek())?[4,this.match(n)?this.readOutputToken(r):this.readHTMLToken(o)]:[3,3];case 2:return l.sent(),[3,1];case 3:return[2]}})},e.prototype.match=function(r){for(var n=0;n<r.length;n++)if(r[n]!==this.input[this.p+n])return!1;return!0},e.prototype.rmatch=function(r){for(var n=0;n<r.length;n++)if(r[r.length-1-n]!==this.input[this.p-1-n])return!1;return!0},e.prototype.peekType=function(r){return r===void 0&&(r=0),U[this.input.charCodeAt(this.p+r)]},e.prototype.peek=function(r){return r===void 0&&(r=0),this.p+r>=this.N?"":this.input[this.p+r]},e.prototype.skipBlank=function(){for(;this.peekType()&He;)++this.p},e}(),mi=function(){function e(r,n){this.handlers={},this.stopRequested=!1,this.tokens=r,this.parseToken=n}return e.prototype.on=function(r,n){return this.handlers[r]=n,this},e.prototype.trigger=function(r,n){var o=this.handlers[r];return o?(o.call(this,n),!0):!1},e.prototype.start=function(){this.trigger("start");for(var r;!this.stopRequested&&(r=this.tokens.shift());)if(!this.trigger("token",r)&&!(_e(r)&&this.trigger("tag:".concat(r.name),r))){var n=this.parseToken(r,this.tokens);this.trigger("template",n)}return this.stopRequested||this.trigger("end"),this},e.prototype.stop=function(){return this.stopRequested=!0,this},e}(),Or=function(){function e(r){this.token=r}return e}(),W=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n)||this;return l.name=n.name,l.liquid=a,l.tokenizer=n.tokenizer,l}return r}(Or),je=function(){function e(r,n){var o,a;this.hash={};var l=new Me(r,{});try{for(var h=p(l.readHashes(n)),m=h.next();!m.done;m=h.next()){var g=m.value;this.hash[g.name.content]=g.value}}catch(v){o={error:v}}finally{try{m&&!m.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}}return e.prototype.render=function(r){var n,o,a,l,h,m,g,v,T,N;return f(this,function(S){switch(S.label){case 0:n={},S.label=1;case 1:S.trys.push([1,8,9,10]),o=p(Object.keys(this.hash)),a=o.next(),S.label=2;case 2:return a.done?[3,7]:(l=a.value,h=n,m=l,this.hash[l]!==void 0?[3,3]:(g=!0,[3,5]));case 3:return[4,Z(this.hash[l],r)];case 4:g=S.sent(),S.label=5;case 5:h[m]=g,S.label=6;case 6:return a=o.next(),[3,2];case 7:return[3,10];case 8:return v=S.sent(),T={error:v},[3,10];case 9:try{a&&!a.done&&(N=o.return)&&N.call(o)}finally{if(T)throw T.error}return[7];case 10:return[2,n]}})},e}();function pp(e){return function(r){s(n,r);function n(o,a,l){var h=r.call(this,o,a,l)||this;return C(e.parse)&&e.parse.call(h,o,a),h}return n.prototype.render=function(o,a){var l;return f(this,function(h){switch(h.label){case 0:return[4,new je(this.token.args).render(o)];case 1:return l=h.sent(),[4,e.render.call(this,o,a,l)];case 2:return[2,h.sent()]}})},n}(W)}function dp(e){return X(e)}var _r=function(){function e(r,n,o,a){this.name=r,this.handler=C(n)?n:C(n?.handler)?n.handler:Un,this.raw=!C(n)&&!!n?.raw,this.args=o,this.liquid=a}return e.prototype.render=function(r,n){var o,a,l,h,m,g,v,T,N,S,O,_;return f(this,function(D){switch(D.label){case 0:o=[],D.label=1;case 1:D.trys.push([1,8,9,10]),a=p(this.args),l=a.next(),D.label=2;case 2:return l.done?[3,7]:(h=l.value,dp(h)?(g=(m=o).push,v=[h[0]],[4,Z(h[1],n)]):[3,4]);case 3:return g.apply(m,[v.concat([D.sent()])]),[3,6];case 4:return N=(T=o).push,[4,Z(h,n)];case 5:N.apply(T,[D.sent()]),D.label=6;case 6:return l=a.next(),[3,2];case 7:return[3,10];case 8:return S=D.sent(),O={error:S},[3,10];case 9:try{l&&!l.done&&(_=a.return)&&_.call(a)}finally{if(O)throw O.error}return[7];case 10:return[2,this.handler.apply({context:n,liquid:this.liquid},y([r],d(o),!1))]}})},e}(),ge=function(){function e(r,n){var o=this;this.filters=[];var a=typeof r=="string"?new Me(r,n.options.operators).readFilteredValue():r;this.initial=a.initial,this.filters=a.filters.map(function(l){var h=l.name,m=l.args;return new _r(h,o.getFilter(n,h),m,n)})}return e.prototype.value=function(r,n){var o,a,l,h,m,g,v;return f(this,function(T){switch(T.label){case 0:return n=n||r.opts.lenientIf&&this.filters.length>0&&this.filters[0].name==="default",[4,this.initial.evaluate(r,n)];case 1:o=T.sent(),T.label=2;case 2:T.trys.push([2,7,8,9]),a=p(this.filters),l=a.next(),T.label=3;case 3:return l.done?[3,6]:(h=l.value,[4,h.render(o,r)]);case 4:o=T.sent(),T.label=5;case 5:return l=a.next(),[3,3];case 6:return[3,9];case 7:return m=T.sent(),g={error:m},[3,9];case 8:try{l&&!l.done&&(v=a.return)&&v.call(a)}finally{if(g)throw g.error}return[7];case 9:return[2,o]}})},e.prototype.getFilter=function(r,n){var o=r.filters[n];return ae(o||!r.options.strictFilters,function(){return"undefined filter: ".concat(n)}),o},e}(),gi=function(e){s(r,e);function r(n,o){var a=this,l;a=e.call(this,n)||this;var h=new Me(n.input,o.options.operators,n.file,n.contentRange);a.value=new ge(h.readFilteredValue(),o);var m=a.value.filters,g=o.options.outputEscape;return!(!((l=m[m.length-1])===null||l===void 0)&&l.raw)&&g&&m.push(new _r(toString.call(g),g,[],o)),a}return r.prototype.render=function(n,o){var a;return f(this,function(l){switch(l.label){case 0:return[4,this.value.value(n,!1)];case 1:return a=l.sent(),o.write(a),[2]}})},r}(Or),mp=function(e){s(r,e);function r(n){var o=e.call(this,n)||this;return o.str=n.getContent(),o}return r.prototype.render=function(n,o){return f(this,function(a){return o.write(this.str),[2]})},r}(Or),Pe;(function(e){e.Partials="partials",e.Layouts="layouts",e.Root="root"})(Pe||(Pe={}));var gp=function(){function e(r){if(this.options=r,r.relativeReference){var n=r.fs.sep;ae(n,"`fs.sep` is required for relative reference");var o=new RegExp(["."+n,".."+n,"./","../"].map(function(a){return Ln(a)}).join("|"));this.shouldLoadRelative=function(a){return o.test(a)}}else this.shouldLoadRelative=function(a){return!1};this.contains=this.options.fs.contains||function(){return!0}}return e.prototype.lookup=function(r,n,o,a){var l,h,m,g,v,T,N,S,O;return f(this,function(_){switch(_.label){case 0:l=this.options.fs,h=this.options[n],_.label=1;case 1:_.trys.push([1,8,9,10]),m=p(this.candidates(r,h,a,n!==Pe.Root)),g=m.next(),_.label=2;case 2:return g.done?[3,7]:(v=g.value,o?(T=l.existsSync(v),[3,5]):[3,3]);case 3:return[4,l.exists(v)];case 4:T=_.sent(),_.label=5;case 5:if(T)return[2,v];_.label=6;case 6:return g=m.next(),[3,2];case 7:return[3,10];case 8:return N=_.sent(),S={error:N},[3,10];case 9:try{g&&!g.done&&(O=m.return)&&O.call(m)}finally{if(S)throw S.error}return[7];case 10:throw this.lookupError(r,h)}})},e.prototype.candidates=function(r,n,o,a){var l,h,m,_,g,v,O,T,N,S,O,_,D,B,M,G,ee,he;return f(this,function(P){switch(P.label){case 0:if(l=this.options,h=l.fs,m=l.extname,!(this.shouldLoadRelative(r)&&o))return[3,8];_=h.resolve(this.dirname(o),r,m),P.label=1;case 1:P.trys.push([1,6,7,8]),g=p(n),v=g.next(),P.label=2;case 2:return v.done?[3,5]:(O=v.value,!a||this.contains(O,_)?[4,_]:[3,4]);case 3:return P.sent(),[3,5];case 4:return v=g.next(),[3,2];case 5:return[3,8];case 6:return T=P.sent(),M={error:T},[3,8];case 7:try{v&&!v.done&&(G=g.return)&&G.call(g)}finally{if(M)throw M.error}return[7];case 8:P.trys.push([8,13,14,15]),N=p(n),S=N.next(),P.label=9;case 9:return S.done?[3,12]:(O=S.value,_=h.resolve(O,r,m),!a||this.contains(O,_)?[4,_]:[3,11]);case 10:P.sent(),P.label=11;case 11:return S=N.next(),[3,9];case 12:return[3,15];case 13:return D=P.sent(),ee={error:D},[3,15];case 14:try{S&&!S.done&&(he=N.return)&&he.call(N)}finally{if(ee)throw ee.error}return[7];case 15:return h.fallback===void 0?[3,17]:(B=h.fallback(r),B===void 0?[3,17]:[4,B]);case 16:P.sent(),P.label=17;case 17:return[2]}})},e.prototype.dirname=function(r){var n=this.options.fs;return ae(n.dirname,"`fs.dirname` is required for relative reference"),n.dirname(r)},e.prototype.lookupError=function(r,n){var o=new Error("ENOENT");return o.message='ENOENT: Failed to lookup "'.concat(r,'" in "').concat(n,'"'),o.code="ENOENT",o},e}(),yp=function(){function e(r){this.liquid=r,this.cache=this.liquid.options.cache,this.fs=this.liquid.options.fs,this.parseFile=this.cache?this._parseFileCached:this._parseFile,this.loader=new gp(this.liquid.options)}return e.prototype.parse=function(r,n){var o=new Me(r,this.liquid.options.operators,n),a=o.readTopLevelTokens(this.liquid.options);return this.parseTokens(a)},e.prototype.parseTokens=function(r){for(var n,o=[];n=r.shift();)o.push(this.parseToken(n,r));return o},e.prototype.parseToken=function(r,n){try{if(_e(r)){var o=this.liquid.tags[r.name];return ae(o,'tag "'.concat(r.name,'" not found')),new o(r,n,this.liquid)}return Ti(r)?new gi(r,this.liquid):new mp(r)}catch(a){throw a instanceof Je?a:new Jn(a,r)}},e.prototype.parseStream=function(r){var n=this;return new mi(r,function(o,a){return n.parseToken(o,a)})},e.prototype._parseFileCached=function(r,n,o,a){var l,h,m,g,v,T,N;return o===void 0&&(o=Pe.Root),f(this,function(S){switch(S.label){case 0:return l=this.cache,h=this.loader.shouldLoadRelative(r)?a+","+r:o+":"+r,[4,l.read(h)];case 1:return m=S.sent(),m?[2,m]:(g=this._parseFile(r,n,o,a),n?[4,g]:[3,3]);case 2:return T=S.sent(),[3,4];case 3:T=qe(g),S.label=4;case 4:v=T,l.write(h,v),S.label=5;case 5:return S.trys.push([5,7,,8]),[4,v];case 6:return[2,S.sent()];case 7:throw N=S.sent(),l.remove(h),N;case 8:return[2]}})},e.prototype._parseFile=function(r,n,o,a){var l,h,m,g;return o===void 0&&(o=Pe.Root),f(this,function(v){switch(v.label){case 0:return[4,this.loader.lookup(r,o,n,a)];case 1:return l=v.sent(),m=(h=this.liquid).parse,n?(g=this.fs.readFileSync(l),[3,4]):[3,2];case 2:return[4,this.fs.readFile(l)];case 3:g=v.sent(),v.label=4;case 4:return[2,m.apply(h,[g,l])]}})},e}(),vp=/[\da-fA-F]/,yi=/[0-7]/,vi={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",v:"\v"};function qi(e){var r=e.charCodeAt(0);return r>=97?r-87:r>=65?r-55:r-48}function wi(e){for(var r="",n=1;n<e.length-1;n++){if(e[n]!=="\\"){r+=e[n];continue}if(vi[e[n+1]]!==void 0)r+=vi[e[++n]];else if(e[n+1]==="u"){for(var o=0,a=n+2;a<=n+5&&vp.test(e[a]);)o=o*16+qi(e[a++]);n=a-1,r+=String.fromCharCode(o)}else if(!yi.test(e[n+1]))r+=e[++n];else{for(var a=n+1,o=0;a<=n+3&&yi.test(e[a]);)o=o*8+qi(e[a++]);n=a-1,r+=String.fromCharCode(o)}}return r}(function(e){e[e.Number=1]="Number",e[e.Literal=2]="Literal",e[e.Tag=4]="Tag",e[e.Output=8]="Output",e[e.HTML=16]="HTML",e[e.Filter=32]="Filter",e[e.Hash=64]="Hash",e[e.PropertyAccess=128]="PropertyAccess",e[e.Word=256]="Word",e[e.Range=512]="Range",e[e.Quoted=1024]="Quoted",e[e.Operator=2048]="Operator",e[e.FilteredValue=4096]="FilteredValue",e[e.Delimited=12]="Delimited"})(t.TokenKind||(t.TokenKind={}));function bi(e){return!!(fe(e)&t.TokenKind.Delimited)}function kr(e){return fe(e)===t.TokenKind.Operator}function Dt(e){return fe(e)===t.TokenKind.HTML}function Ti(e){return fe(e)===t.TokenKind.Output}function _e(e){return fe(e)===t.TokenKind.Tag}function Dr(e){return fe(e)===t.TokenKind.Quoted}function Ni(e){return fe(e)===t.TokenKind.Literal}function Si(e){return fe(e)===t.TokenKind.Number}function Oi(e){return fe(e)===t.TokenKind.PropertyAccess}function _i(e){return fe(e)===t.TokenKind.Word}function ki(e){return fe(e)===t.TokenKind.Range}function fe(e){return e?e.kind:-1}var qp=Object.freeze({__proto__:null,isDelimitedToken:bi,isOperatorToken:kr,isHTMLToken:Dt,isOutputToken:Ti,isTagToken:_e,isQuotedToken:Dr,isLiteralToken:Ni,isNumberToken:Si,isPropertyAccessToken:Oi,isWordToken:_i,isRangeToken:ki}),Ce=function(){function e(r,n,o){r===void 0&&(r={}),n===void 0&&(n=Oe),o===void 0&&(o={});var a,l,h;this.scopes=[{}],this.registers={},this.sync=!!o.sync,this.opts=n,this.globals=(a=o.globals)!==null&&a!==void 0?a:n.globals,this.environments=r,this.strictVariables=(l=o.strictVariables)!==null&&l!==void 0?l:this.opts.strictVariables,this.ownPropertyOnly=(h=o.ownPropertyOnly)!==null&&h!==void 0?h:n.ownPropertyOnly}return e.prototype.getRegister=function(r){return this.registers[r]=this.registers[r]||{}},e.prototype.setRegister=function(r,n){return this.registers[r]=n},e.prototype.saveRegister=function(){for(var r=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return n.map(function(a){return[a,r.getRegister(a)]})},e.prototype.restoreRegister=function(r){var n=this;return r.forEach(function(o){var a=d(o,2),l=a[0],h=a[1];return n.setRegister(l,h)})},e.prototype.getAll=function(){return y([this.globals,this.environments],d(this.scopes),!1).reduce(function(r,n){return u(r,n)},{})},e.prototype.get=function(r){return this.getSync(r)},e.prototype.getSync=function(r){return we(this._get(r))},e.prototype._get=function(r){var n;return f(this,function(o){switch(o.label){case 0:return n=this.findScope(r[0]),[4,this._getFromScope(n,r)];case 1:return[2,o.sent()]}})},e.prototype.getFromScope=function(r,n){return we(this._getFromScope(r,n))},e.prototype._getFromScope=function(r,n){var o;return f(this,function(a){switch(a.label){case 0:K(n)&&(n=n.split(".")),o=0,a.label=1;case 1:return o<n.length?[4,wp(r,n[o],this.ownPropertyOnly)]:[3,4];case 2:if(r=a.sent(),me(r)&&this.strictVariables)throw new nh(n.slice(0,o+1).join("."));a.label=3;case 3:return o++,[3,1];case 4:return[2,r]}})},e.prototype.push=function(r){return this.scopes.push(r)},e.prototype.pop=function(){return this.scopes.pop()},e.prototype.bottom=function(){return this.scopes[0]},e.prototype.findScope=function(r){for(var n=this.scopes.length-1;n>=0;n--){var o=this.scopes[n];if(r in o)return o}return r in this.environments?this.environments:this.globals},e}();function wp(e,r,n){if(e=Mn(e),me(e))return e;if(X(e)&&r<0)return e[e.length+ +r];var o=bp(e,r,n);return o===void 0&&e instanceof b?e.liquidMethodMissing(r):C(o)?o.call(e):r==="size"?Sp(e):r==="first"?Tp(e):r==="last"?Np(e):o}function bp(e,r,n){if(!(n&&!Object.hasOwnProperty.call(e,r)&&!(e instanceof b)))return e[r]}function Tp(e){return X(e)?e[0]:e.first}function Np(e){return X(e)?e[e.length-1]:e.last}function Sp(e){if(e.hasOwnProperty("size")||e.size!==void 0)return e.size;if(X(e)||K(e))return e.length;if(typeof e=="object")return Object.keys(e).length}var Be;(function(e){e[e.OUTPUT=0]="OUTPUT",e[e.STORE=1]="STORE"})(Be||(Be={}));var Op=oe(Math.abs),_p=oe(Math.max),kp=oe(Math.min),Dp=oe(Math.ceil),Fp=oe(function(e,r,n){return n===void 0&&(n=!1),n?Math.floor(e/r):e/r}),Ep=oe(Math.floor),xp=oe(function(e,r){return e-r}),Ap=oe(function(e,r){return e%r}),Ip=oe(function(e,r){return e*r});function zp(e,r){r===void 0&&(r=0),e=L(e),r=L(r);var n=Math.pow(10,r);return Math.round(e*n)/n}function Rp(e,r){return e=L(e),r=L(r),Number(e)+Number(r)}var Lp=Object.freeze({__proto__:null,abs:Op,at_least:_p,at_most:kp,ceil:Dp,divided_by:Fp,floor:Ep,minus:xp,modulo:Ap,times:Ip,round:zp,plus:Rp}),Mp=function(e){return R(e).split("+").map(decodeURIComponent).join(" ")},jp=function(e){return R(e).split(" ").map(encodeURIComponent).join("+")},Pp=Object.freeze({__proto__:null,url_decode:Mp,url_encode:jp}),Cp=oe(function(e,r){return be(e).join(r===void 0?" ":r)}),Bp=oe(function(e){return X(e)?Pn(e):""}),Up=oe(function(e){return X(e)?e[0]:""}),Vp=oe(function(e){return y([],d(be(e)),!1).reverse()});function $p(e,r){var n,o,a,l,h,m,g,v,T,N,S;return f(this,function(O){switch(O.label){case 0:n=[],O.label=1;case 1:O.trys.push([1,8,9,10]),o=p(be(L(e))),a=o.next(),O.label=2;case 2:return a.done?[3,7]:(l=a.value,m=(h=n).push,g=[l],r?[4,this.context._getFromScope(l,R(r).split("."))]:[3,4]);case 3:return v=O.sent(),[3,5];case 4:v=l,O.label=5;case 5:m.apply(h,[g.concat([v])]),O.label=6;case 6:return a=o.next(),[3,2];case 7:return[3,10];case 8:return T=O.sent(),N={error:T},[3,10];case 9:try{a&&!a.done&&(S=o.return)&&S.call(o)}finally{if(N)throw N.error}return[7];case 10:return[2,n.sort(function(_,D){var B=_[1],M=D[1];return B<M?-1:B>M?1:0}).map(function(_){return _[0]})]}})}function Jp(e,r){e=L(e);var n=R(r),o=r===void 0?Vn:function(a,l){return Vn(a[n],l[n])};return y([],d(be(e)),!1).sort(o)}var Hp=function(e){return e&&e.length||0};function Yp(e,r){var n,o,a,l,h,m,g,v,T;return f(this,function(N){switch(N.label){case 0:n=[],N.label=1;case 1:N.trys.push([1,6,7,8]),o=p(be(L(e))),a=o.next(),N.label=2;case 2:return a.done?[3,5]:(l=a.value,m=(h=n).push,[4,this.context._getFromScope(l,R(r).split("."))]);case 3:m.apply(h,[N.sent()]),N.label=4;case 4:return a=o.next(),[3,2];case 5:return[3,8];case 6:return g=N.sent(),v={error:g},[3,8];case 7:try{a&&!a.done&&(T=o.return)&&T.call(o)}finally{if(v)throw v.error}return[7];case 8:return[2,n]}})}function Wp(e){return e=L(e),be(e).filter(function(r){return!me(L(r))})}function Di(e,r){return r===void 0&&(r=[]),e=L(e),r=be(r).map(function(n){return L(n)}),be(e).concat(r)}function Kp(e,r){return Di(e,[r])}function Gp(e,r,n){return n===void 0&&(n=1),e=L(e),me(e)?[]:(X(e)||(e=R(e)),r=r<0?e.length+r:r,e.slice(r,r+n))}function Qp(e,r,n){var o,a,l,h,m,g,v,T,N,S=this;return f(this,function(O){switch(O.label){case 0:o=[],e=be(L(e)),O.label=1;case 1:O.trys.push([1,6,7,8]),a=p(e),l=a.next(),O.label=2;case 2:return l.done?[3,5]:(h=l.value,g=(m=o).push,[4,this.context._getFromScope(h,R(r).split("."))]);case 3:g.apply(m,[O.sent()]),O.label=4;case 4:return l=a.next(),[3,2];case 5:return[3,8];case 6:return v=O.sent(),T={error:v},[3,8];case 7:try{l&&!l.done&&(N=a.return)&&N.call(a)}finally{if(T)throw T.error}return[7];case 8:return[2,e.filter(function(_,D){return n===void 0?Se(o[D],S.context):le(n)?n.equals(o[D]):o[D]===n})]}})}function Xp(e){e=L(e);var r={};return(e||[]).filter(function(n){return $.call(r,String(n))?!1:(r[String(n)]=!0,!0)})}function Zp(e,r){if(r===void 0&&(r=1),e=L(e),me(e))return[];X(e)||(e=R(e));var n=y([],d(e),!1).sort(function(){return Math.random()-.5});return r===1?n[0]:n.slice(0,r)}var ed=Object.freeze({__proto__:null,join:Cp,last:Bp,first:Up,reverse:Vp,sort:$p,sort_natural:Jp,size:Hp,map:Yp,compact:Wp,concat:Di,push:Kp,slice:Gp,where:Qp,uniq:Xp,sample:Zp});function td(e,r,n){var o=this.context.opts,a;return e=L(e),r=L(r),me(r)?r=o.dateFormat:r=R(r),e==="now"||e==="today"?a=new Date:St(e)?a=new Date(e*1e3):K(e)?/^\d+$/.test(e)?a=new Date(+e*1e3):o.preserveTimezones?a=Ye.createDateFixedToTimezone(e):a=new Date(e):a=e,rd(a)?(n!==void 0?a=new Ye(a,Fi(a,n)):!(a instanceof Ye)&&o.timezoneOffset!==void 0&&(a=new Ye(a,Fi(a,o.timezoneOffset))),qh(a,r)):e}function rd(e){return(e instanceof Date||e instanceof Ye)&&!isNaN(e.getTime())}function Fi(e,r){if(St(r))return r;var n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),o=new Date(e.toLocaleString("en-US",{timeZone:r}));return(n.getTime()-o.getTime())/6e4}var nd=Object.freeze({__proto__:null,date:td});function id(e,r){return ae(arguments.length===2,"append expect 2 arguments"),R(e)+R(r)}function sd(e,r){return ae(arguments.length===2,"prepend expect 2 arguments"),R(r)+R(e)}function od(e,r){return r?(r=dr(R(r)),R(e).replace(new RegExp("^[".concat(r,"]+"),"g"),"")):R(e).replace(/^\s+/,"")}function ud(e){return R(e).toLowerCase()}function ad(e){return R(e).toUpperCase()}function cd(e,r){return R(e).split(String(r)).join("")}function ld(e,r){return R(e).replace(String(r),"")}function fd(e,r){var n=R(e),o=String(r),a=n.lastIndexOf(o);return a===-1?n:n.substring(0,a)+n.substring(a+o.length+1)}function hd(e,r){return r?(r=dr(R(r)),R(e).replace(new RegExp("[".concat(r,"]+$"),"g"),"")):R(e).replace(/\s+$/,"")}function pd(e,r){for(var n=R(e).split(String(r));n.length&&n[n.length-1]==="";)n.pop();return n}function dd(e,r){return r?(r=dr(R(r)),R(e).replace(new RegExp("^[".concat(r,"]+"),"g"),"").replace(new RegExp("[".concat(r,"]+$"),"g"),"")):R(e).trim()}function md(e){return R(e).replace(/\n/g,"")}function gd(e){return e=R(e),e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function yd(e,r,n){return R(e).split(String(r)).join(n)}function vd(e,r,n){return R(e).replace(String(r),n)}function qd(e,r,n){var o=R(e),a=String(r),l=o.lastIndexOf(a);if(l===-1)return o;var h=String(n);return o.substring(0,l)+h+o.substring(l+a.length)}function wd(e,r,n){return r===void 0&&(r=50),n===void 0&&(n="..."),e=R(e),e.length<=r?e:e.substring(0,r-n.length)+n}function bd(e,r,n){r===void 0&&(r=15),n===void 0&&(n="...");var o=R(e).split(/\s+/);r<=0&&(r=1);var a=o.slice(0,r).join(" ");return o.length>=r&&(a+=n),a}var Td=Object.freeze({__proto__:null,append:id,prepend:sd,lstrip:od,downcase:ud,upcase:ad,remove:cd,remove_first:ld,remove_last:fd,rstrip:hd,split:pd,strip:dd,strip_newlines:md,capitalize:gd,replace:yd,replace_first:vd,replace_last:qd,truncate:wd,truncatewords:bd}),Ei=u(u(u(u(u(u(u({},op),Lp),Pp),ed),nd),Td),{json:di,raw:Zh,default:Xh}),xi=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this;return l.key=l.tokenizer.readIdentifier().content,l.tokenizer.assert(l.key,"expected variable name"),l.tokenizer.skipBlank(),l.tokenizer.assert(l.tokenizer.peek()==="=",'expected "="'),l.tokenizer.advance(),l.value=new ge(l.tokenizer.readFilteredValue(),l.liquid),l}return r.prototype.render=function(n){var o,a;return f(this,function(l){switch(l.label){case 0:return o=n.bottom(),a=this.key,[4,this.value.value(n,this.liquid.options.lenientIf)];case 1:return o[a]=l.sent(),[2]}})},r}(W),Ai=["offset","limit","reversed"],Ii=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this,h=l.tokenizer.readIdentifier(),m=l.tokenizer.readIdentifier(),g=l.tokenizer.readValue();if(!h.size()||m.content!=="in"||!g)throw new Error("illegal tag: ".concat(n.getText()));l.variable=h.content,l.collection=g,l.hash=new je(l.tokenizer.remaining()),l.templates=[],l.elseTemplates=[];var v,T=l.liquid.parser.parseStream(o).on("start",function(){return v=l.templates}).on("tag:else",function(){return v=l.elseTemplates}).on("tag:endfor",function(){return T.stop()}).on("template",function(N){return v.push(N)}).on("end",function(){throw new Error("tag ".concat(n.getText()," not closed"))});return T.start(),l}return r.prototype.render=function(n,o){var a,l,h,m,g,v,T,N,S,O,_,D,B;return f(this,function(M){switch(M.label){case 0:return a=this.liquid.renderer,h=vr,[4,Z(this.collection,n)];case 1:return l=h.apply(void 0,[M.sent()]),l.length?[3,3]:[4,a.renderTemplates(this.elseTemplates,n,o)];case 2:return M.sent(),[2];case 3:return m="continue-"+this.variable+"-"+this.collection.getText(),n.push({continue:n.getRegister(m)}),[4,this.hash.render(n)];case 4:g=M.sent(),n.pop(),v=this.liquid.options.orderedFilterParameters?Object.keys(g).filter(function(G){return Ai.includes(G)}):Ai.filter(function(G){return g[G]!==void 0}),l=v.reduce(function(G,ee){return ee==="offset"?Sd(G,g.offset):ee==="limit"?Od(G,g.limit):Nd(G)},l),n.setRegister(m,(g.offset||0)+l.length),T={forloop:new yr(l.length,this.collection.getText(),this.variable)},n.push(T),M.label=5;case 5:M.trys.push([5,10,11,12]),N=p(l),S=N.next(),M.label=6;case 6:return S.done?[3,9]:(O=S.value,T[this.variable]=O,[4,a.renderTemplates(this.templates,n,o)]);case 7:if(M.sent(),o.break)return o.break=!1,[3,9];o.continue=!1,T.forloop.next(),M.label=8;case 8:return S=N.next(),[3,6];case 9:return[3,12];case 10:return _=M.sent(),D={error:_},[3,12];case 11:try{S&&!S.done&&(B=N.return)&&B.call(N)}finally{if(D)throw D.error}return[7];case 12:return n.pop(),[2]}})},r}(W);function Nd(e){return y([],d(e),!1).reverse()}function Sd(e,r){return e.slice(r)}function Od(e,r){return e.slice(0,r)}var zi=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this;for(l.templates=[],l.variable=l.readVariableName();o.length;){var h=o.shift();if(_e(h)&&h.name==="endcapture")return l;l.templates.push(a.parser.parseToken(h,o))}throw new Error("tag ".concat(n.getText()," not closed"))}return r.prototype.render=function(n){var o,a;return f(this,function(l){switch(l.label){case 0:return o=this.liquid.renderer,[4,o.renderTemplates(this.templates,n)];case 1:return a=l.sent(),n.bottom()[this.variable]=a,[2]}})},r.prototype.readVariableName=function(){var n=this.tokenizer.readIdentifier().content;if(n)return n;var o=this.tokenizer.readQuoted();if(o)return _t(o);throw this.tokenizer.error("invalid capture name")},r}(W),Ri=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this;l.branches=[],l.elseTemplates=[],l.value=new ge(l.tokenizer.readFilteredValue(),l.liquid),l.elseTemplates=[];var h=[],m=l.liquid.parser.parseStream(o).on("tag:when",function(g){h=[];for(var v=[];!g.tokenizer.end();)v.push(g.tokenizer.readValueOrThrow()),g.tokenizer.readTo(",");l.branches.push({values:v,templates:h})}).on("tag:else",function(){return h=l.elseTemplates}).on("tag:endcase",function(){return m.stop()}).on("template",function(g){return h.push(g)}).on("end",function(){throw new Error("tag ".concat(n.getText()," not closed"))});return m.start(),l}return r.prototype.render=function(n,o){var a,l,h,m,g,v,T,N,S,O,_,D,B,M,G,ee,he;return f(this,function(P){switch(P.label){case 0:return a=this.liquid.renderer,h=L,[4,this.value.value(n,n.opts.lenientIf)];case 1:l=h.apply(void 0,[P.sent()]),m=!1,P.label=2;case 2:P.trys.push([2,14,15,16]),g=p(this.branches),v=g.next(),P.label=3;case 3:if(v.done)return[3,13];T=v.value,P.label=4;case 4:P.trys.push([4,10,11,12]),N=(ee=void 0,p(T.values)),S=N.next(),P.label=5;case 5:return S.done?[3,9]:(O=S.value,[4,Z(O,n,n.opts.lenientIf)]);case 6:return _=P.sent(),l!==_?[3,8]:[4,a.renderTemplates(T.templates,n,o)];case 7:return P.sent(),m=!0,[3,9];case 8:return S=N.next(),[3,5];case 9:return[3,12];case 10:return D=P.sent(),ee={error:D},[3,12];case 11:try{S&&!S.done&&(he=N.return)&&he.call(N)}finally{if(ee)throw ee.error}return[7];case 12:return v=g.next(),[3,3];case 13:return[3,16];case 14:return B=P.sent(),M={error:B},[3,16];case 15:try{v&&!v.done&&(G=g.return)&&G.call(g)}finally{if(M)throw M.error}return[7];case 16:return m?[3,18]:[4,a.renderTemplates(this.elseTemplates,n,o)];case 17:P.sent(),P.label=18;case 18:return[2]}})},r}(W),Li=function(e){s(r,e);function r(n,o,a){for(var l=e.call(this,n,o,a)||this;o.length;){var h=o.shift();if(_e(h)&&h.name==="endcomment")return l}throw new Error("tag ".concat(n.getText()," not closed"))}return r.prototype.render=function(){},r}(W),Mi=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this,h=l.tokenizer;for(l.file=Fr(h,l.liquid),l.currentFile=n.file;!h.end();){h.skipBlank();var m=h.p,g=h.readIdentifier();if((g.content==="with"||g.content==="for")&&(h.skipBlank(),h.peek()!==":")){var v=h.readValue();if(v){var T=h.p,N=h.readIdentifier(),S=void 0;N.content==="as"?S=h.readIdentifier():h.p=T,l[g.content]={value:v,alias:S&&S.content},h.skipBlank(),h.peek()===","&&h.advance();continue}}h.p=m;break}return l.hash=new je(h.remaining()),l}return r.prototype.render=function(n,o){var a,l,h,m,g,v,T,N,S,B,M,O,_,D,B,M,G,ee,he,P,ts,ot,rs,ot,xr,ns;return f(this,function(te){switch(te.label){case 0:return a=this,l=a.liquid,h=a.hash,[4,Er(this.file,n,l)];case 1:return m=te.sent(),ae(m,function(){return'illegal file path "'.concat(m,'"')}),g=new Ce({},n.opts,{sync:n.sync,globals:n.globals,strictVariables:n.strictVariables}),v=g.bottom(),T=u,N=[v],[4,h.render(n)];case 2:return T.apply(void 0,N.concat([te.sent()])),this.with?(S=this.with,B=S.value,M=S.alias,O=v,_=M||m,[4,Z(B,n)]):[3,4];case 3:O[_]=te.sent(),te.label=4;case 4:return this.for?(D=this.for,B=D.value,M=D.alias,ee=vr,[4,Z(B,n)]):[3,15];case 5:G=ee.apply(void 0,[te.sent()]),v.forloop=new yr(G.length,B.getText(),M),te.label=6;case 6:te.trys.push([6,12,13,14]),he=p(G),P=he.next(),te.label=7;case 7:return P.done?[3,11]:(ts=P.value,v[M]=ts,[4,l._parsePartialFile(m,g.sync,this.currentFile)]);case 8:return ot=te.sent(),[4,l.renderer.renderTemplates(ot,g,o)];case 9:te.sent(),v.forloop.next(),te.label=10;case 10:return P=he.next(),[3,7];case 11:return[3,14];case 12:return rs=te.sent(),xr={error:rs},[3,14];case 13:try{P&&!P.done&&(ns=he.return)&&ns.call(he)}finally{if(xr)throw xr.error}return[7];case 14:return[3,18];case 15:return[4,l._parsePartialFile(m,g.sync,this.currentFile)];case 16:return ot=te.sent(),[4,l.renderer.renderTemplates(ot,g,o)];case 17:te.sent(),te.label=18;case 18:return[2]}})},r}(W);function Fr(e,r){if(r.options.dynamicPartials){var n=e.readValue();if(e.assert(n,"illegal file path"),n.getText()==="none")return;if(Dr(n)){var o=r.parse(_t(n));return ji(o)}return n}var a=y([],d(e.readFileNameTemplate(r.options)),!1),l=ji(r.parser.parseTokens(a));return l==="none"?void 0:l}function ji(e){return e.length===1&&Dt(e[0].token)?e[0].token.getContent():e}function Er(e,r,n){return f(this,function(o){switch(o.label){case 0:return typeof e=="string"?[2,e]:Array.isArray(e)?[2,n.renderer.renderTemplates(e,r)]:[4,Z(e,r)];case 1:return[2,o.sent()]}})}var Pi=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this,h=n.tokenizer;l.file=Fr(h,l.liquid),l.currentFile=n.file;var m=h.p,g=h.readIdentifier();return g.content==="with"?(h.skipBlank(),h.peek()!==":"?l.withVar=h.readValue():h.p=m):h.p=m,l.hash=new je(h.remaining(),l.liquid.options.jekyllInclude),l}return r.prototype.render=function(n,o){var a,l,h,m,g,v,T,N,S,O,_;return f(this,function(D){switch(D.label){case 0:return a=this,l=a.liquid,h=a.hash,m=a.withVar,g=l.renderer,[4,Er(this.file,n,l)];case 1:return v=D.sent(),ae(v,function(){return'illegal file path "'.concat(v,'"')}),T=n.saveRegister("blocks","blockMode"),n.setRegister("blocks",{}),n.setRegister("blockMode",Be.OUTPUT),[4,h.render(n)];case 2:return N=D.sent(),m?(S=N,O=v,[4,Z(m,n)]):[3,4];case 3:S[O]=D.sent(),D.label=4;case 4:return[4,l._parsePartialFile(v,n.sync,this.currentFile)];case 5:return _=D.sent(),n.push(n.opts.jekyllInclude?{include:N}:N),[4,g.renderTemplates(_,n,o)];case 6:return D.sent(),n.pop(),n.restoreRegister(T),[2]}})},r}(W),Ci=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this;return l.variable=l.tokenizer.readIdentifier().content,l}return r.prototype.render=function(n,o){var a=n.environments;St(a[this.variable])||(a[this.variable]=0),o.write(R(--a[this.variable]))},r}(W),Bi=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this;l.candidates=[];var h=l.tokenizer.readValue();for(l.tokenizer.skipBlank(),h&&(l.tokenizer.peek()===":"?(l.group=h,l.tokenizer.advance()):l.candidates.push(h));!l.tokenizer.end();){var m=l.tokenizer.readValue();m&&l.candidates.push(m),l.tokenizer.readTo(",")}return l.tokenizer.assert(l.candidates.length,function(){return'empty candidates: "'.concat(n.getText(),'"')}),l}return r.prototype.render=function(n,o){var a,l,h,m,g;return f(this,function(v){switch(v.label){case 0:return[4,Z(this.group,n)];case 1:return a=v.sent(),l="cycle:".concat(a,":")+this.candidates.join(","),h=n.getRegister("cycle"),m=h[l],m===void 0&&(m=h[l]=0),g=this.candidates[m],m=(m+1)%this.candidates.length,h[l]=m,[4,Z(g,n)];case 2:return[2,v.sent()]}})},r}(W),Ui=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this;l.branches=[],l.elseTemplates=[];var h;return a.parser.parseStream(o).on("start",function(){return l.branches.push({value:new ge(n.args,l.liquid),templates:h=[]})}).on("tag:elsif",function(m){return l.branches.push({value:new ge(m.args,l.liquid),templates:h=[]})}).on("tag:else",function(){return h=l.elseTemplates}).on("tag:endif",function(){this.stop()}).on("template",function(m){return h.push(m)}).on("end",function(){throw new Error("tag ".concat(n.getText()," not closed"))}).start(),l}return r.prototype.render=function(n,o){var a,l,h,m,g,v,T,N,S,O;return f(this,function(_){switch(_.label){case 0:a=this.liquid.renderer,_.label=1;case 1:_.trys.push([1,7,8,9]),l=p(this.branches),h=l.next(),_.label=2;case 2:return h.done?[3,6]:(m=h.value,g=m.value,v=m.templates,[4,g.value(n,n.opts.lenientIf)]);case 3:return T=_.sent(),Se(T,n)?[4,a.renderTemplates(v,n,o)]:[3,5];case 4:return _.sent(),[2];case 5:return h=l.next(),[3,2];case 6:return[3,9];case 7:return N=_.sent(),S={error:N},[3,9];case 8:try{h&&!h.done&&(O=l.return)&&O.call(l)}finally{if(S)throw S.error}return[7];case 9:return[4,a.renderTemplates(this.elseTemplates,n,o)];case 10:return _.sent(),[2]}})},r}(W),Vi=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this;return l.variable=l.tokenizer.readIdentifier().content,l}return r.prototype.render=function(n,o){var a=n.environments;St(a[this.variable])||(a[this.variable]=0);var l=a[this.variable];a[this.variable]++,o.write(R(l))},r}(W),$i=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this;return l.file=Fr(l.tokenizer,l.liquid),l.currentFile=n.file,l.args=new je(l.tokenizer.remaining()),l.templates=l.liquid.parser.parseTokens(o),l}return r.prototype.render=function(n,o){var a,l,h,m,g,v,T,N,S,O,_;return f(this,function(D){switch(D.label){case 0:return a=this,l=a.liquid,h=a.args,m=a.file,g=l.renderer,m!==void 0?[3,2]:(n.setRegister("blockMode",Be.OUTPUT),[4,g.renderTemplates(this.templates,n,o)]);case 1:return D.sent(),[2];case 2:return[4,Er(this.file,n,l)];case 3:return v=D.sent(),ae(v,function(){return'illegal file path "'.concat(v,'"')}),[4,l._parseLayoutFile(v,n.sync,this.currentFile)];case 4:return T=D.sent(),n.setRegister("blockMode",Be.STORE),[4,g.renderTemplates(this.templates,n)];case 5:return N=D.sent(),S=n.getRegister("blocks"),S[""]===void 0&&(S[""]=function(B,M){return M.write(N)}),n.setRegister("blockMode",Be.OUTPUT),_=(O=n).push,[4,h.render(n)];case 6:return _.apply(O,[D.sent()]),[4,g.renderTemplates(T,n,o)];case 7:return D.sent(),n.pop(),[2]}})},r}(W),Ji=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this;l.templates=[];var h=/\w+/.exec(n.args);for(l.block=h?h[0]:"";o.length;){var m=o.shift();if(_e(m)&&m.name==="endblock")return l;var g=a.parser.parseToken(m,o);l.templates.push(g)}throw new Error("tag ".concat(n.getText()," not closed"))}return r.prototype.render=function(n,o){var a;return f(this,function(l){switch(l.label){case 0:return a=this.getBlockRender(n),n.getRegister("blockMode")!==Be.STORE?[3,1]:(n.getRegister("blocks")[this.block]=a,[3,3]);case 1:return[4,a(new Qn,o)];case 2:l.sent(),l.label=3;case 3:return[2]}})},r.prototype.getBlockRender=function(n){var o=this,a=o.liquid,l=o.templates,h=n.getRegister("blocks")[this.block],m=function(g,v){return f(this,function(T){switch(T.label){case 0:return n.push({block:g}),[4,a.renderer.renderTemplates(l,n,v)];case 1:return T.sent(),n.pop(),[2]}})};return h?function(g,v){return h(new Qn(function(){return m(g,v)}),v)}:m},r}(W),Hi=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this;for(l.tokens=[];o.length;){var h=o.shift();if(_e(h)&&h.name==="endraw")return l;l.tokens.push(h)}throw new Error("tag ".concat(n.getText()," not closed"))}return r.prototype.render=function(){return this.tokens.map(function(n){return n.getText()}).join("")},r}(W),_d=function(e){s(r,e);function r(n,o,a,l){var h=e.call(this,n,a,l)||this;return h.length=n,h.cols=o,h}return r.prototype.row=function(){return Math.floor(this.i/this.cols)+1},r.prototype.col0=function(){return this.i%this.cols},r.prototype.col=function(){return this.col0()+1},r.prototype.col_first=function(){return this.col0()===0},r.prototype.col_last=function(){return this.col()===this.cols},r}(yr),Yi=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this,h=l.tokenizer.readIdentifier();l.tokenizer.skipBlank();var m=l.tokenizer.readIdentifier(),g=l.tokenizer.readValue();if(m.content!=="in"||!g)throw new Error("illegal tag: ".concat(n.getText()));l.variable=h.content,l.collection=g,l.args=new je(l.tokenizer.remaining()),l.templates=[];var v,T=l.liquid.parser.parseStream(o).on("start",function(){return v=l.templates}).on("tag:endtablerow",function(){return T.stop()}).on("template",function(N){return v.push(N)}).on("end",function(){throw new Error("tag ".concat(n.getText()," not closed"))});return T.start(),l}return r.prototype.render=function(n,o){var a,l,h,m,g,v,T,N,S,O;return f(this,function(_){switch(_.label){case 0:return l=vr,[4,Z(this.collection,n)];case 1:return a=l.apply(void 0,[_.sent()]),[4,this.args.render(n)];case 2:h=_.sent(),m=h.offset||0,g=h.limit===void 0?a.length:h.limit,a=a.slice(m,m+g),v=h.cols||a.length,T=this.liquid.renderer,N=new _d(a.length,v,this.collection.getText(),this.variable),S={tablerowloop:N},n.push(S),O=0,_.label=3;case 3:return O<a.length?(S[this.variable]=a[O],N.col0()===0&&(N.row()!==1&&o.write("</tr>"),o.write('<tr class="row'.concat(N.row(),'">'))),o.write('<td class="col'.concat(N.col(),'">')),[4,T.renderTemplates(this.templates,n,o)]):[3,6];case 4:_.sent(),o.write("</td>"),_.label=5;case 5:return O++,N.next(),[3,3];case 6:return a.length&&o.write("</tr>"),n.pop(),[2]}})},r}(W),Wi=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this;l.branches=[],l.elseTemplates=[];var h;return l.liquid.parser.parseStream(o).on("start",function(){return l.branches.push({value:new ge(n.args,l.liquid),test:st,templates:h=[]})}).on("tag:elsif",function(m){return l.branches.push({value:new ge(m.args,l.liquid),test:Se,templates:h=[]})}).on("tag:else",function(){return h=l.elseTemplates}).on("tag:endunless",function(){this.stop()}).on("template",function(m){return h.push(m)}).on("end",function(){throw new Error("tag ".concat(n.getText()," not closed"))}).start(),l}return r.prototype.render=function(n,o){var a,l,h,m,g,v,T,N,S,O,_;return f(this,function(D){switch(D.label){case 0:a=this.liquid.renderer,D.label=1;case 1:D.trys.push([1,7,8,9]),l=p(this.branches),h=l.next(),D.label=2;case 2:return h.done?[3,6]:(m=h.value,g=m.value,v=m.test,T=m.templates,[4,g.value(n,n.opts.lenientIf)]);case 3:return N=D.sent(),v(N,n)?[4,a.renderTemplates(T,n,o)]:[3,5];case 4:return D.sent(),[2];case 5:return h=l.next(),[3,2];case 6:return[3,9];case 7:return S=D.sent(),O={error:S},[3,9];case 8:try{h&&!h.done&&(_=l.return)&&_.call(l)}finally{if(O)throw O.error}return[7];case 9:return[4,a.renderTemplates(this.elseTemplates,n,o)];case 10:return D.sent(),[2]}})},r}(W),Ki=function(e){s(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.render=function(n,o){o.break=!0},r}(W),Gi=function(e){s(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.render=function(n,o){o.continue=!0},r}(W),Qi=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this;return l.tokenizer.skipBlank(),l.tokenizer.end()||(l.value=new ge(l.tokenizer.readFilteredValue(),l.liquid)),l}return r.prototype.render=function(n,o){var a;return f(this,function(l){switch(l.label){case 0:return this.value?[4,this.value.value(n,!1)]:[2];case 1:return a=l.sent(),o.write(a),[2]}})},r}(W),Xi=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this,h=l.tokenizer.readLiquidTagTokens(l.liquid.options);return l.templates=l.liquid.parser.parseTokens(h),l}return r.prototype.render=function(n,o){return f(this,function(a){switch(a.label){case 0:return[4,this.liquid.renderer.renderTemplates(this.templates,n,o)];case 1:return a.sent(),[2]}})},r}(W),Zi=function(e){s(r,e);function r(n,o,a){var l=e.call(this,n,o,a)||this;if(n.args.search(/\n\s*[^#\s]/g)!==-1)throw new Error("every line of an inline comment must start with a '#' character");return l}return r.prototype.render=function(){},r}(W),es={assign:xi,for:Ii,capture:zi,case:Ri,comment:Li,include:Pi,render:Mi,decrement:Ci,increment:Vi,cycle:Bi,if:Ui,layout:$i,block:Ji,raw:Hi,tablerow:Yi,unless:Wi,break:Ki,continue:Gi,echo:Qi,liquid:Xi,"#":Zi},kd=function(){function e(r){r===void 0&&(r={});var n=this;this.renderer=new Mh,this.filters={},this.tags={},this.options=up(r),this.parser=new yp(this),jn(es,function(o,a){return n.registerTag(a,o)}),jn(Ei,function(o,a){return n.registerFilter(a,o)})}return e.prototype.parse=function(r,n){return this.parser.parse(r,n)},e.prototype._render=function(r,n,o){var a=n instanceof Ce?n:new Ce(n,this.options,o);return this.renderer.renderTemplates(r,a)},e.prototype.render=function(r,n,o){return c(this,void 0,void 0,function(){return f(this,function(a){return[2,qe(this._render(r,n,u(u({},o),{sync:!1})))]})})},e.prototype.renderSync=function(r,n,o){return we(this._render(r,n,u(u({},o),{sync:!0})))},e.prototype.renderToNodeStream=function(r,n,o){o===void 0&&(o={});var a=new Ce(n,this.options,o);return this.renderer.renderTemplatesToNodeStream(r,a)},e.prototype._parseAndRender=function(r,n,o){var a=this.parse(r);return this._render(a,n,o)},e.prototype.parseAndRender=function(r,n,o){return c(this,void 0,void 0,function(){return f(this,function(a){return[2,qe(this._parseAndRender(r,n,u(u({},o),{sync:!1})))]})})},e.prototype.parseAndRenderSync=function(r,n,o){return we(this._parseAndRender(r,n,u(u({},o),{sync:!0})))},e.prototype._parsePartialFile=function(r,n,o){return this.parser.parseFile(r,n,Pe.Partials,o)},e.prototype._parseLayoutFile=function(r,n,o){return this.parser.parseFile(r,n,Pe.Layouts,o)},e.prototype._parseFile=function(r,n,o,a){return this.parser.parseFile(r,n,o,a)},e.prototype.parseFile=function(r,n){return c(this,void 0,void 0,function(){return f(this,function(o){return[2,qe(this.parser.parseFile(r,!1,n))]})})},e.prototype.parseFileSync=function(r,n){return we(this.parser.parseFile(r,!0,n))},e.prototype._renderFile=function(r,n,o){var a;return f(this,function(l){switch(l.label){case 0:return[4,this._parseFile(r,o.sync,o.lookupType)];case 1:return a=l.sent(),[4,this._render(a,n,o)];case 2:return[2,l.sent()]}})},e.prototype.renderFile=function(r,n,o){return c(this,void 0,void 0,function(){return f(this,function(a){return[2,qe(this._renderFile(r,n,u(u({},o),{sync:!1})))]})})},e.prototype.renderFileSync=function(r,n,o){return we(this._renderFile(r,n,u(u({},o),{sync:!0})))},e.prototype.renderFileToNodeStream=function(r,n,o){return c(this,void 0,void 0,function(){var a;return f(this,function(l){switch(l.label){case 0:return[4,this.parseFile(r)];case 1:return a=l.sent(),[2,this.renderToNodeStream(a,n,o)]}})})},e.prototype._evalValue=function(r,n){var o=new ge(r,this),a=n instanceof Ce?n:new Ce(n,this.options);return o.value(a)},e.prototype.evalValue=function(r,n){return c(this,void 0,void 0,function(){return f(this,function(o){return[2,qe(this._evalValue(r,n))]})})},e.prototype.evalValueSync=function(r,n){return we(this._evalValue(r,n))},e.prototype.registerFilter=function(r,n){this.filters[r]=n},e.prototype.registerTag=function(r,n){this.tags[r]=C(n)?n:pp(n)},e.prototype.plugin=function(r){return r.call(this,e)},e.prototype.express=function(){var r=this,n=!0;return function(o,a,l){var h,m,g;if(n){n=!1;var v=kt(this.root);(h=r.options.root).unshift.apply(h,y([],d(v),!1)),(m=r.options.layouts).unshift.apply(m,y([],d(v),!1)),(g=r.options.partials).unshift.apply(g,y([],d(v),!1))}r.renderFile(o,a).then(function(T){return l(null,T)},l)}},e}(),Dd="10.8.2";t.AssertionError=Yn,t.AssignTag=xi,t.BlockTag=Ji,t.BreakTag=Ki,t.CaptureTag=zi,t.CaseTag=Ri,t.CommentTag=Li,t.Context=Ce,t.ContinueTag=Gi,t.CycleTag=Bi,t.DecrementTag=Ci,t.Drop=b,t.EchoTag=Qi,t.Expression=li,t.Filter=_r,t.ForTag=Ii,t.Hash=je,t.IfTag=Ui,t.IncludeTag=Pi,t.IncrementTag=Vi,t.InlineCommentTag=Zi,t.LayoutTag=$i,t.Liquid=kd,t.LiquidError=Je,t.LiquidTag=Xi,t.Output=gi,t.ParseError=Jn,t.ParseStream=mi,t.RawTag=Hi,t.RenderError=mr,t.RenderTag=Mi,t.TablerowTag=Yi,t.Tag=W,t.TagToken=br,t.TimezoneDate=Ye,t.Token=w,t.TokenizationError=$n,t.Tokenizer=Me,t.TypeGuards=qp,t.UndefinedVariableError=Hn,t.UnlessTag=Wi,t.Value=ge,t.assert=ae,t.createTrie=ei,t.defaultOperators=fi,t.defaultOptions=Oe,t.evalQuotedToken=_t,t.evalToken=Z,t.filters=Ei,t.isFalsy=st,t.isTruthy=Se,t.tags=es,t.toPromise=qe,t.toValue=L,t.toValueSync=we,t.version=Dd,Object.defineProperty(t,"__esModule",{value:!0})})});var Qb=q((DS,zn)=>{var{DataFrame:Qf,isArray:Yb,isUndefined:Wb,Series:Kb}=Wf(),{Liquid:Gb}=Gf(),Xf=new Gb;String.prototype.replaceAll||(String.prototype.replaceAll=function(t,i){return this.split(t).join(i)});function In(t){return t.split(/[^\s]/g)[0]}var Rn={date:{toGTDateObject(t){let i={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes()};return Rn.object.toAssociation(i)}},object:{toAssociation(t){function i(s){let u=typeof s;if(u==="string")return JSON.stringify(s);if(u==="number")return s;if(u==="boolean")return JSON.stringify(s.toString());if(u==="function")return JSON.stringify("<function>");if(u==="undefined")return JSON.stringify("undefined");if(s===null)return JSON.stringify("null");if(s instanceof Array)return"["+s.map(c=>i(c)).join(", ")+"]";{let c=[];return Object.keys(s).forEach(f=>{let p=i(s[f]);c.push('"'+f+'" -> '+p)}),"{ "+c.join(", ")+" }"}}return i(t)}},template:{registerLiquidFilter(t,i){Xf.registerFilter(t,i)},async liquidBuild(t,i){return await Xf.parseAndRender(t,i)}},program:{extractQuestions(t){let i=["after","answers","before","blank","confirm","countdown","date","default","max","min","multiple","question","save","shuffle","tags","throwaway","time","tip","type"],s=t.split(`
`),u=[];if(s.forEach((f,p)=>{let d=/^\s* \s*[^\s]/g;if(f.match(d))throw new Error(`GT programs must be indented with spaces only! The indentation of line ${p+1} in your program includes spaces!`);if(f.trim().startsWith("*question:")){let y={question:f.replace("*question: ","").trim()},w=In(f),b=(()=>{let x=s.findIndex(($,K)=>K>p&&In($).length<=w.length&&$.trim().length>0);return x<0?s.length:x})(),E=s.slice(p+1,b).filter(x=>In(x)===w+"	");E.length>0&&E.forEach(x=>{x=x.trim();let $=!1;i.forEach(K=>{if(!$&&x.startsWith("*"+K)){$=!0;let C=(()=>{if(x.includes(":")){let Le=x.split(":").slice(1).join(":").trim();try{return JSON.parse(Le)}catch{return Le}}else return!0})();y[K]=C}}),$||(y.answers||(y.answers=[]),y.answers instanceof Array&&y.answers.push(x))}),Wb(y.type)&&(y.answers?y.type="choice":y.type="text"),u.push(y)}}),u.length===0){let f=new Qf([i.map(()=>{})]);return f.columns=i,f}let c=new Qf(u.map(f=>i.map(p=>{let d=f[p];return Yb(d)?JSON.stringify(d):d})));return c.columns=i,c=c.get(null,["question"].concat(i.filter(f=>f!=="question"))),c instanceof Kb?c.toDataFrame().transpose():c}}};typeof zn<"u"&&(zn.exports=Rn);typeof window<"u"&&(window.gt=Rn)});Qb();})();
